function _mergeNamespaces($,_e){for(var et=0;et<_e.length;et++){const tt=_e[et];if(typeof tt!="string"&&!Array.isArray(tt)){for(const ct in tt)if(ct!=="default"&&!(ct in $)){const pt=Object.getOwnPropertyDescriptor(tt,ct);pt&&Object.defineProperty($,ct,pt.get?pt:{enumerable:!0,get:()=>tt[ct]})}}}return Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const ct of document.querySelectorAll('link[rel="modulepreload"]'))tt(ct);new MutationObserver(ct=>{for(const pt of ct)if(pt.type==="childList")for(const vt of pt.addedNodes)vt.tagName==="LINK"&&vt.rel==="modulepreload"&&tt(vt)}).observe(document,{childList:!0,subtree:!0});function et(ct){const pt={};return ct.integrity&&(pt.integrity=ct.integrity),ct.referrerpolicy&&(pt.referrerPolicy=ct.referrerpolicy),ct.crossorigin==="use-credentials"?pt.credentials="include":ct.crossorigin==="anonymous"?pt.credentials="omit":pt.credentials="same-origin",pt}function tt(ct){if(ct.ep)return;ct.ep=!0;const pt=et(ct);fetch(ct.href,pt)}})();function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){var _e=$.default;if(typeof _e=="function"){var et=function tt(){if(this instanceof tt){var ct=[null];ct.push.apply(ct,arguments);var pt=Function.bind.apply(_e,ct);return new pt}return _e.apply(this,arguments)};et.prototype=_e.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys($).forEach(function(tt){var ct=Object.getOwnPropertyDescriptor($,tt);Object.defineProperty(et,tt,ct.get?ct:{enumerable:!0,get:function(){return $[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};var l$5=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3($){return $===null||typeof $!="object"?null:($=z$3&&$[z$3]||$["@@iterator"],typeof $=="function"?$:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$2($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function($,_e){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,_e,"setState")};E$2.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2($,_e,et){this.props=$,this.context=_e,this.refs=D$2,this.updater=et||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$1(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2($,_e,et){var tt,ct={},pt=null,vt=null;if(_e!=null)for(tt in _e.ref!==void 0&&(vt=_e.ref),_e.key!==void 0&&(pt=""+_e.key),_e)J.call(_e,tt)&&!L$2.hasOwnProperty(tt)&&(ct[tt]=_e[tt]);var ut=arguments.length-2;if(ut===1)ct.children=et;else if(1<ut){for(var nt=Array(ut),lt=0;lt<ut;lt++)nt[lt]=arguments[lt+2];ct.children=nt}if($&&$.defaultProps)for(tt in ut=$.defaultProps,ut)ct[tt]===void 0&&(ct[tt]=ut[tt]);return{$$typeof:l$5,type:$,key:pt,ref:vt,props:ct,_owner:K$1.current}}function N$2($,_e){return{$$typeof:l$5,type:$.type,key:_e,ref:$.ref,props:$.props,_owner:$._owner}}function O$2($){return typeof $=="object"&&$!==null&&$.$$typeof===l$5}function escape($){var _e={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(et){return _e[et]})}var P$2=/\/+/g;function Q$2($,_e){return typeof $=="object"&&$!==null&&$.key!=null?escape(""+$.key):_e.toString(36)}function R$2($,_e,et,tt,ct){var pt=typeof $;(pt==="undefined"||pt==="boolean")&&($=null);var vt=!1;if($===null)vt=!0;else switch(pt){case"string":case"number":vt=!0;break;case"object":switch($.$$typeof){case l$5:case n$6:vt=!0}}if(vt)return vt=$,ct=ct(vt),$=tt===""?"."+Q$2(vt,0):tt,I$2(ct)?(et="",$!=null&&(et=$.replace(P$2,"$&/")+"/"),R$2(ct,_e,et,"",function(lt){return lt})):ct!=null&&(O$2(ct)&&(ct=N$2(ct,et+(!ct.key||vt&&vt.key===ct.key?"":(""+ct.key).replace(P$2,"$&/")+"/")+$)),_e.push(ct)),1;if(vt=0,tt=tt===""?".":tt+":",I$2($))for(var ut=0;ut<$.length;ut++){pt=$[ut];var nt=tt+Q$2(pt,ut);vt+=R$2(pt,_e,et,nt,ct)}else if(nt=A$3($),typeof nt=="function")for($=nt.call($),ut=0;!(pt=$.next()).done;)pt=pt.value,nt=tt+Q$2(pt,ut++),vt+=R$2(pt,_e,et,nt,ct);else if(pt==="object")throw _e=String($),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return vt}function S$2($,_e,et){if($==null)return $;var tt=[],ct=0;return R$2($,tt,"","",function(pt){return _e.call(et,pt,ct++)}),tt}function T$1($){if($._status===-1){var _e=$._result;_e=_e(),_e.then(function(et){($._status===0||$._status===-1)&&($._status=1,$._result=et)},function(et){($._status===0||$._status===-1)&&($._status=2,$._result=et)}),$._status===-1&&($._status=0,$._result=_e)}if($._status===1)return $._result.default;throw $._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function($,_e,et){S$2($,function(){_e.apply(this,arguments)},et)},count:function($){var _e=0;return S$2($,function(){_e++}),_e},toArray:function($){return S$2($,function(_e){return _e})||[]},only:function($){if(!O$2($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function($,_e,et){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var tt=C$1({},$.props),ct=$.key,pt=$.ref,vt=$._owner;if(_e!=null){if(_e.ref!==void 0&&(pt=_e.ref,vt=K$1.current),_e.key!==void 0&&(ct=""+_e.key),$.type&&$.type.defaultProps)var ut=$.type.defaultProps;for(nt in _e)J.call(_e,nt)&&!L$2.hasOwnProperty(nt)&&(tt[nt]=_e[nt]===void 0&&ut!==void 0?ut[nt]:_e[nt])}var nt=arguments.length-2;if(nt===1)tt.children=et;else if(1<nt){ut=Array(nt);for(var lt=0;lt<nt;lt++)ut[lt]=arguments[lt+2];tt.children=ut}return{$$typeof:l$5,type:$.type,key:ct,ref:pt,props:tt,_owner:vt}};react_production_min.createContext=function($){return $={$$typeof:u$4,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$5,_context:$},$.Consumer=$};react_production_min.createElement=M$2;react_production_min.createFactory=function($){var _e=M$2.bind(null,$);return _e.type=$,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$5,render:$}};react_production_min.isValidElement=O$2;react_production_min.lazy=function($){return{$$typeof:y$2,_payload:{_status:-1,_result:$},_init:T$1}};react_production_min.memo=function($,_e){return{$$typeof:x$2,type:$,compare:_e===void 0?null:_e}};react_production_min.startTransition=function($){var _e=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=_e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function($,_e){return U$2.current.useCallback($,_e)};react_production_min.useContext=function($){return U$2.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$2.current.useDeferredValue($)};react_production_min.useEffect=function($,_e){return U$2.current.useEffect($,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function($,_e,et){return U$2.current.useImperativeHandle($,_e,et)};react_production_min.useInsertionEffect=function($,_e){return U$2.current.useInsertionEffect($,_e)};react_production_min.useLayoutEffect=function($,_e){return U$2.current.useLayoutEffect($,_e)};react_production_min.useMemo=function($,_e){return U$2.current.useMemo($,_e)};react_production_min.useReducer=function($,_e,et){return U$2.current.useReducer($,_e,et)};react_production_min.useRef=function($){return U$2.current.useRef($)};react_production_min.useState=function($){return U$2.current.useState($)};react_production_min.useSyncExternalStore=function($,_e,et){return U$2.current.useSyncExternalStore($,_e,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function($){$.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports),React$1=_mergeNamespaces({__proto__:null,default:React},[react.exports]);var f$3=react.exports,k$4=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$5=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$5($,_e,et){var tt,ct={},pt=null,vt=null;et!==void 0&&(pt=""+et),_e.key!==void 0&&(pt=""+_e.key),_e.ref!==void 0&&(vt=_e.ref);for(tt in _e)m$5.call(_e,tt)&&!p$6.hasOwnProperty(tt)&&(ct[tt]=_e[tt]);if($&&$.defaultProps)for(tt in _e=$.defaultProps,_e)ct[tt]===void 0&&(ct[tt]=_e[tt]);return{$$typeof:k$4,type:$,key:pt,ref:vt,props:ct,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;(function($){$.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};(function($){function _e(Ft,xt){var bt=Ft.length;Ft.push(xt);e:for(;0<bt;){var Ot=bt-1>>>1,Et=Ft[Ot];if(0<ct(Et,xt))Ft[Ot]=xt,Ft[bt]=Et,bt=Ot;else break e}}function et(Ft){return Ft.length===0?null:Ft[0]}function tt(Ft){if(Ft.length===0)return null;var xt=Ft[0],bt=Ft.pop();if(bt!==xt){Ft[0]=bt;e:for(var Ot=0,Et=Ft.length,$t=Et>>>1;Ot<$t;){var kt=2*(Ot+1)-1,Ct=Ft[kt],Pt=kt+1,jt=Ft[Pt];if(0>ct(Ct,bt))Pt<Et&&0>ct(jt,Ct)?(Ft[Ot]=jt,Ft[Pt]=bt,Ot=Pt):(Ft[Ot]=Ct,Ft[kt]=bt,Ot=kt);else if(Pt<Et&&0>ct(jt,bt))Ft[Ot]=jt,Ft[Pt]=bt,Ot=Pt;else break e}}return xt}function ct(Ft,xt){var bt=Ft.sortIndex-xt.sortIndex;return bt!==0?bt:Ft.id-xt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var pt=performance;$.unstable_now=function(){return pt.now()}}else{var vt=Date,ut=vt.now();$.unstable_now=function(){return vt.now()-ut}}var nt=[],lt=[],ft=1,it=null,ot=3,rt=!1,st=!1,ht=!1,at=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(Ft){for(var xt=et(lt);xt!==null;){if(xt.callback===null)tt(lt);else if(xt.startTime<=Ft)tt(lt),xt.sortIndex=xt.expirationTime,_e(nt,xt);else break;xt=et(lt)}}function yt(Ft){if(ht=!1,mt(Ft),!st)if(et(nt)!==null)st=!0,Jt(_t);else{var xt=et(lt);xt!==null&&sn(yt,xt.startTime-Ft)}}function _t(Ft,xt){st=!1,ht&&(ht=!1,dt(Tt),Tt=-1),rt=!0;var bt=ot;try{for(mt(xt),it=et(nt);it!==null&&(!(it.expirationTime>xt)||Ft&&!Ht());){var Ot=it.callback;if(typeof Ot=="function"){it.callback=null,ot=it.priorityLevel;var Et=Ot(it.expirationTime<=xt);xt=$.unstable_now(),typeof Et=="function"?it.callback=Et:it===et(nt)&&tt(nt),mt(xt)}else tt(nt);it=et(nt)}if(it!==null)var $t=!0;else{var kt=et(lt);kt!==null&&sn(yt,kt.startTime-xt),$t=!1}return $t}finally{it=null,ot=bt,rt=!1}}var wt=!1,St=null,Tt=-1,Dt=5,Mt=-1;function Ht(){return!($.unstable_now()-Mt<Dt)}function Gt(){if(St!==null){var Ft=$.unstable_now();Mt=Ft;var xt=!0;try{xt=St(!0,Ft)}finally{xt?Zt():(wt=!1,St=null)}}else wt=!1}var Zt;if(typeof gt=="function")Zt=function(){gt(Gt)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,Kt=Yt.port2;Yt.port1.onmessage=Gt,Zt=function(){Kt.postMessage(null)}}else Zt=function(){at(Gt,0)};function Jt(Ft){St=Ft,wt||(wt=!0,Zt())}function sn(Ft,xt){Tt=at(function(){Ft($.unstable_now())},xt)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Ft){Ft.callback=null},$.unstable_continueExecution=function(){st||rt||(st=!0,Jt(_t))},$.unstable_forceFrameRate=function(Ft){0>Ft||125<Ft?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<Ft?Math.floor(1e3/Ft):5},$.unstable_getCurrentPriorityLevel=function(){return ot},$.unstable_getFirstCallbackNode=function(){return et(nt)},$.unstable_next=function(Ft){switch(ot){case 1:case 2:case 3:var xt=3;break;default:xt=ot}var bt=ot;ot=xt;try{return Ft()}finally{ot=bt}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Ft,xt){switch(Ft){case 1:case 2:case 3:case 4:case 5:break;default:Ft=3}var bt=ot;ot=Ft;try{return xt()}finally{ot=bt}},$.unstable_scheduleCallback=function(Ft,xt,bt){var Ot=$.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?Ot+bt:Ot):bt=Ot,Ft){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=bt+Et,Ft={id:ft++,callback:xt,priorityLevel:Ft,startTime:bt,expirationTime:Et,sortIndex:-1},bt>Ot?(Ft.sortIndex=bt,_e(lt,Ft),et(nt)===null&&Ft===et(lt)&&(ht?(dt(Tt),Tt=-1):ht=!0,sn(yt,bt-Ot))):(Ft.sortIndex=Et,_e(nt,Ft),st||rt||(st=!0,Jt(_t))),Ft},$.unstable_shouldYield=Ht,$.unstable_wrapCallback=function(Ft){var xt=ot;return function(){var bt=ot;ot=xt;try{return Ft.apply(this,arguments)}finally{ot=bt}}}})(scheduler_production_min);(function($){$.exports=scheduler_production_min})(scheduler);var aa=react.exports,ca=scheduler.exports;function p$5($){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+$,et=1;et<arguments.length;et++)_e+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+$+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,_e){ha($,_e),ha($+"Capture",_e)}function ha($,_e){for(ea[$]=_e,$=0;$<_e.length;$++)da.add(_e[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,_e,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,_e,et,tt){if(_e===null||typeof _e>"u"||pa($,_e,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$4($,_e,et,tt,ct,pt,vt){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=tt,this.attributeNamespace=ct,this.mustUseProperty=et,this.propertyName=$,this.type=_e,this.sanitizeURL=pt,this.removeEmptyString=vt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z$2[$]=new v$4($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var _e=$[0];z$2[_e]=new v$4(_e,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z$2[$]=new v$4($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z$2[$]=new v$4($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z$2[$]=new v$4($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z$2[$]=new v$4($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z$2[$]=new v$4($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z$2[$]=new v$4($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z$2[$]=new v$4($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var _e=$.replace(ra,sa);z$2[_e]=new v$4(_e,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z$2[$]=new v$4($,1,!1,$.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z$2[$]=new v$4($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,_e,et,tt){var ct=z$2.hasOwnProperty(_e)?z$2[_e]:null;(ct!==null?ct.type!==0:tt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,et,ct,tt)&&(et=null),tt||ct===null?oa(_e)&&(et===null?$.removeAttribute(_e):$.setAttribute(_e,""+et)):ct.mustUseProperty?$[ct.propertyName]=et===null?ct.type===3?!1:"":et:(_e=ct.attributeName,tt=ct.attributeNamespace,et===null?$.removeAttribute(_e):(ct=ct.type,et=ct===3||ct===4&&et===!0?"":""+et,tt?$.setAttributeNS(tt,_e,et):$.setAttribute(_e,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A$2=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(et){var _e=et.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+$}var Na=!1;function Oa($,_e){if(!$||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(lt){var tt=lt}Reflect.construct($,[],_e)}else{try{_e.call()}catch(lt){tt=lt}$.call(_e.prototype)}else{try{throw Error()}catch(lt){tt=lt}$()}}catch(lt){if(lt&&tt&&typeof lt.stack=="string"){for(var ct=lt.stack.split(`
`),pt=tt.stack.split(`
`),vt=ct.length-1,ut=pt.length-1;1<=vt&&0<=ut&&ct[vt]!==pt[ut];)ut--;for(;1<=vt&&0<=ut;vt--,ut--)if(ct[vt]!==pt[ut]){if(vt!==1||ut!==1)do if(vt--,ut--,0>ut||ct[vt]!==pt[ut]){var nt=`
`+ct[vt].replace(" at new "," at ");return $.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",$.displayName)),nt}while(1<=vt&&0<=ut);break}}}finally{Na=!1,Error.prepareStackTrace=et}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var _e=$.render;return $=$.displayName,$||($=_e.displayName||_e.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return _e=$.displayName||null,_e!==null?_e:Qa($.type)||"Memo";case Ha:_e=$._payload,$=$._init;try{return Qa($(_e))}catch{}}return null}function Ra($){var _e=$.type;switch($.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=_e.render,$=$.displayName||$.name||"",_e.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var _e=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua($){var _e=Ta($)?"checked":"value",et=Object.getOwnPropertyDescriptor($.constructor.prototype,_e),tt=""+$[_e];if(!$.hasOwnProperty(_e)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var ct=et.get,pt=et.set;return Object.defineProperty($,_e,{configurable:!0,get:function(){return ct.call(this)},set:function(vt){tt=""+vt,pt.call(this,vt)}}),Object.defineProperty($,_e,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(vt){tt=""+vt},stopTracking:function(){$._valueTracker=null,delete $[_e]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var _e=$._valueTracker;if(!_e)return!0;var et=_e.getValue(),tt="";return $&&(tt=Ta($)?$.checked?"true":"false":$.value),$=tt,$!==et?(_e.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,_e){var et=_e.checked;return A$2({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??$._wrapperState.initialChecked})}function Za($,_e){var et=_e.defaultValue==null?"":_e.defaultValue,tt=_e.checked!=null?_e.checked:_e.defaultChecked;et=Sa(_e.value!=null?_e.value:et),$._wrapperState={initialChecked:tt,initialValue:et,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab($,_e){_e=_e.checked,_e!=null&&ta($,"checked",_e,!1)}function bb($,_e){ab($,_e);var et=Sa(_e.value),tt=_e.type;if(et!=null)tt==="number"?(et===0&&$.value===""||$.value!=et)&&($.value=""+et):$.value!==""+et&&($.value=""+et);else if(tt==="submit"||tt==="reset"){$.removeAttribute("value");return}_e.hasOwnProperty("value")?cb($,_e.type,et):_e.hasOwnProperty("defaultValue")&&cb($,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&($.defaultChecked=!!_e.defaultChecked)}function db($,_e,et){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var tt=_e.type;if(!(tt!=="submit"&&tt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+$._wrapperState.initialValue,et||_e===$.value||($.value=_e),$.defaultValue=_e}et=$.name,et!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,et!==""&&($.name=et)}function cb($,_e,et){(_e!=="number"||Xa($.ownerDocument)!==$)&&(et==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+et&&($.defaultValue=""+et))}var eb=Array.isArray;function fb($,_e,et,tt){if($=$.options,_e){_e={};for(var ct=0;ct<et.length;ct++)_e["$"+et[ct]]=!0;for(et=0;et<$.length;et++)ct=_e.hasOwnProperty("$"+$[et].value),$[et].selected!==ct&&($[et].selected=ct),ct&&tt&&($[et].defaultSelected=!0)}else{for(et=""+Sa(et),_e=null,ct=0;ct<$.length;ct++){if($[ct].value===et){$[ct].selected=!0,tt&&($[ct].defaultSelected=!0);return}_e!==null||$[ct].disabled||(_e=$[ct])}_e!==null&&(_e.selected=!0)}}function gb($,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},_e,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,_e){var et=_e.value;if(et==null){if(et=_e.children,_e=_e.defaultValue,et!=null){if(_e!=null)throw Error(p$5(92));if(eb(et)){if(1<et.length)throw Error(p$5(93));et=et[0]}_e=et}_e==null&&(_e=""),et=_e}$._wrapperState={initialValue:Sa(et)}}function ib($,_e){var et=Sa(_e.value),tt=Sa(_e.defaultValue);et!=null&&(et=""+et,et!==$.value&&($.value=et),_e.defaultValue==null&&$.defaultValue!==et&&($.defaultValue=et)),tt!=null&&($.defaultValue=""+tt)}function jb($){var _e=$.textContent;_e===$._wrapperState.initialValue&&_e!==""&&_e!==null&&($.value=_e)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,_e){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(_e):$==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,et,tt,ct){MSApp.execUnsafeLocalFunction(function(){return $(_e,et,tt,ct)})}:$}(function($,_e){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;_e.firstChild;)$.appendChild(_e.firstChild)}});function ob($,_e){if(_e){var et=$.firstChild;if(et&&et===$.lastChild&&et.nodeType===3){et.nodeValue=_e;return}}$.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(_e){_e=_e+$.charAt(0).toUpperCase()+$.substring(1),pb[_e]=pb[$]})});function rb($,_e,et){return _e==null||typeof _e=="boolean"||_e===""?"":et||typeof _e!="number"||_e===0||pb.hasOwnProperty($)&&pb[$]?(""+_e).trim():_e+"px"}function sb($,_e){$=$.style;for(var et in _e)if(_e.hasOwnProperty(et)){var tt=et.indexOf("--")===0,ct=rb(et,_e[et],tt);et==="float"&&(et="cssFloat"),tt?$.setProperty(et,ct):$[et]=ct}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,_e){if(_e){if(tb[$]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$5(137,$));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$5(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$5(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$5(62))}}function vb($,_e){if($.indexOf("-")===-1)return typeof _e.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$5(280));var _e=$.stateNode;_e&&(_e=Db(_e),yb($.stateNode,$.type,_e))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,_e=Ab;if(Ab=zb=null,Bb($),_e)for($=0;$<_e.length;$++)Bb(_e[$])}}function Gb($,_e){return $(_e)}function Hb(){}var Ib=!1;function Jb($,_e,et){if(Ib)return $(_e,et);Ib=!0;try{return Gb($,_e,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,_e){var et=$.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||($=$.type,tt=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!tt;break e;default:$=!1}if($)return null;if(et&&typeof et!="function")throw Error(p$5(231,_e,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,_e,et,tt,ct,pt,vt,ut,nt){var lt=Array.prototype.slice.call(arguments,3);try{_e.apply(et,lt)}catch(ft){this.onError(ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,_e,et,tt,ct,pt,vt,ut,nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,_e,et,tt,ct,pt,vt,ut,nt){if(Tb.apply(this,arguments),Ob){if(Ob){var lt=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=lt)}}function Vb($){var _e=$,et=$;if($.alternate)for(;_e.return;)_e=_e.return;else{$=_e;do _e=$,_e.flags&4098&&(et=_e.return),$=_e.return;while($)}return _e.tag===3?et:null}function Wb($){if($.tag===13){var _e=$.memoizedState;if(_e===null&&($=$.alternate,$!==null&&(_e=$.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$5(188))}function Yb($){var _e=$.alternate;if(!_e){if(_e=Vb($),_e===null)throw Error(p$5(188));return _e!==$?null:$}for(var et=$,tt=_e;;){var ct=et.return;if(ct===null)break;var pt=ct.alternate;if(pt===null){if(tt=ct.return,tt!==null){et=tt;continue}break}if(ct.child===pt.child){for(pt=ct.child;pt;){if(pt===et)return Xb(ct),$;if(pt===tt)return Xb(ct),_e;pt=pt.sibling}throw Error(p$5(188))}if(et.return!==tt.return)et=ct,tt=pt;else{for(var vt=!1,ut=ct.child;ut;){if(ut===et){vt=!0,et=ct,tt=pt;break}if(ut===tt){vt=!0,tt=ct,et=pt;break}ut=ut.sibling}if(!vt){for(ut=pt.child;ut;){if(ut===et){vt=!0,et=pt,tt=ct;break}if(ut===tt){vt=!0,tt=pt,et=ct;break}ut=ut.sibling}if(!vt)throw Error(p$5(189))}}if(et.alternate!==tt)throw Error(p$5(190))}if(et.tag!==3)throw Error(p$5(188));return et.stateNode.current===et?$:_e}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var _e=$b($);if(_e!==null)return _e;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,_e){var et=$.pendingLanes;if(et===0)return 0;var tt=0,ct=$.suspendedLanes,pt=$.pingedLanes,vt=et&268435455;if(vt!==0){var ut=vt&~ct;ut!==0?tt=tc(ut):(pt&=vt,pt!==0&&(tt=tc(pt)))}else vt=et&~ct,vt!==0?tt=tc(vt):pt!==0&&(tt=tc(pt));if(tt===0)return 0;if(_e!==0&&_e!==tt&&!(_e&ct)&&(ct=tt&-tt,pt=_e&-_e,ct>=pt||ct===16&&(pt&4194240)!==0))return _e;if(tt&4&&(tt|=et&16),_e=$.entangledLanes,_e!==0)for($=$.entanglements,_e&=tt;0<_e;)et=31-oc(_e),ct=1<<et,tt|=$[et],_e&=~ct;return tt}function vc($,_e){switch($){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,_e){for(var et=$.suspendedLanes,tt=$.pingedLanes,ct=$.expirationTimes,pt=$.pendingLanes;0<pt;){var vt=31-oc(pt),ut=1<<vt,nt=ct[vt];nt===-1?(!(ut&et)||ut&tt)&&(ct[vt]=vc(ut,_e)):nt<=_e&&($.expiredLanes|=ut),pt&=~ut}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var _e=[],et=0;31>et;et++)_e.push($);return _e}function Ac($,_e,et){$.pendingLanes|=_e,_e!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,_e=31-oc(_e),$[_e]=et}function Bc($,_e){var et=$.pendingLanes&~_e;$.pendingLanes=_e,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=_e,$.mutableReadLanes&=_e,$.entangledLanes&=_e,_e=$.entanglements;var tt=$.eventTimes;for($=$.expirationTimes;0<et;){var ct=31-oc(et),pt=1<<ct;_e[ct]=0,tt[ct]=-1,$[ct]=-1,et&=~pt}}function Cc($,_e){var et=$.entangledLanes|=_e;for($=$.entanglements;et;){var tt=31-oc(et),ct=1<<tt;ct&_e|$[tt]&_e&&($[tt]|=_e),et&=~ct}}var C=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,_e){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc($,_e,et,tt,ct,pt){return $===null||$.nativeEvent!==pt?($={blockedOn:_e,domEventName:et,eventSystemFlags:tt,nativeEvent:pt,targetContainers:[ct]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),$):($.eventSystemFlags|=tt,_e=$.targetContainers,ct!==null&&_e.indexOf(ct)===-1&&_e.push(ct),$)}function Uc($,_e,et,tt,ct){switch(_e){case"focusin":return Lc=Tc(Lc,$,_e,et,tt,ct),!0;case"dragenter":return Mc=Tc(Mc,$,_e,et,tt,ct),!0;case"mouseover":return Nc=Tc(Nc,$,_e,et,tt,ct),!0;case"pointerover":var pt=ct.pointerId;return Oc.set(pt,Tc(Oc.get(pt)||null,$,_e,et,tt,ct)),!0;case"gotpointercapture":return pt=ct.pointerId,Pc.set(pt,Tc(Pc.get(pt)||null,$,_e,et,tt,ct)),!0}return!1}function Vc($){var _e=Wc($.target);if(_e!==null){var et=Vb(_e);if(et!==null){if(_e=et.tag,_e===13){if(_e=Wb(et),_e!==null){$.blockedOn=_e,Ic($.priority,function(){Gc(et)});return}}else if(_e===3&&et.stateNode.current.memoizedState.isDehydrated){$.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var _e=$.targetContainers;0<_e.length;){var et=Yc($.domEventName,$.eventSystemFlags,_e[0],$.nativeEvent);if(et===null){et=$.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _e=Cb(et),_e!==null&&Fc(_e),$.blockedOn=et,!1;_e.shift()}return!0}function Zc($,_e,et){Xc($)&&et.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,_e){$.blockedOn===_e&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function _e(ct){return ad(ct,$)}if(0<Kc.length){ad(Kc[0],$);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===$&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(_e),Pc.forEach(_e),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===$&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,_e,et,tt){var ct=C,pt=cd.transition;cd.transition=null;try{C=1,fd($,_e,et,tt)}finally{C=ct,cd.transition=pt}}function gd($,_e,et,tt){var ct=C,pt=cd.transition;cd.transition=null;try{C=4,fd($,_e,et,tt)}finally{C=ct,cd.transition=pt}}function fd($,_e,et,tt){if(dd){var ct=Yc($,_e,et,tt);if(ct===null)hd($,_e,tt,id,et),Sc($,tt);else if(Uc(ct,$,_e,et,tt))tt.stopPropagation();else if(Sc($,tt),_e&4&&-1<Rc.indexOf($)){for(;ct!==null;){var pt=Cb(ct);if(pt!==null&&Ec(pt),pt=Yc($,_e,et,tt),pt===null&&hd($,_e,tt,id,et),pt===ct)break;ct=pt}ct!==null&&tt.stopPropagation()}else hd($,_e,tt,null,et)}}var id=null;function Yc($,_e,et,tt){if(id=null,$=xb(tt),$=Wc($),$!==null)if(_e=Vb($),_e===null)$=null;else if(et=_e.tag,et===13){if($=Wb(_e),$!==null)return $;$=null}else if(et===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;$=null}else _e!==$&&($=null);return id=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,_e=ld,et=_e.length,tt,ct="value"in kd?kd.value:kd.textContent,pt=ct.length;for($=0;$<et&&_e[$]===ct[$];$++);var vt=et-$;for(tt=1;tt<=vt&&_e[et-tt]===ct[pt-tt];tt++);return md=ct.slice($,1<tt?1-tt:void 0)}function od($){var _e=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&_e===13&&($=13)):$=_e,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function _e(et,tt,ct,pt,vt){this._reactName=et,this._targetInst=ct,this.type=tt,this.nativeEvent=pt,this.target=vt,this.currentTarget=null;for(var ut in $)$.hasOwnProperty(ut)&&(et=$[ut],this[ut]=et?et(pt):pt[ut]);return this.isDefaultPrevented=(pt.defaultPrevented!=null?pt.defaultPrevented:pt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState($):($=Od[$])?!!_e[$]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function($){if($.key){var _e=Md[$.key]||$.key;if(_e!=="Unidentified")return _e}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge($,_e){switch($){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,_e){switch($){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return $=_e.data,$===ee&&fe?null:$;default:return null}}function ke($,_e){if(ie)return $==="compositionend"||!ae&&ge($,_e)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e==="input"?!!le[$.type]:_e==="textarea"}function ne($,_e,et,tt){Eb(tt),_e=oe(_e,"onChange"),0<_e.length&&(et=new td("onChange","change",null,et,tt),$.push({event:et,listeners:_e}))}var pe=null,qe=null;function re($){se($,0)}function te($){var _e=ue($);if(Wa(_e))return $}function ve($,_e){if($==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,$,xb($)),Jb(re,_e)}}function Ce($,_e,et){$==="focusin"?(Ae(),pe=_e,qe=et,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,_e){if($==="click")return te(_e)}function Fe($,_e){if($==="input"||$==="change")return te(_e)}function Ge($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,_e){if(He($,_e))return!0;if(typeof $!="object"||$===null||typeof _e!="object"||_e===null)return!1;var et=Object.keys($),tt=Object.keys(_e);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var ct=et[tt];if(!ja.call(_e,ct)||!He($[ct],_e[ct]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,_e){var et=Je($);$=0;for(var tt;et;){if(et.nodeType===3){if(tt=$+et.textContent.length,$<=_e&&tt>=_e)return{node:et,offset:_e-$};$=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le($,_e){return $&&_e?$===_e?!0:$&&$.nodeType===3?!1:_e&&_e.nodeType===3?Le($,_e.parentNode):"contains"in $?$.contains(_e):$.compareDocumentPosition?!!($.compareDocumentPosition(_e)&16):!1:!1}function Me(){for(var $=window,_e=Xa();_e instanceof $.HTMLIFrameElement;){try{var et=typeof _e.contentWindow.location.href=="string"}catch{et=!1}if(et)$=_e.contentWindow;else break;_e=Xa($.document)}return _e}function Ne($){var _e=$&&$.nodeName&&$.nodeName.toLowerCase();return _e&&(_e==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||_e==="textarea"||$.contentEditable==="true")}function Oe($){var _e=Me(),et=$.focusedElem,tt=$.selectionRange;if(_e!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_e=tt.start,$=tt.end,$===void 0&&($=_e),"selectionStart"in et)et.selectionStart=_e,et.selectionEnd=Math.min($,et.value.length);else if($=(_e=et.ownerDocument||document)&&_e.defaultView||window,$.getSelection){$=$.getSelection();var ct=et.textContent.length,pt=Math.min(tt.start,ct);tt=tt.end===void 0?pt:Math.min(tt.end,ct),!$.extend&&pt>tt&&(ct=tt,tt=pt,pt=ct),ct=Ke(et,pt);var vt=Ke(et,tt);ct&&vt&&($.rangeCount!==1||$.anchorNode!==ct.node||$.anchorOffset!==ct.offset||$.focusNode!==vt.node||$.focusOffset!==vt.offset)&&(_e=_e.createRange(),_e.setStart(ct.node,ct.offset),$.removeAllRanges(),pt>tt?($.addRange(_e),$.extend(vt.node,vt.offset)):(_e.setEnd(vt.node,vt.offset),$.addRange(_e)))}}for(_e=[],$=et;$=$.parentNode;)$.nodeType===1&&_e.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_e.length;et++)$=_e[et],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,_e,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_e=new td("onSelect","select",null,_e,et),$.push({event:_e,listeners:tt}),_e.target=Qe)))}function Ve($,_e){var et={};return et[$.toLowerCase()]=_e.toLowerCase(),et["Webkit"+$]="webkit"+_e,et["Moz"+$]="moz"+_e,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var _e=We[$],et;for(et in _e)if(_e.hasOwnProperty(et)&&et in Ye)return Xe[$]=_e[et];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,_e){df.set($,_e),fa(_e,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,_e,et){var tt=$.type||"unknown-event";$.currentTarget=et,Ub(tt,_e,void 0,$),$.currentTarget=null}function se($,_e){_e=(_e&4)!==0;for(var et=0;et<$.length;et++){var tt=$[et],ct=tt.event;tt=tt.listeners;e:{var pt=void 0;if(_e)for(var vt=tt.length-1;0<=vt;vt--){var ut=tt[vt],nt=ut.instance,lt=ut.currentTarget;if(ut=ut.listener,nt!==pt&&ct.isPropagationStopped())break e;nf(ct,ut,lt),pt=nt}else for(vt=0;vt<tt.length;vt++){if(ut=tt[vt],nt=ut.instance,lt=ut.currentTarget,ut=ut.listener,nt!==pt&&ct.isPropagationStopped())break e;nf(ct,ut,lt),pt=nt}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D$1($,_e){var et=_e[of];et===void 0&&(et=_e[of]=new Set);var tt=$+"__bubble";et.has(tt)||(pf(_e,$,2,!1),et.add(tt))}function qf($,_e,et){var tt=0;_e&&(tt|=4),pf(et,$,tt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,$),qf(et,!0,$))});var _e=$.nodeType===9?$:$.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf($,_e,et,tt){switch(jd(_e)){case 1:var ct=ed;break;case 4:ct=gd;break;default:ct=fd}et=ct.bind(null,_e,et,$),ct=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(ct=!0),tt?ct!==void 0?$.addEventListener(_e,et,{capture:!0,passive:ct}):$.addEventListener(_e,et,!0):ct!==void 0?$.addEventListener(_e,et,{passive:ct}):$.addEventListener(_e,et,!1)}function hd($,_e,et,tt,ct){var pt=tt;if(!(_e&1)&&!(_e&2)&&tt!==null)e:for(;;){if(tt===null)return;var vt=tt.tag;if(vt===3||vt===4){var ut=tt.stateNode.containerInfo;if(ut===ct||ut.nodeType===8&&ut.parentNode===ct)break;if(vt===4)for(vt=tt.return;vt!==null;){var nt=vt.tag;if((nt===3||nt===4)&&(nt=vt.stateNode.containerInfo,nt===ct||nt.nodeType===8&&nt.parentNode===ct))return;vt=vt.return}for(;ut!==null;){if(vt=Wc(ut),vt===null)return;if(nt=vt.tag,nt===5||nt===6){tt=pt=vt;continue e}ut=ut.parentNode}}tt=tt.return}Jb(function(){var lt=pt,ft=xb(et),it=[];e:{var ot=df.get($);if(ot!==void 0){var rt=td,st=$;switch($){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":rt=Rd;break;case"focusin":st="focus",rt=Fd;break;case"focusout":st="blur",rt=Fd;break;case"beforeblur":case"afterblur":rt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Vd;break;case $e:case af:case bf:rt=Hd;break;case cf:rt=Xd;break;case"scroll":rt=vd;break;case"wheel":rt=Zd;break;case"copy":case"cut":case"paste":rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Td}var ht=(_e&4)!==0,at=!ht&&$==="scroll",dt=ht?ot!==null?ot+"Capture":null:ot;ht=[];for(var gt=lt,mt;gt!==null;){mt=gt;var yt=mt.stateNode;if(mt.tag===5&&yt!==null&&(mt=yt,dt!==null&&(yt=Kb(gt,dt),yt!=null&&ht.push(tf(gt,yt,mt)))),at)break;gt=gt.return}0<ht.length&&(ot=new rt(ot,st,null,et,ft),it.push({event:ot,listeners:ht}))}}if(!(_e&7)){e:{if(ot=$==="mouseover"||$==="pointerover",rt=$==="mouseout"||$==="pointerout",ot&&et!==wb&&(st=et.relatedTarget||et.fromElement)&&(Wc(st)||st[uf]))break e;if((rt||ot)&&(ot=ft.window===ft?ft:(ot=ft.ownerDocument)?ot.defaultView||ot.parentWindow:window,rt?(st=et.relatedTarget||et.toElement,rt=lt,st=st?Wc(st):null,st!==null&&(at=Vb(st),st!==at||st.tag!==5&&st.tag!==6)&&(st=null)):(rt=null,st=lt),rt!==st)){if(ht=Bd,yt="onMouseLeave",dt="onMouseEnter",gt="mouse",($==="pointerout"||$==="pointerover")&&(ht=Td,yt="onPointerLeave",dt="onPointerEnter",gt="pointer"),at=rt==null?ot:ue(rt),mt=st==null?ot:ue(st),ot=new ht(yt,gt+"leave",rt,et,ft),ot.target=at,ot.relatedTarget=mt,yt=null,Wc(ft)===lt&&(ht=new ht(dt,gt+"enter",st,et,ft),ht.target=mt,ht.relatedTarget=at,yt=ht),at=yt,rt&&st)t:{for(ht=rt,dt=st,gt=0,mt=ht;mt;mt=vf(mt))gt++;for(mt=0,yt=dt;yt;yt=vf(yt))mt++;for(;0<gt-mt;)ht=vf(ht),gt--;for(;0<mt-gt;)dt=vf(dt),mt--;for(;gt--;){if(ht===dt||dt!==null&&ht===dt.alternate)break t;ht=vf(ht),dt=vf(dt)}ht=null}else ht=null;rt!==null&&wf(it,ot,rt,ht,!1),st!==null&&at!==null&&wf(it,at,st,ht,!0)}}e:{if(ot=lt?ue(lt):window,rt=ot.nodeName&&ot.nodeName.toLowerCase(),rt==="select"||rt==="input"&&ot.type==="file")var _t=ve;else if(me(ot))if(we)_t=Fe;else{_t=De;var wt=Ce}else(rt=ot.nodeName)&&rt.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(_t=Ee);if(_t&&(_t=_t($,lt))){ne(it,_t,et,ft);break e}wt&&wt($,ot,lt),$==="focusout"&&(wt=ot._wrapperState)&&wt.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(wt=lt?ue(lt):window,$){case"focusin":(me(wt)||wt.contentEditable==="true")&&(Qe=wt,Re=lt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(it,et,ft);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(it,et,ft)}var St;if(ae)e:{switch($){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else ie?ge($,et)&&(Tt="onCompositionEnd"):$==="keydown"&&et.keyCode===229&&(Tt="onCompositionStart");Tt&&(de&&et.locale!=="ko"&&(ie||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&ie&&(St=nd()):(kd=ft,ld="value"in kd?kd.value:kd.textContent,ie=!0)),wt=oe(lt,Tt),0<wt.length&&(Tt=new Ld(Tt,$,null,et,ft),it.push({event:Tt,listeners:wt}),St?Tt.data=St:(St=he(et),St!==null&&(Tt.data=St)))),(St=ce?je($,et):ke($,et))&&(lt=oe(lt,"onBeforeInput"),0<lt.length&&(ft=new Ld("onBeforeInput","beforeinput",null,et,ft),it.push({event:ft,listeners:lt}),ft.data=St))}se(it,_e)})}function tf($,_e,et){return{instance:$,listener:_e,currentTarget:et}}function oe($,_e){for(var et=_e+"Capture",tt=[];$!==null;){var ct=$,pt=ct.stateNode;ct.tag===5&&pt!==null&&(ct=pt,pt=Kb($,et),pt!=null&&tt.unshift(tf($,pt,ct)),pt=Kb($,_e),pt!=null&&tt.push(tf($,pt,ct))),$=$.return}return tt}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,_e,et,tt,ct){for(var pt=_e._reactName,vt=[];et!==null&&et!==tt;){var ut=et,nt=ut.alternate,lt=ut.stateNode;if(nt!==null&&nt===tt)break;ut.tag===5&&lt!==null&&(ut=lt,ct?(nt=Kb(et,pt),nt!=null&&vt.unshift(tf(et,nt,ut))):ct||(nt=Kb(et,pt),nt!=null&&vt.push(tf(et,nt,ut)))),et=et.return}vt.length!==0&&$.push({event:_e,listeners:vt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,_e,et){if(_e=zf(_e),zf($)!==_e&&et)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef($,_e){return $==="textarea"||$==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,_e){var et=_e,tt=0;do{var ct=et.nextSibling;if($.removeChild(et),ct&&ct.nodeType===8)if(et=ct.data,et==="/$"){if(tt===0){$.removeChild(ct),bd(_e);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=ct}while(et);bd(_e)}function Lf($){for(;$!=null;$=$.nextSibling){var _e=$.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=$.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var _e=0;$;){if($.nodeType===8){var et=$.data;if(et==="$"||et==="$!"||et==="$?"){if(_e===0)return $;_e--}else et==="/$"&&_e++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var _e=$[Of];if(_e)return _e;for(var et=$.parentNode;et;){if(_e=et[uf]||et[Of]){if(et=_e.alternate,_e.child!==null||et!==null&&et.child!==null)for($=Mf($);$!==null;){if(et=$[Of])return et;$=Mf($)}return _e}$=et,et=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$5(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$1($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1($,_e){Tf++,Sf[Tf]=$.current,$.current=_e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,_e){var et=$.type.contextTypes;if(!et)return Vf;var tt=$.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_e)return tt.__reactInternalMemoizedMaskedChildContext;var ct={},pt;for(pt in et)ct[pt]=_e[pt];return tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=_e,$.__reactInternalMemoizedMaskedChildContext=ct),ct}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$1(Wf),E$1(H$1)}function ag($,_e,et){if(H$1.current!==Vf)throw Error(p$5(168));G$1(H$1,_e),G$1(Wf,et)}function bg($,_e,et){var tt=$.stateNode;if(_e=_e.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var ct in tt)if(!(ct in _e))throw Error(p$5(108,Ra($)||"Unknown",ct));return A$2({},et,tt)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,$),G$1(Wf,Wf.current),!0}function dg($,_e,et){var tt=$.stateNode;if(!tt)throw Error(p$5(169));et?($=bg($,_e,Xf),tt.__reactInternalMemoizedMergedChildContext=$,E$1(Wf),E$1(H$1),G$1(H$1,$)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,_e=C;try{var et=eg;for(C=1;$<et.length;$++){var tt=et[$];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(ct){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),ct}finally{C=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,_e){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=_e}function ug($,_e,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var tt=rg;$=sg;var ct=32-oc(tt)-1;tt&=~(1<<ct),et+=1;var pt=32-oc(_e)+ct;if(30<pt){var vt=ct-ct%5;pt=(tt&(1<<vt)-1).toString(32),tt>>=vt,ct-=vt,rg=1<<32-oc(_e)+ct|et<<ct|tt,sg=pt+$}else rg=1<<pt|et<<ct|tt,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag($,_e){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_e,et.return=$,_e=$.deletions,_e===null?($.deletions=[et],$.flags|=16):_e.push(et)}function Cg($,_e){switch($.tag){case 5:var et=$.type;return _e=_e.nodeType!==1||et.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=$.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?($.stateNode=_e,xg=$,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(et=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:_e,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_e,et.return=$,$.child=et,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$1){var _e=yg;if(_e){var et=_e;if(!Cg($,_e)){if(Dg($))throw Error(p$5(418));_e=Lf(et.nextSibling);var tt=xg;_e&&Cg($,_e)?Ag(tt,et):($.flags=$.flags&-4097|2,I$1=!1,xg=$)}}else{if(Dg($))throw Error(p$5(418));$.flags=$.flags&-4097|2,I$1=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$1)return Fg($),I$1=!0,!1;var _e;if((_e=$.tag!==3)&&!(_e=$.tag!==5)&&(_e=$.type,_e=_e!=="head"&&_e!=="body"&&!Ef($.type,$.memoizedProps)),_e&&(_e=yg)){if(Dg($))throw Hg(),Error(p$5(418));for(;_e;)Ag($,_e),_e=Lf(_e.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$5(317));e:{for($=$.nextSibling,_e=0;$;){if($.nodeType===8){var et=$.data;if(et==="/$"){if(_e===0){yg=Lf($.nextSibling);break e}_e--}else et!=="$"&&et!=="$!"&&et!=="$?"||_e++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,_e){if($&&$.defaultProps){_e=A$2({},_e),$=$.defaultProps;for(var et in $)_e[et]===void 0&&(_e[et]=$[et]);return _e}return _e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg($){var _e=Mg.current;E$1(Mg),$._currentValue=_e}function Sg($,_e,et){for(;$!==null;){var tt=$.alternate;if(($.childLanes&_e)!==_e?($.childLanes|=_e,tt!==null&&(tt.childLanes|=_e)):tt!==null&&(tt.childLanes&_e)!==_e&&(tt.childLanes|=_e),$===et)break;$=$.return}}function Tg($,_e){Ng=$,Pg=Og=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&_e&&(Ug=!0),$.firstContext=null)}function Vg($){var _e=$._currentValue;if(Pg!==$)if($={context:$,memoizedValue:_e,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=$,Ng.dependencies={lanes:0,firstContext:$}}else Og=Og.next=$;return _e}var Wg=null;function Xg($){Wg===null?Wg=[$]:Wg.push($)}function Yg($,_e,et,tt){var ct=_e.interleaved;return ct===null?(et.next=et,Xg(_e)):(et.next=ct.next,ct.next=et),_e.interleaved=et,Zg($,tt)}function Zg($,_e){$.lanes|=_e;var et=$.alternate;for(et!==null&&(et.lanes|=_e),et=$,$=$.return;$!==null;)$.childLanes|=_e,et=$.alternate,et!==null&&(et.childLanes|=_e),et=$,$=$.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh($,_e){$=$.updateQueue,_e.updateQueue===$&&(_e.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function ch($,_e){return{eventTime:$,lane:_e,tag:0,payload:null,callback:null,next:null}}function dh($,_e,et){var tt=$.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var ct=tt.pending;return ct===null?_e.next=_e:(_e.next=ct.next,ct.next=_e),tt.pending=_e,Zg($,et)}return ct=tt.interleaved,ct===null?(_e.next=_e,Xg(tt)):(_e.next=ct.next,ct.next=_e),tt.interleaved=_e,Zg($,et)}function eh($,_e,et){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(et&4194240)!==0)){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}function fh($,_e){var et=$.updateQueue,tt=$.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var ct=null,pt=null;if(et=et.firstBaseUpdate,et!==null){do{var vt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};pt===null?ct=pt=vt:pt=pt.next=vt,et=et.next}while(et!==null);pt===null?ct=pt=_e:pt=pt.next=_e}else ct=pt=_e;et={baseState:tt.baseState,firstBaseUpdate:ct,lastBaseUpdate:pt,shared:tt.shared,effects:tt.effects},$.updateQueue=et;return}$=et.lastBaseUpdate,$===null?et.firstBaseUpdate=_e:$.next=_e,et.lastBaseUpdate=_e}function gh($,_e,et,tt){var ct=$.updateQueue;$g=!1;var pt=ct.firstBaseUpdate,vt=ct.lastBaseUpdate,ut=ct.shared.pending;if(ut!==null){ct.shared.pending=null;var nt=ut,lt=nt.next;nt.next=null,vt===null?pt=lt:vt.next=lt,vt=nt;var ft=$.alternate;ft!==null&&(ft=ft.updateQueue,ut=ft.lastBaseUpdate,ut!==vt&&(ut===null?ft.firstBaseUpdate=lt:ut.next=lt,ft.lastBaseUpdate=nt))}if(pt!==null){var it=ct.baseState;vt=0,ft=lt=nt=null,ut=pt;do{var ot=ut.lane,rt=ut.eventTime;if((tt&ot)===ot){ft!==null&&(ft=ft.next={eventTime:rt,lane:0,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null});e:{var st=$,ht=ut;switch(ot=_e,rt=et,ht.tag){case 1:if(st=ht.payload,typeof st=="function"){it=st.call(rt,it,ot);break e}it=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,ot=typeof st=="function"?st.call(rt,it,ot):st,ot==null)break e;it=A$2({},it,ot);break e;case 2:$g=!0}}ut.callback!==null&&ut.lane!==0&&($.flags|=64,ot=ct.effects,ot===null?ct.effects=[ut]:ot.push(ut))}else rt={eventTime:rt,lane:ot,tag:ut.tag,payload:ut.payload,callback:ut.callback,next:null},ft===null?(lt=ft=rt,nt=it):ft=ft.next=rt,vt|=ot;if(ut=ut.next,ut===null){if(ut=ct.shared.pending,ut===null)break;ot=ut,ut=ot.next,ot.next=null,ct.lastBaseUpdate=ot,ct.shared.pending=null}}while(1);if(ft===null&&(nt=it),ct.baseState=nt,ct.firstBaseUpdate=lt,ct.lastBaseUpdate=ft,_e=ct.shared.interleaved,_e!==null){ct=_e;do vt|=ct.lane,ct=ct.next;while(ct!==_e)}else pt===null&&(ct.shared.lanes=0);hh|=vt,$.lanes=vt,$.memoizedState=it}}function ih($,_e,et){if($=_e.effects,_e.effects=null,$!==null)for(_e=0;_e<$.length;_e++){var tt=$[_e],ct=tt.callback;if(ct!==null){if(tt.callback=null,tt=et,typeof ct!="function")throw Error(p$5(191,ct));ct.call(tt)}}}var jh=new aa.Component().refs;function kh($,_e,et,tt){_e=$.memoizedState,et=et(tt,_e),et=et==null?_e:A$2({},_e,et),$.memoizedState=et,$.lanes===0&&($.updateQueue.baseState=et)}var nh={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,_e,et){$=$._reactInternals;var tt=L$1(),ct=lh($),pt=ch(tt,ct);pt.payload=_e,et!=null&&(pt.callback=et),_e=dh($,pt,ct),_e!==null&&(mh(_e,$,ct,tt),eh(_e,$,ct))},enqueueReplaceState:function($,_e,et){$=$._reactInternals;var tt=L$1(),ct=lh($),pt=ch(tt,ct);pt.tag=1,pt.payload=_e,et!=null&&(pt.callback=et),_e=dh($,pt,ct),_e!==null&&(mh(_e,$,ct,tt),eh(_e,$,ct))},enqueueForceUpdate:function($,_e){$=$._reactInternals;var et=L$1(),tt=lh($),ct=ch(et,tt);ct.tag=2,_e!=null&&(ct.callback=_e),_e=dh($,ct,tt),_e!==null&&(mh(_e,$,tt,et),eh(_e,$,tt))}};function oh($,_e,et,tt,ct,pt,vt){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(tt,pt,vt):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(ct,pt):!0}function ph($,_e,et){var tt=!1,ct=Vf,pt=_e.contextType;return typeof pt=="object"&&pt!==null?pt=Vg(pt):(ct=Zf(_e)?Xf:H$1.current,tt=_e.contextTypes,pt=(tt=tt!=null)?Yf($,ct):Vf),_e=new _e(et,pt),$.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=nh,$.stateNode=_e,_e._reactInternals=$,tt&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=ct,$.__reactInternalMemoizedMaskedChildContext=pt),_e}function qh($,_e,et,tt){$=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(et,tt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(et,tt),_e.state!==$&&nh.enqueueReplaceState(_e,_e.state,null)}function rh($,_e,et,tt){var ct=$.stateNode;ct.props=et,ct.state=$.memoizedState,ct.refs=jh,ah($);var pt=_e.contextType;typeof pt=="object"&&pt!==null?ct.context=Vg(pt):(pt=Zf(_e)?Xf:H$1.current,ct.context=Yf($,pt)),ct.state=$.memoizedState,pt=_e.getDerivedStateFromProps,typeof pt=="function"&&(kh($,_e,pt,et),ct.state=$.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof ct.getSnapshotBeforeUpdate=="function"||typeof ct.UNSAFE_componentWillMount!="function"&&typeof ct.componentWillMount!="function"||(_e=ct.state,typeof ct.componentWillMount=="function"&&ct.componentWillMount(),typeof ct.UNSAFE_componentWillMount=="function"&&ct.UNSAFE_componentWillMount(),_e!==ct.state&&nh.enqueueReplaceState(ct,ct.state,null),gh($,et,ct,tt),ct.state=$.memoizedState),typeof ct.componentDidMount=="function"&&($.flags|=4194308)}function sh($,_e,et){if($=et.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$5(309));var tt=et.stateNode}if(!tt)throw Error(p$5(147,$));var ct=tt,pt=""+$;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===pt?_e.ref:(_e=function(vt){var ut=ct.refs;ut===jh&&(ut=ct.refs={}),vt===null?delete ut[pt]:ut[pt]=vt},_e._stringRef=pt,_e)}if(typeof $!="string")throw Error(p$5(284));if(!et._owner)throw Error(p$5(290,$))}return $}function th($,_e){throw $=Object.prototype.toString.call(_e),Error(p$5(31,$==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$))}function uh($){var _e=$._init;return _e($._payload)}function vh($){function _e(dt,gt){if($){var mt=dt.deletions;mt===null?(dt.deletions=[gt],dt.flags|=16):mt.push(gt)}}function et(dt,gt){if(!$)return null;for(;gt!==null;)_e(dt,gt),gt=gt.sibling;return null}function tt(dt,gt){for(dt=new Map;gt!==null;)gt.key!==null?dt.set(gt.key,gt):dt.set(gt.index,gt),gt=gt.sibling;return dt}function ct(dt,gt){return dt=wh(dt,gt),dt.index=0,dt.sibling=null,dt}function pt(dt,gt,mt){return dt.index=mt,$?(mt=dt.alternate,mt!==null?(mt=mt.index,mt<gt?(dt.flags|=2,gt):mt):(dt.flags|=2,gt)):(dt.flags|=1048576,gt)}function vt(dt){return $&&dt.alternate===null&&(dt.flags|=2),dt}function ut(dt,gt,mt,yt){return gt===null||gt.tag!==6?(gt=xh(mt,dt.mode,yt),gt.return=dt,gt):(gt=ct(gt,mt),gt.return=dt,gt)}function nt(dt,gt,mt,yt){var _t=mt.type;return _t===ya?ft(dt,gt,mt.props.children,yt,mt.key):gt!==null&&(gt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===gt.type)?(yt=ct(gt,mt.props),yt.ref=sh(dt,gt,mt),yt.return=dt,yt):(yt=yh(mt.type,mt.key,mt.props,null,dt.mode,yt),yt.ref=sh(dt,gt,mt),yt.return=dt,yt)}function lt(dt,gt,mt,yt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==mt.containerInfo||gt.stateNode.implementation!==mt.implementation?(gt=zh(mt,dt.mode,yt),gt.return=dt,gt):(gt=ct(gt,mt.children||[]),gt.return=dt,gt)}function ft(dt,gt,mt,yt,_t){return gt===null||gt.tag!==7?(gt=Ah(mt,dt.mode,yt,_t),gt.return=dt,gt):(gt=ct(gt,mt),gt.return=dt,gt)}function it(dt,gt,mt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,dt.mode,mt),gt.return=dt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return mt=yh(gt.type,gt.key,gt.props,null,dt.mode,mt),mt.ref=sh(dt,null,gt),mt.return=dt,mt;case wa:return gt=zh(gt,dt.mode,mt),gt.return=dt,gt;case Ha:var yt=gt._init;return it(dt,yt(gt._payload),mt)}if(eb(gt)||Ka(gt))return gt=Ah(gt,dt.mode,mt,null),gt.return=dt,gt;th(dt,gt)}return null}function ot(dt,gt,mt,yt){var _t=gt!==null?gt.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return _t!==null?null:ut(dt,gt,""+mt,yt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===_t?nt(dt,gt,mt,yt):null;case wa:return mt.key===_t?lt(dt,gt,mt,yt):null;case Ha:return _t=mt._init,ot(dt,gt,_t(mt._payload),yt)}if(eb(mt)||Ka(mt))return _t!==null?null:ft(dt,gt,mt,yt,null);th(dt,mt)}return null}function rt(dt,gt,mt,yt,_t){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return dt=dt.get(mt)||null,ut(gt,dt,""+yt,_t);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return dt=dt.get(yt.key===null?mt:yt.key)||null,nt(gt,dt,yt,_t);case wa:return dt=dt.get(yt.key===null?mt:yt.key)||null,lt(gt,dt,yt,_t);case Ha:var wt=yt._init;return rt(dt,gt,mt,wt(yt._payload),_t)}if(eb(yt)||Ka(yt))return dt=dt.get(mt)||null,ft(gt,dt,yt,_t,null);th(gt,yt)}return null}function st(dt,gt,mt,yt){for(var _t=null,wt=null,St=gt,Tt=gt=0,Dt=null;St!==null&&Tt<mt.length;Tt++){St.index>Tt?(Dt=St,St=null):Dt=St.sibling;var Mt=ot(dt,St,mt[Tt],yt);if(Mt===null){St===null&&(St=Dt);break}$&&St&&Mt.alternate===null&&_e(dt,St),gt=pt(Mt,gt,Tt),wt===null?_t=Mt:wt.sibling=Mt,wt=Mt,St=Dt}if(Tt===mt.length)return et(dt,St),I$1&&tg(dt,Tt),_t;if(St===null){for(;Tt<mt.length;Tt++)St=it(dt,mt[Tt],yt),St!==null&&(gt=pt(St,gt,Tt),wt===null?_t=St:wt.sibling=St,wt=St);return I$1&&tg(dt,Tt),_t}for(St=tt(dt,St);Tt<mt.length;Tt++)Dt=rt(St,dt,Tt,mt[Tt],yt),Dt!==null&&($&&Dt.alternate!==null&&St.delete(Dt.key===null?Tt:Dt.key),gt=pt(Dt,gt,Tt),wt===null?_t=Dt:wt.sibling=Dt,wt=Dt);return $&&St.forEach(function(Ht){return _e(dt,Ht)}),I$1&&tg(dt,Tt),_t}function ht(dt,gt,mt,yt){var _t=Ka(mt);if(typeof _t!="function")throw Error(p$5(150));if(mt=_t.call(mt),mt==null)throw Error(p$5(151));for(var wt=_t=null,St=gt,Tt=gt=0,Dt=null,Mt=mt.next();St!==null&&!Mt.done;Tt++,Mt=mt.next()){St.index>Tt?(Dt=St,St=null):Dt=St.sibling;var Ht=ot(dt,St,Mt.value,yt);if(Ht===null){St===null&&(St=Dt);break}$&&St&&Ht.alternate===null&&_e(dt,St),gt=pt(Ht,gt,Tt),wt===null?_t=Ht:wt.sibling=Ht,wt=Ht,St=Dt}if(Mt.done)return et(dt,St),I$1&&tg(dt,Tt),_t;if(St===null){for(;!Mt.done;Tt++,Mt=mt.next())Mt=it(dt,Mt.value,yt),Mt!==null&&(gt=pt(Mt,gt,Tt),wt===null?_t=Mt:wt.sibling=Mt,wt=Mt);return I$1&&tg(dt,Tt),_t}for(St=tt(dt,St);!Mt.done;Tt++,Mt=mt.next())Mt=rt(St,dt,Tt,Mt.value,yt),Mt!==null&&($&&Mt.alternate!==null&&St.delete(Mt.key===null?Tt:Mt.key),gt=pt(Mt,gt,Tt),wt===null?_t=Mt:wt.sibling=Mt,wt=Mt);return $&&St.forEach(function(Gt){return _e(dt,Gt)}),I$1&&tg(dt,Tt),_t}function at(dt,gt,mt,yt){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var _t=mt.key,wt=gt;wt!==null;){if(wt.key===_t){if(_t=mt.type,_t===ya){if(wt.tag===7){et(dt,wt.sibling),gt=ct(wt,mt.props.children),gt.return=dt,dt=gt;break e}}else if(wt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ha&&uh(_t)===wt.type){et(dt,wt.sibling),gt=ct(wt,mt.props),gt.ref=sh(dt,wt,mt),gt.return=dt,dt=gt;break e}et(dt,wt);break}else _e(dt,wt);wt=wt.sibling}mt.type===ya?(gt=Ah(mt.props.children,dt.mode,yt,mt.key),gt.return=dt,dt=gt):(yt=yh(mt.type,mt.key,mt.props,null,dt.mode,yt),yt.ref=sh(dt,gt,mt),yt.return=dt,dt=yt)}return vt(dt);case wa:e:{for(wt=mt.key;gt!==null;){if(gt.key===wt)if(gt.tag===4&&gt.stateNode.containerInfo===mt.containerInfo&&gt.stateNode.implementation===mt.implementation){et(dt,gt.sibling),gt=ct(gt,mt.children||[]),gt.return=dt,dt=gt;break e}else{et(dt,gt);break}else _e(dt,gt);gt=gt.sibling}gt=zh(mt,dt.mode,yt),gt.return=dt,dt=gt}return vt(dt);case Ha:return wt=mt._init,at(dt,gt,wt(mt._payload),yt)}if(eb(mt))return st(dt,gt,mt,yt);if(Ka(mt))return ht(dt,gt,mt,yt);th(dt,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,gt!==null&&gt.tag===6?(et(dt,gt.sibling),gt=ct(gt,mt),gt.return=dt,dt=gt):(et(dt,gt),gt=xh(mt,dt.mode,yt),gt.return=dt,dt=gt),vt(dt)):et(dt,gt)}return at}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh($){if($===Dh)throw Error(p$5(174));return $}function Ih($,_e){switch(G$1(Gh,_e),G$1(Fh,$),G$1(Eh,Dh),$=_e.nodeType,$){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:$=$===8?_e.parentNode:_e,_e=$.namespaceURI||null,$=$.tagName,_e=lb(_e,$)}E$1(Eh),G$1(Eh,_e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh($){Hh(Gh.current);var _e=Hh(Eh.current),et=lb(_e,$.type);_e!==et&&(G$1(Fh,$),G$1(Eh,et))}function Lh($){Fh.current===$&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh($){for(var _e=$;_e!==null;){if(_e.tag===13){var et=_e.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Nh=[];function Oh(){for(var $=0;$<Nh.length;$++)Nh[$]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$5(321))}function Wh($,_e){if(_e===null)return!1;for(var et=0;et<_e.length&&et<$.length;et++)if(!He($[et],_e[et]))return!1;return!0}function Xh($,_e,et,tt,ct,pt){if(Rh=pt,N$1=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Ph.current=$===null||$.memoizedState===null?Yh:Zh,$=et(tt,ct),Th){pt=0;do{if(Th=!1,Uh=0,25<=pt)throw Error(p$5(301));pt+=1,P$1=O$1=null,_e.updateQueue=null,Ph.current=$h,$=et(tt,ct)}while(Th)}if(Ph.current=ai,_e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,_e)throw Error(p$5(300));return $}function bi(){var $=Uh!==0;return Uh=0,$}function ci(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$,P$1}function di(){if(O$1===null){var $=N$1.alternate;$=$!==null?$.memoizedState:null}else $=O$1.next;var _e=P$1===null?N$1.memoizedState:P$1.next;if(_e!==null)P$1=_e,O$1=$;else{if($===null)throw Error(p$5(310));O$1=$,$={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=$:P$1=P$1.next=$}return P$1}function ei($,_e){return typeof _e=="function"?_e($):_e}function fi($){var _e=di(),et=_e.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=$;var tt=O$1,ct=tt.baseQueue,pt=et.pending;if(pt!==null){if(ct!==null){var vt=ct.next;ct.next=pt.next,pt.next=vt}tt.baseQueue=ct=pt,et.pending=null}if(ct!==null){pt=ct.next,tt=tt.baseState;var ut=vt=null,nt=null,lt=pt;do{var ft=lt.lane;if((Rh&ft)===ft)nt!==null&&(nt=nt.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),tt=lt.hasEagerState?lt.eagerState:$(tt,lt.action);else{var it={lane:ft,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};nt===null?(ut=nt=it,vt=tt):nt=nt.next=it,N$1.lanes|=ft,hh|=ft}lt=lt.next}while(lt!==null&&lt!==pt);nt===null?vt=tt:nt.next=ut,He(tt,_e.memoizedState)||(Ug=!0),_e.memoizedState=tt,_e.baseState=vt,_e.baseQueue=nt,et.lastRenderedState=tt}if($=et.interleaved,$!==null){ct=$;do pt=ct.lane,N$1.lanes|=pt,hh|=pt,ct=ct.next;while(ct!==$)}else ct===null&&(et.lanes=0);return[_e.memoizedState,et.dispatch]}function gi($){var _e=di(),et=_e.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=$;var tt=et.dispatch,ct=et.pending,pt=_e.memoizedState;if(ct!==null){et.pending=null;var vt=ct=ct.next;do pt=$(pt,vt.action),vt=vt.next;while(vt!==ct);He(pt,_e.memoizedState)||(Ug=!0),_e.memoizedState=pt,_e.baseQueue===null&&(_e.baseState=pt),et.lastRenderedState=pt}return[pt,tt]}function hi(){}function ii($,_e){var et=N$1,tt=di(),ct=_e(),pt=!He(tt.memoizedState,ct);if(pt&&(tt.memoizedState=ct,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,$),[$]),tt.getSnapshot!==_e||pt||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,ct,_e),void 0,null),R$1===null)throw Error(p$5(349));Rh&30||ni(et,_e,ct)}return ct}function ni($,_e,et){$.flags|=16384,$={getSnapshot:_e,value:et},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.stores=[$]):(et=_e.stores,et===null?_e.stores=[$]:et.push($))}function mi($,_e,et,tt){_e.value=et,_e.getSnapshot=tt,oi(_e)&&pi($)}function ki($,_e,et){return et(function(){oi(_e)&&pi($)})}function oi($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!He($,et)}catch{return!0}}function pi($){var _e=Zg($,1);_e!==null&&mh(_e,$,1,-1)}function qi($){var _e=ci();return typeof $=="function"&&($=$()),_e.memoizedState=_e.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:$},_e.queue=$,$=$.dispatch=ri.bind(null,N$1,$),[_e.memoizedState,$]}function li($,_e,et,tt){return $={tag:$,create:_e,destroy:et,deps:tt,next:null},_e=N$1.updateQueue,_e===null?(_e={lastEffect:null,stores:null},N$1.updateQueue=_e,_e.lastEffect=$.next=$):(et=_e.lastEffect,et===null?_e.lastEffect=$.next=$:(tt=et.next,et.next=$,$.next=tt,_e.lastEffect=$)),$}function si(){return di().memoizedState}function ti($,_e,et,tt){var ct=ci();N$1.flags|=$,ct.memoizedState=li(1|_e,et,void 0,tt===void 0?null:tt)}function ui($,_e,et,tt){var ct=di();tt=tt===void 0?null:tt;var pt=void 0;if(O$1!==null){var vt=O$1.memoizedState;if(pt=vt.destroy,tt!==null&&Wh(tt,vt.deps)){ct.memoizedState=li(_e,et,pt,tt);return}}N$1.flags|=$,ct.memoizedState=li(1|_e,et,pt,tt)}function vi($,_e){return ti(8390656,8,$,_e)}function ji($,_e){return ui(2048,8,$,_e)}function wi($,_e){return ui(4,2,$,_e)}function xi($,_e){return ui(4,4,$,_e)}function yi($,_e){if(typeof _e=="function")return $=$(),_e($),function(){_e(null)};if(_e!=null)return $=$(),_e.current=$,function(){_e.current=null}}function zi($,_e,et){return et=et!=null?et.concat([$]):null,ui(4,4,yi.bind(null,_e,$),et)}function Ai(){}function Bi($,_e){var et=di();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Wh(_e,tt[1])?tt[0]:(et.memoizedState=[$,_e],$)}function Ci($,_e){var et=di();_e=_e===void 0?null:_e;var tt=et.memoizedState;return tt!==null&&_e!==null&&Wh(_e,tt[1])?tt[0]:($=$(),et.memoizedState=[$,_e],$)}function Di($,_e,et){return Rh&21?(He(et,_e)||(et=yc(),N$1.lanes|=et,hh|=et,$.baseState=!0),_e):($.baseState&&($.baseState=!1,Ug=!0),$.memoizedState=et)}function Ei($,_e){var et=C;C=et!==0&&4>et?et:4,$(!0);var tt=Qh.transition;Qh.transition={};try{$(!1),_e()}finally{C=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi($,_e,et){var tt=lh($);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi($))Ii(_e,et);else if(et=Yg($,_e,et,tt),et!==null){var ct=L$1();mh(et,$,tt,ct),Ji(et,_e,tt)}}function ri($,_e,et){var tt=lh($),ct={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi($))Ii(_e,ct);else{var pt=$.alternate;if($.lanes===0&&(pt===null||pt.lanes===0)&&(pt=_e.lastRenderedReducer,pt!==null))try{var vt=_e.lastRenderedState,ut=pt(vt,et);if(ct.hasEagerState=!0,ct.eagerState=ut,He(ut,vt)){var nt=_e.interleaved;nt===null?(ct.next=ct,Xg(_e)):(ct.next=nt.next,nt.next=ct),_e.interleaved=ct;return}}catch{}finally{}et=Yg($,_e,ct,tt),et!==null&&(ct=L$1(),mh(et,$,tt,ct),Ji(et,_e,tt))}}function Hi($){var _e=$.alternate;return $===N$1||_e!==null&&_e===N$1}function Ii($,_e){Th=Sh=!0;var et=$.pending;et===null?_e.next=_e:(_e.next=et.next,et.next=_e),$.pending=_e}function Ji($,_e,et){if(et&4194240){var tt=_e.lanes;tt&=$.pendingLanes,et|=tt,_e.lanes=et,Cc($,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function($,_e){return ci().memoizedState=[$,_e===void 0?null:_e],$},useContext:Vg,useEffect:vi,useImperativeHandle:function($,_e,et){return et=et!=null?et.concat([$]):null,ti(4194308,4,yi.bind(null,_e,$),et)},useLayoutEffect:function($,_e){return ti(4194308,4,$,_e)},useInsertionEffect:function($,_e){return ti(4,2,$,_e)},useMemo:function($,_e){var et=ci();return _e=_e===void 0?null:_e,$=$(),et.memoizedState=[$,_e],$},useReducer:function($,_e,et){var tt=ci();return _e=et!==void 0?et(_e):_e,tt.memoizedState=tt.baseState=_e,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:_e},tt.queue=$,$=$.dispatch=Gi.bind(null,N$1,$),[tt.memoizedState,$]},useRef:function($){var _e=ci();return $={current:$},_e.memoizedState=$},useState:qi,useDebugValue:Ai,useDeferredValue:function($){return ci().memoizedState=$},useTransition:function(){var $=qi(!1),_e=$[0];return $=Ei.bind(null,$[1]),ci().memoizedState=$,[_e,$]},useMutableSource:function(){},useSyncExternalStore:function($,_e,et){var tt=N$1,ct=ci();if(I$1){if(et===void 0)throw Error(p$5(407));et=et()}else{if(et=_e(),R$1===null)throw Error(p$5(349));Rh&30||ni(tt,_e,et)}ct.memoizedState=et;var pt={value:et,getSnapshot:_e};return ct.queue=pt,vi(ki.bind(null,tt,pt,$),[$]),tt.flags|=2048,li(9,mi.bind(null,tt,pt,et,_e),void 0,null),et},useId:function(){var $=ci(),_e=R$1.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_e=":"+_e+"R"+et,et=Uh++,0<et&&(_e+="H"+et.toString(32)),_e+=":"}else et=Vh++,_e=":"+_e+"r"+et.toString(32)+":";return $.memoizedState=_e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _e=di();return Di(_e,O$1.memoizedState,$)},useTransition:function(){var $=fi(ei)[0],_e=di().memoizedState;return[$,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function($){var _e=di();return O$1===null?_e.memoizedState=$:Di(_e,O$1.memoizedState,$)},useTransition:function(){var $=gi(ei)[0],_e=di().memoizedState;return[$,_e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki($,_e){try{var et="",tt=_e;do et+=Pa(tt),tt=tt.return;while(tt);var ct=et}catch(pt){ct=`
Error generating stack: `+pt.message+`
`+pt.stack}return{value:$,source:_e,stack:ct,digest:null}}function Li($,_e,et){return{value:$,source:null,stack:et??null,digest:_e??null}}function Mi($,_e){try{console.error(_e.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi($,_e,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=_e.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi($,_e)},et}function Ri($,_e,et){et=ch(-1,et),et.tag=3;var tt=$.type.getDerivedStateFromError;if(typeof tt=="function"){var ct=_e.value;et.payload=function(){return tt(ct)},et.callback=function(){Mi($,_e)}}var pt=$.stateNode;return pt!==null&&typeof pt.componentDidCatch=="function"&&(et.callback=function(){Mi($,_e),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var vt=_e.stack;this.componentDidCatch(_e.value,{componentStack:vt!==null?vt:""})}),et}function Ti($,_e,et){var tt=$.pingCache;if(tt===null){tt=$.pingCache=new Ni;var ct=new Set;tt.set(_e,ct)}else ct=tt.get(_e),ct===void 0&&(ct=new Set,tt.set(_e,ct));ct.has(et)||(ct.add(et),$=Ui.bind(null,$,_e,et),_e.then($,$))}function Vi($){do{var _e;if((_e=$.tag===13)&&(_e=$.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return $;$=$.return}while($!==null);return null}function Wi($,_e,et,tt,ct){return $.mode&1?($.flags|=65536,$.lanes=ct,$):($===_e?$.flags|=65536:($.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_e=ch(-1,1),_e.tag=2,dh(et,_e,1))),et.lanes|=1),$)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi($,_e,et,tt){_e.child=$===null?Ch(_e,null,et,tt):Bh(_e,$.child,et,tt)}function Zi($,_e,et,tt,ct){et=et.render;var pt=_e.ref;return Tg(_e,ct),tt=Xh($,_e,et,tt,pt,ct),et=bi(),$!==null&&!Ug?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~ct,$i($,_e,ct)):(I$1&&et&&vg(_e),_e.flags|=1,Yi($,_e,tt,ct),_e.child)}function aj($,_e,et,tt,ct){if($===null){var pt=et.type;return typeof pt=="function"&&!bj(pt)&&pt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_e.tag=15,_e.type=pt,cj($,_e,pt,tt,ct)):($=yh(et.type,null,tt,_e,_e.mode,ct),$.ref=_e.ref,$.return=_e,_e.child=$)}if(pt=$.child,!($.lanes&ct)){var vt=pt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(vt,tt)&&$.ref===_e.ref)return $i($,_e,ct)}return _e.flags|=1,$=wh(pt,tt),$.ref=_e.ref,$.return=_e,_e.child=$}function cj($,_e,et,tt,ct){if($!==null){var pt=$.memoizedProps;if(Ie(pt,tt)&&$.ref===_e.ref)if(Ug=!1,_e.pendingProps=tt=pt,($.lanes&ct)!==0)$.flags&131072&&(Ug=!0);else return _e.lanes=$.lanes,$i($,_e,ct)}return dj($,_e,et,tt,ct)}function ej($,_e,et){var tt=_e.pendingProps,ct=tt.children,pt=$!==null?$.memoizedState:null;if(tt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return $=pt!==null?pt.baseLanes|et:et,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:$,cachePool:null,transitions:null},_e.updateQueue=null,G$1(fj,gj),gj|=$,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=pt!==null?pt.baseLanes:et,G$1(fj,gj),gj|=tt}else pt!==null?(tt=pt.baseLanes|et,_e.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi($,_e,ct,et),_e.child}function hj($,_e){var et=_e.ref;($===null&&et!==null||$!==null&&$.ref!==et)&&(_e.flags|=512,_e.flags|=2097152)}function dj($,_e,et,tt,ct){var pt=Zf(et)?Xf:H$1.current;return pt=Yf(_e,pt),Tg(_e,ct),et=Xh($,_e,et,tt,pt,ct),tt=bi(),$!==null&&!Ug?(_e.updateQueue=$.updateQueue,_e.flags&=-2053,$.lanes&=~ct,$i($,_e,ct)):(I$1&&tt&&vg(_e),_e.flags|=1,Yi($,_e,et,ct),_e.child)}function ij($,_e,et,tt,ct){if(Zf(et)){var pt=!0;cg(_e)}else pt=!1;if(Tg(_e,ct),_e.stateNode===null)jj($,_e),ph(_e,et,tt),rh(_e,et,tt,ct),tt=!0;else if($===null){var vt=_e.stateNode,ut=_e.memoizedProps;vt.props=ut;var nt=vt.context,lt=et.contextType;typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(et)?Xf:H$1.current,lt=Yf(_e,lt));var ft=et.getDerivedStateFromProps,it=typeof ft=="function"||typeof vt.getSnapshotBeforeUpdate=="function";it||typeof vt.UNSAFE_componentWillReceiveProps!="function"&&typeof vt.componentWillReceiveProps!="function"||(ut!==tt||nt!==lt)&&qh(_e,vt,tt,lt),$g=!1;var ot=_e.memoizedState;vt.state=ot,gh(_e,tt,vt,ct),nt=_e.memoizedState,ut!==tt||ot!==nt||Wf.current||$g?(typeof ft=="function"&&(kh(_e,et,ft,tt),nt=_e.memoizedState),(ut=$g||oh(_e,et,ut,tt,ot,nt,lt))?(it||typeof vt.UNSAFE_componentWillMount!="function"&&typeof vt.componentWillMount!="function"||(typeof vt.componentWillMount=="function"&&vt.componentWillMount(),typeof vt.UNSAFE_componentWillMount=="function"&&vt.UNSAFE_componentWillMount()),typeof vt.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof vt.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=tt,_e.memoizedState=nt),vt.props=tt,vt.state=nt,vt.context=lt,tt=ut):(typeof vt.componentDidMount=="function"&&(_e.flags|=4194308),tt=!1)}else{vt=_e.stateNode,bh($,_e),ut=_e.memoizedProps,lt=_e.type===_e.elementType?ut:Lg(_e.type,ut),vt.props=lt,it=_e.pendingProps,ot=vt.context,nt=et.contextType,typeof nt=="object"&&nt!==null?nt=Vg(nt):(nt=Zf(et)?Xf:H$1.current,nt=Yf(_e,nt));var rt=et.getDerivedStateFromProps;(ft=typeof rt=="function"||typeof vt.getSnapshotBeforeUpdate=="function")||typeof vt.UNSAFE_componentWillReceiveProps!="function"&&typeof vt.componentWillReceiveProps!="function"||(ut!==it||ot!==nt)&&qh(_e,vt,tt,nt),$g=!1,ot=_e.memoizedState,vt.state=ot,gh(_e,tt,vt,ct);var st=_e.memoizedState;ut!==it||ot!==st||Wf.current||$g?(typeof rt=="function"&&(kh(_e,et,rt,tt),st=_e.memoizedState),(lt=$g||oh(_e,et,lt,tt,ot,st,nt)||!1)?(ft||typeof vt.UNSAFE_componentWillUpdate!="function"&&typeof vt.componentWillUpdate!="function"||(typeof vt.componentWillUpdate=="function"&&vt.componentWillUpdate(tt,st,nt),typeof vt.UNSAFE_componentWillUpdate=="function"&&vt.UNSAFE_componentWillUpdate(tt,st,nt)),typeof vt.componentDidUpdate=="function"&&(_e.flags|=4),typeof vt.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof vt.componentDidUpdate!="function"||ut===$.memoizedProps&&ot===$.memoizedState||(_e.flags|=4),typeof vt.getSnapshotBeforeUpdate!="function"||ut===$.memoizedProps&&ot===$.memoizedState||(_e.flags|=1024),_e.memoizedProps=tt,_e.memoizedState=st),vt.props=tt,vt.state=st,vt.context=nt,tt=lt):(typeof vt.componentDidUpdate!="function"||ut===$.memoizedProps&&ot===$.memoizedState||(_e.flags|=4),typeof vt.getSnapshotBeforeUpdate!="function"||ut===$.memoizedProps&&ot===$.memoizedState||(_e.flags|=1024),tt=!1)}return kj($,_e,et,tt,pt,ct)}function kj($,_e,et,tt,ct,pt){hj($,_e);var vt=(_e.flags&128)!==0;if(!tt&&!vt)return ct&&dg(_e,et,!1),$i($,_e,pt);tt=_e.stateNode,Xi.current=_e;var ut=vt&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _e.flags|=1,$!==null&&vt?(_e.child=Bh(_e,$.child,null,pt),_e.child=Bh(_e,null,ut,pt)):Yi($,_e,ut,pt),_e.memoizedState=tt.state,ct&&dg(_e,et,!0),_e.child}function lj($){var _e=$.stateNode;_e.pendingContext?ag($,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag($,_e.context,!1),Ih($,_e.containerInfo)}function mj($,_e,et,tt,ct){return Ig(),Jg(ct),_e.flags|=256,Yi($,_e,et,tt),_e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj($){return{baseLanes:$,cachePool:null,transitions:null}}function pj($,_e,et){var tt=_e.pendingProps,ct=M$1.current,pt=!1,vt=(_e.flags&128)!==0,ut;if((ut=vt)||(ut=$!==null&&$.memoizedState===null?!1:(ct&2)!==0),ut?(pt=!0,_e.flags&=-129):($===null||$.memoizedState!==null)&&(ct|=1),G$1(M$1,ct&1),$===null)return Eg(_e),$=_e.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(_e.mode&1?$.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(vt=tt.children,$=tt.fallback,pt?(tt=_e.mode,pt=_e.child,vt={mode:"hidden",children:vt},!(tt&1)&&pt!==null?(pt.childLanes=0,pt.pendingProps=vt):pt=qj(vt,tt,0,null),$=Ah($,tt,et,null),pt.return=_e,$.return=_e,pt.sibling=$,_e.child=pt,_e.child.memoizedState=oj(et),_e.memoizedState=nj,$):rj(_e,vt));if(ct=$.memoizedState,ct!==null&&(ut=ct.dehydrated,ut!==null))return sj($,_e,vt,tt,ut,ct,et);if(pt){pt=tt.fallback,vt=_e.mode,ct=$.child,ut=ct.sibling;var nt={mode:"hidden",children:tt.children};return!(vt&1)&&_e.child!==ct?(tt=_e.child,tt.childLanes=0,tt.pendingProps=nt,_e.deletions=null):(tt=wh(ct,nt),tt.subtreeFlags=ct.subtreeFlags&14680064),ut!==null?pt=wh(ut,pt):(pt=Ah(pt,vt,et,null),pt.flags|=2),pt.return=_e,tt.return=_e,tt.sibling=pt,_e.child=tt,tt=pt,pt=_e.child,vt=$.child.memoizedState,vt=vt===null?oj(et):{baseLanes:vt.baseLanes|et,cachePool:null,transitions:vt.transitions},pt.memoizedState=vt,pt.childLanes=$.childLanes&~et,_e.memoizedState=nj,tt}return pt=$.child,$=pt.sibling,tt=wh(pt,{mode:"visible",children:tt.children}),!(_e.mode&1)&&(tt.lanes=et),tt.return=_e,tt.sibling=null,$!==null&&(et=_e.deletions,et===null?(_e.deletions=[$],_e.flags|=16):et.push($)),_e.child=tt,_e.memoizedState=null,tt}function rj($,_e){return _e=qj({mode:"visible",children:_e},$.mode,0,null),_e.return=$,$.child=_e}function tj($,_e,et,tt){return tt!==null&&Jg(tt),Bh(_e,$.child,null,et),$=rj(_e,_e.pendingProps.children),$.flags|=2,_e.memoizedState=null,$}function sj($,_e,et,tt,ct,pt,vt){if(et)return _e.flags&256?(_e.flags&=-257,tt=Li(Error(p$5(422))),tj($,_e,vt,tt)):_e.memoizedState!==null?(_e.child=$.child,_e.flags|=128,null):(pt=tt.fallback,ct=_e.mode,tt=qj({mode:"visible",children:tt.children},ct,0,null),pt=Ah(pt,ct,vt,null),pt.flags|=2,tt.return=_e,pt.return=_e,tt.sibling=pt,_e.child=tt,_e.mode&1&&Bh(_e,$.child,null,vt),_e.child.memoizedState=oj(vt),_e.memoizedState=nj,pt);if(!(_e.mode&1))return tj($,_e,vt,null);if(ct.data==="$!"){if(tt=ct.nextSibling&&ct.nextSibling.dataset,tt)var ut=tt.dgst;return tt=ut,pt=Error(p$5(419)),tt=Li(pt,tt,void 0),tj($,_e,vt,tt)}if(ut=(vt&$.childLanes)!==0,Ug||ut){if(tt=R$1,tt!==null){switch(vt&-vt){case 4:ct=2;break;case 16:ct=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ct=32;break;case 536870912:ct=268435456;break;default:ct=0}ct=ct&(tt.suspendedLanes|vt)?0:ct,ct!==0&&ct!==pt.retryLane&&(pt.retryLane=ct,Zg($,ct),mh(tt,$,ct,-1))}return uj(),tt=Li(Error(p$5(421))),tj($,_e,vt,tt)}return ct.data==="$?"?(_e.flags|=128,_e.child=$.child,_e=vj.bind(null,$),ct._reactRetry=_e,null):($=pt.treeContext,yg=Lf(ct.nextSibling),xg=_e,I$1=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=_e),_e=rj(_e,tt.children),_e.flags|=4096,_e)}function wj($,_e,et){$.lanes|=_e;var tt=$.alternate;tt!==null&&(tt.lanes|=_e),Sg($.return,_e,et)}function xj($,_e,et,tt,ct){var pt=$.memoizedState;pt===null?$.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:ct}:(pt.isBackwards=_e,pt.rendering=null,pt.renderingStartTime=0,pt.last=tt,pt.tail=et,pt.tailMode=ct)}function yj($,_e,et){var tt=_e.pendingProps,ct=tt.revealOrder,pt=tt.tail;if(Yi($,_e,tt.children,et),tt=M$1.current,tt&2)tt=tt&1|2,_e.flags|=128;else{if($!==null&&$.flags&128)e:for($=_e.child;$!==null;){if($.tag===13)$.memoizedState!==null&&wj($,et,_e);else if($.tag===19)wj($,et,_e);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break e;for(;$.sibling===null;){if($.return===null||$.return===_e)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}tt&=1}if(G$1(M$1,tt),!(_e.mode&1))_e.memoizedState=null;else switch(ct){case"forwards":for(et=_e.child,ct=null;et!==null;)$=et.alternate,$!==null&&Mh($)===null&&(ct=et),et=et.sibling;et=ct,et===null?(ct=_e.child,_e.child=null):(ct=et.sibling,et.sibling=null),xj(_e,!1,ct,et,pt);break;case"backwards":for(et=null,ct=_e.child,_e.child=null;ct!==null;){if($=ct.alternate,$!==null&&Mh($)===null){_e.child=ct;break}$=ct.sibling,ct.sibling=et,et=ct,ct=$}xj(_e,!0,et,null,pt);break;case"together":xj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function jj($,_e){!(_e.mode&1)&&$!==null&&($.alternate=null,_e.alternate=null,_e.flags|=2)}function $i($,_e,et){if($!==null&&(_e.dependencies=$.dependencies),hh|=_e.lanes,!(et&_e.childLanes))return null;if($!==null&&_e.child!==$.child)throw Error(p$5(153));if(_e.child!==null){for($=_e.child,et=wh($,$.pendingProps),_e.child=et,et.return=_e;$.sibling!==null;)$=$.sibling,et=et.sibling=wh($,$.pendingProps),et.return=_e;et.sibling=null}return _e.child}function zj($,_e,et){switch(_e.tag){case 3:lj(_e),Ig();break;case 5:Kh(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:Ih(_e,_e.stateNode.containerInfo);break;case 10:var tt=_e.type._context,ct=_e.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=ct;break;case 13:if(tt=_e.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),_e.flags|=128,null):et&_e.child.childLanes?pj($,_e,et):(G$1(M$1,M$1.current&1),$=$i($,_e,et),$!==null?$.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&_e.childLanes)!==0,$.flags&128){if(tt)return yj($,_e,et);_e.flags|=128}if(ct=_e.memoizedState,ct!==null&&(ct.rendering=null,ct.tail=null,ct.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return _e.lanes=0,ej($,_e,et)}return $i($,_e,et)}var Aj,Bj,Cj,Dj;Aj=function($,_e){for(var et=_e.child;et!==null;){if(et.tag===5||et.tag===6)$.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_e)break;for(;et.sibling===null;){if(et.return===null||et.return===_e)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function($,_e,et,tt){var ct=$.memoizedProps;if(ct!==tt){$=_e.stateNode,Hh(Eh.current);var pt=null;switch(et){case"input":ct=Ya($,ct),tt=Ya($,tt),pt=[];break;case"select":ct=A$2({},ct,{value:void 0}),tt=A$2({},tt,{value:void 0}),pt=[];break;case"textarea":ct=gb($,ct),tt=gb($,tt),pt=[];break;default:typeof ct.onClick!="function"&&typeof tt.onClick=="function"&&($.onclick=Bf)}ub(et,tt);var vt;et=null;for(lt in ct)if(!tt.hasOwnProperty(lt)&&ct.hasOwnProperty(lt)&&ct[lt]!=null)if(lt==="style"){var ut=ct[lt];for(vt in ut)ut.hasOwnProperty(vt)&&(et||(et={}),et[vt]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(ea.hasOwnProperty(lt)?pt||(pt=[]):(pt=pt||[]).push(lt,null));for(lt in tt){var nt=tt[lt];if(ut=ct!=null?ct[lt]:void 0,tt.hasOwnProperty(lt)&&nt!==ut&&(nt!=null||ut!=null))if(lt==="style")if(ut){for(vt in ut)!ut.hasOwnProperty(vt)||nt&&nt.hasOwnProperty(vt)||(et||(et={}),et[vt]="");for(vt in nt)nt.hasOwnProperty(vt)&&ut[vt]!==nt[vt]&&(et||(et={}),et[vt]=nt[vt])}else et||(pt||(pt=[]),pt.push(lt,et)),et=nt;else lt==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,ut=ut?ut.__html:void 0,nt!=null&&ut!==nt&&(pt=pt||[]).push(lt,nt)):lt==="children"?typeof nt!="string"&&typeof nt!="number"||(pt=pt||[]).push(lt,""+nt):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lt)?(nt!=null&&lt==="onScroll"&&D$1("scroll",$),pt||ut===nt||(pt=[])):(pt=pt||[]).push(lt,nt))}et&&(pt=pt||[]).push("style",et);var lt=pt;(_e.updateQueue=lt)&&(_e.flags|=4)}};Dj=function($,_e,et,tt){et!==tt&&(_e.flags|=4)};function Ej($,_e){if(!I$1)switch($.tailMode){case"hidden":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$.tail=null:et.sibling=null;break;case"collapsed":et=$.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_e||$.tail===null?$.tail=null:$.tail.sibling=null:tt.sibling=null}}function S$1($){var _e=$.alternate!==null&&$.alternate.child===$.child,et=0,tt=0;if(_e)for(var ct=$.child;ct!==null;)et|=ct.lanes|ct.childLanes,tt|=ct.subtreeFlags&14680064,tt|=ct.flags&14680064,ct.return=$,ct=ct.sibling;else for(ct=$.child;ct!==null;)et|=ct.lanes|ct.childLanes,tt|=ct.subtreeFlags,tt|=ct.flags,ct.return=$,ct=ct.sibling;return $.subtreeFlags|=tt,$.childLanes=et,_e}function Fj($,_e,et){var tt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_e),null;case 1:return Zf(_e.type)&&$f(),S$1(_e),null;case 3:return tt=_e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),($===null||$.child===null)&&(Gg(_e)?_e.flags|=4:$===null||$.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj($,_e),S$1(_e),null;case 5:Lh(_e);var ct=Hh(Gh.current);if(et=_e.type,$!==null&&_e.stateNode!=null)Cj($,_e,et,tt,ct),$.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!tt){if(_e.stateNode===null)throw Error(p$5(166));return S$1(_e),null}if($=Hh(Eh.current),Gg(_e)){tt=_e.stateNode,et=_e.type;var pt=_e.memoizedProps;switch(tt[Of]=_e,tt[Pf]=pt,$=(_e.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(ct=0;ct<lf.length;ct++)D$1(lf[ct],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,pt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!pt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,pt),D$1("invalid",tt)}ub(et,pt),ct=null;for(var vt in pt)if(pt.hasOwnProperty(vt)){var ut=pt[vt];vt==="children"?typeof ut=="string"?tt.textContent!==ut&&(pt.suppressHydrationWarning!==!0&&Af(tt.textContent,ut,$),ct=["children",ut]):typeof ut=="number"&&tt.textContent!==""+ut&&(pt.suppressHydrationWarning!==!0&&Af(tt.textContent,ut,$),ct=["children",""+ut]):ea.hasOwnProperty(vt)&&ut!=null&&vt==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,pt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof pt.onClick=="function"&&(tt.onclick=Bf)}tt=ct,_e.updateQueue=tt,tt!==null&&(_e.flags|=4)}else{vt=ct.nodeType===9?ct:ct.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(et)),$==="http://www.w3.org/1999/xhtml"?et==="script"?($=vt.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof tt.is=="string"?$=vt.createElement(et,{is:tt.is}):($=vt.createElement(et),et==="select"&&(vt=$,tt.multiple?vt.multiple=!0:tt.size&&(vt.size=tt.size))):$=vt.createElementNS($,et),$[Of]=_e,$[Pf]=tt,Aj($,_e,!1,!1),_e.stateNode=$;e:{switch(vt=vb(et,tt),et){case"dialog":D$1("cancel",$),D$1("close",$),ct=tt;break;case"iframe":case"object":case"embed":D$1("load",$),ct=tt;break;case"video":case"audio":for(ct=0;ct<lf.length;ct++)D$1(lf[ct],$);ct=tt;break;case"source":D$1("error",$),ct=tt;break;case"img":case"image":case"link":D$1("error",$),D$1("load",$),ct=tt;break;case"details":D$1("toggle",$),ct=tt;break;case"input":Za($,tt),ct=Ya($,tt),D$1("invalid",$);break;case"option":ct=tt;break;case"select":$._wrapperState={wasMultiple:!!tt.multiple},ct=A$2({},tt,{value:void 0}),D$1("invalid",$);break;case"textarea":hb($,tt),ct=gb($,tt),D$1("invalid",$);break;default:ct=tt}ub(et,ct),ut=ct;for(pt in ut)if(ut.hasOwnProperty(pt)){var nt=ut[pt];pt==="style"?sb($,nt):pt==="dangerouslySetInnerHTML"?(nt=nt?nt.__html:void 0,nt!=null&&nb($,nt)):pt==="children"?typeof nt=="string"?(et!=="textarea"||nt!=="")&&ob($,nt):typeof nt=="number"&&ob($,""+nt):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(ea.hasOwnProperty(pt)?nt!=null&&pt==="onScroll"&&D$1("scroll",$):nt!=null&&ta($,pt,nt,vt))}switch(et){case"input":Va($),db($,tt,!1);break;case"textarea":Va($),jb($);break;case"option":tt.value!=null&&$.setAttribute("value",""+Sa(tt.value));break;case"select":$.multiple=!!tt.multiple,pt=tt.value,pt!=null?fb($,!!tt.multiple,pt,!1):tt.defaultValue!=null&&fb($,!!tt.multiple,tt.defaultValue,!0);break;default:typeof ct.onClick=="function"&&($.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$1(_e),null;case 6:if($&&_e.stateNode!=null)Dj($,_e,$.memoizedProps,tt);else{if(typeof tt!="string"&&_e.stateNode===null)throw Error(p$5(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg(_e)){if(tt=_e.stateNode,et=_e.memoizedProps,tt[Of]=_e,(pt=tt.nodeValue!==et)&&($=xg,$!==null))switch($.tag){case 3:Af(tt.nodeValue,et,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,($.mode&1)!==0)}pt&&(_e.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_e,_e.stateNode=tt}return S$1(_e),null;case 13:if(E$1(M$1),tt=_e.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,pt=!1;else if(pt=Gg(_e),tt!==null&&tt.dehydrated!==null){if($===null){if(!pt)throw Error(p$5(318));if(pt=_e.memoizedState,pt=pt!==null?pt.dehydrated:null,!pt)throw Error(p$5(317));pt[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$1(_e),pt=!1}else zg!==null&&(Gj(zg),zg=null),pt=!0;if(!pt)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=et,_e):(tt=tt!==null,tt!==($!==null&&$.memoizedState!==null)&&tt&&(_e.child.flags|=8192,_e.mode&1&&($===null||M$1.current&1?T===0&&(T=3):uj())),_e.updateQueue!==null&&(_e.flags|=4),S$1(_e),null);case 4:return Jh(),Bj($,_e),$===null&&sf(_e.stateNode.containerInfo),S$1(_e),null;case 10:return Rg(_e.type._context),S$1(_e),null;case 17:return Zf(_e.type)&&$f(),S$1(_e),null;case 19:if(E$1(M$1),pt=_e.memoizedState,pt===null)return S$1(_e),null;if(tt=(_e.flags&128)!==0,vt=pt.rendering,vt===null)if(tt)Ej(pt,!1);else{if(T!==0||$!==null&&$.flags&128)for($=_e.child;$!==null;){if(vt=Mh($),vt!==null){for(_e.flags|=128,Ej(pt,!1),tt=vt.updateQueue,tt!==null&&(_e.updateQueue=tt,_e.flags|=4),_e.subtreeFlags=0,tt=et,et=_e.child;et!==null;)pt=et,$=tt,pt.flags&=14680066,vt=pt.alternate,vt===null?(pt.childLanes=0,pt.lanes=$,pt.child=null,pt.subtreeFlags=0,pt.memoizedProps=null,pt.memoizedState=null,pt.updateQueue=null,pt.dependencies=null,pt.stateNode=null):(pt.childLanes=vt.childLanes,pt.lanes=vt.lanes,pt.child=vt.child,pt.subtreeFlags=0,pt.deletions=null,pt.memoizedProps=vt.memoizedProps,pt.memoizedState=vt.memoizedState,pt.updateQueue=vt.updateQueue,pt.type=vt.type,$=vt.dependencies,pt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),_e.child}$=$.sibling}pt.tail!==null&&B$1()>Hj&&(_e.flags|=128,tt=!0,Ej(pt,!1),_e.lanes=4194304)}else{if(!tt)if($=Mh(vt),$!==null){if(_e.flags|=128,tt=!0,et=$.updateQueue,et!==null&&(_e.updateQueue=et,_e.flags|=4),Ej(pt,!0),pt.tail===null&&pt.tailMode==="hidden"&&!vt.alternate&&!I$1)return S$1(_e),null}else 2*B$1()-pt.renderingStartTime>Hj&&et!==1073741824&&(_e.flags|=128,tt=!0,Ej(pt,!1),_e.lanes=4194304);pt.isBackwards?(vt.sibling=_e.child,_e.child=vt):(et=pt.last,et!==null?et.sibling=vt:_e.child=vt,pt.last=vt)}return pt.tail!==null?(_e=pt.tail,pt.rendering=_e,pt.tail=_e.sibling,pt.renderingStartTime=B$1(),_e.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),_e):(S$1(_e),null);case 22:case 23:return Ij(),tt=_e.memoizedState!==null,$!==null&&$.memoizedState!==null!==tt&&(_e.flags|=8192),tt&&_e.mode&1?gj&1073741824&&(S$1(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$1(_e),null;case 24:return null;case 25:return null}throw Error(p$5(156,_e.tag))}function Jj($,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),$=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),$=_e.flags,$&65536&&!($&128)?(_e.flags=$&-65537|128,_e):null;case 5:return Lh(_e),null;case 13:if(E$1(M$1),$=_e.memoizedState,$!==null&&$.dehydrated!==null){if(_e.alternate===null)throw Error(p$5(340));Ig()}return $=_e.flags,$&65536?(_e.flags=$&-65537|128,_e):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(_e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj($,_e){var et=$.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1($,_e,tt)}else et.current=null}function Nj($,_e,et){try{et()}catch(tt){W$1($,_e,tt)}}var Oj=!1;function Pj($,_e){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var et={start:$.selectionStart,end:$.selectionEnd};else e:{et=(et=$.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var ct=tt.anchorOffset,pt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,pt.nodeType}catch{et=null;break e}var vt=0,ut=-1,nt=-1,lt=0,ft=0,it=$,ot=null;t:for(;;){for(var rt;it!==et||ct!==0&&it.nodeType!==3||(ut=vt+ct),it!==pt||tt!==0&&it.nodeType!==3||(nt=vt+tt),it.nodeType===3&&(vt+=it.nodeValue.length),(rt=it.firstChild)!==null;)ot=it,it=rt;for(;;){if(it===$)break t;if(ot===et&&++lt===ct&&(ut=vt),ot===pt&&++ft===tt&&(nt=vt),(rt=it.nextSibling)!==null)break;it=ot,ot=it.parentNode}it=rt}et=ut===-1||nt===-1?null:{start:ut,end:nt}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:$,selectionRange:et},dd=!1,V=_e;V!==null;)if(_e=V,$=_e.child,(_e.subtreeFlags&1028)!==0&&$!==null)$.return=_e,V=$;else for(;V!==null;){_e=V;try{var st=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var ht=st.memoizedProps,at=st.memoizedState,dt=_e.stateNode,gt=dt.getSnapshotBeforeUpdate(_e.elementType===_e.type?ht:Lg(_e.type,ht),at);dt.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var mt=_e.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(yt){W$1(_e,_e.return,yt)}if($=_e.sibling,$!==null){$.return=_e.return,V=$;break}V=_e.return}return st=Oj,Oj=!1,st}function Qj($,_e,et){var tt=_e.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var ct=tt=tt.next;do{if((ct.tag&$)===$){var pt=ct.destroy;ct.destroy=void 0,pt!==void 0&&Nj(_e,et,pt)}ct=ct.next}while(ct!==tt)}}function Rj($,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var et=_e=_e.next;do{if((et.tag&$)===$){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_e)}}function Sj($){var _e=$.ref;if(_e!==null){var et=$.stateNode;switch($.tag){case 5:$=et;break;default:$=et}typeof _e=="function"?_e($):_e.current=$}}function Tj($){var _e=$.alternate;_e!==null&&($.alternate=null,Tj(_e)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(_e=$.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Uj($){return $.tag===5||$.tag===3||$.tag===4}function Vj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Uj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Wj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.nodeType===8?et.parentNode.insertBefore($,_e):et.insertBefore($,_e):(et.nodeType===8?(_e=et.parentNode,_e.insertBefore($,et)):(_e=et,_e.appendChild($)),et=et._reactRootContainer,et!=null||_e.onclick!==null||(_e.onclick=Bf));else if(tt!==4&&($=$.child,$!==null))for(Wj($,_e,et),$=$.sibling;$!==null;)Wj($,_e,et),$=$.sibling}function Xj($,_e,et){var tt=$.tag;if(tt===5||tt===6)$=$.stateNode,_e?et.insertBefore($,_e):et.appendChild($);else if(tt!==4&&($=$.child,$!==null))for(Xj($,_e,et),$=$.sibling;$!==null;)Xj($,_e,et),$=$.sibling}var X$1=null,Yj=!1;function Zj($,_e,et){for(et=et.child;et!==null;)ak($,_e,et),et=et.sibling}function ak($,_e,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,_e);case 6:var tt=X$1,ct=Yj;X$1=null,Zj($,_e,et),X$1=tt,Yj=ct,X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?$.parentNode.removeChild(et):$.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?($=X$1,et=et.stateNode,$.nodeType===8?Kf($.parentNode,et):$.nodeType===1&&Kf($,et),bd($)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,ct=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj($,_e,et),X$1=tt,Yj=ct;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){ct=tt=tt.next;do{var pt=ct,vt=pt.destroy;pt=pt.tag,vt!==void 0&&(pt&2||pt&4)&&Nj(et,_e,vt),ct=ct.next}while(ct!==tt)}Zj($,_e,et);break;case 1:if(!U$1&&(Mj(et,_e),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(ut){W$1(et,_e,ut)}Zj($,_e,et);break;case 21:Zj($,_e,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj($,_e,et),U$1=tt):Zj($,_e,et);break;default:Zj($,_e,et)}}function bk($){var _e=$.updateQueue;if(_e!==null){$.updateQueue=null;var et=$.stateNode;et===null&&(et=$.stateNode=new Lj),_e.forEach(function(tt){var ct=ck.bind(null,$,tt);et.has(tt)||(et.add(tt),tt.then(ct,ct))})}}function dk($,_e){var et=_e.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var ct=et[tt];try{var pt=$,vt=_e,ut=vt;e:for(;ut!==null;){switch(ut.tag){case 5:X$1=ut.stateNode,Yj=!1;break e;case 3:X$1=ut.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ut.stateNode.containerInfo,Yj=!0;break e}ut=ut.return}if(X$1===null)throw Error(p$5(160));ak(pt,vt,ct),X$1=null,Yj=!1;var nt=ct.alternate;nt!==null&&(nt.return=null),ct.return=null}catch(lt){W$1(ct,_e,lt)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)ek(_e,$),_e=_e.sibling}function ek($,_e){var et=$.alternate,tt=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(dk(_e,$),fk($),tt&4){try{Qj(3,$,$.return),Rj(3,$)}catch(ht){W$1($,$.return,ht)}try{Qj(5,$,$.return)}catch(ht){W$1($,$.return,ht)}}break;case 1:dk(_e,$),fk($),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk(_e,$),fk($),tt&512&&et!==null&&Mj(et,et.return),$.flags&32){var ct=$.stateNode;try{ob(ct,"")}catch(ht){W$1($,$.return,ht)}}if(tt&4&&(ct=$.stateNode,ct!=null)){var pt=$.memoizedProps,vt=et!==null?et.memoizedProps:pt,ut=$.type,nt=$.updateQueue;if($.updateQueue=null,nt!==null)try{ut==="input"&&pt.type==="radio"&&pt.name!=null&&ab(ct,pt),vb(ut,vt);var lt=vb(ut,pt);for(vt=0;vt<nt.length;vt+=2){var ft=nt[vt],it=nt[vt+1];ft==="style"?sb(ct,it):ft==="dangerouslySetInnerHTML"?nb(ct,it):ft==="children"?ob(ct,it):ta(ct,ft,it,lt)}switch(ut){case"input":bb(ct,pt);break;case"textarea":ib(ct,pt);break;case"select":var ot=ct._wrapperState.wasMultiple;ct._wrapperState.wasMultiple=!!pt.multiple;var rt=pt.value;rt!=null?fb(ct,!!pt.multiple,rt,!1):ot!==!!pt.multiple&&(pt.defaultValue!=null?fb(ct,!!pt.multiple,pt.defaultValue,!0):fb(ct,!!pt.multiple,pt.multiple?[]:"",!1))}ct[Pf]=pt}catch(ht){W$1($,$.return,ht)}}break;case 6:if(dk(_e,$),fk($),tt&4){if($.stateNode===null)throw Error(p$5(162));ct=$.stateNode,pt=$.memoizedProps;try{ct.nodeValue=pt}catch(ht){W$1($,$.return,ht)}}break;case 3:if(dk(_e,$),fk($),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(ht){W$1($,$.return,ht)}break;case 4:dk(_e,$),fk($);break;case 13:dk(_e,$),fk($),ct=$.child,ct.flags&8192&&(pt=ct.memoizedState!==null,ct.stateNode.isHidden=pt,!pt||ct.alternate!==null&&ct.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk($);break;case 22:if(ft=et!==null&&et.memoizedState!==null,$.mode&1?(U$1=(lt=U$1)||ft,dk(_e,$),U$1=lt):dk(_e,$),fk($),tt&8192){if(lt=$.memoizedState!==null,($.stateNode.isHidden=lt)&&!ft&&$.mode&1)for(V=$,ft=$.child;ft!==null;){for(it=V=ft;V!==null;){switch(ot=V,rt=ot.child,ot.tag){case 0:case 11:case 14:case 15:Qj(4,ot,ot.return);break;case 1:Mj(ot,ot.return);var st=ot.stateNode;if(typeof st.componentWillUnmount=="function"){tt=ot,et=ot.return;try{_e=tt,st.props=_e.memoizedProps,st.state=_e.memoizedState,st.componentWillUnmount()}catch(ht){W$1(tt,et,ht)}}break;case 5:Mj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){hk(it);continue}}rt!==null?(rt.return=ot,V=rt):hk(it)}ft=ft.sibling}e:for(ft=null,it=$;;){if(it.tag===5){if(ft===null){ft=it;try{ct=it.stateNode,lt?(pt=ct.style,typeof pt.setProperty=="function"?pt.setProperty("display","none","important"):pt.display="none"):(ut=it.stateNode,nt=it.memoizedProps.style,vt=nt!=null&&nt.hasOwnProperty("display")?nt.display:null,ut.style.display=rb("display",vt))}catch(ht){W$1($,$.return,ht)}}}else if(it.tag===6){if(ft===null)try{it.stateNode.nodeValue=lt?"":it.memoizedProps}catch(ht){W$1($,$.return,ht)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===$)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===$)break e;for(;it.sibling===null;){if(it.return===null||it.return===$)break e;ft===it&&(ft=null),it=it.return}ft===it&&(ft=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:dk(_e,$),fk($),tt&4&&bk($);break;case 21:break;default:dk(_e,$),fk($)}}function fk($){var _e=$.flags;if(_e&2){try{e:{for(var et=$.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$5(160))}switch(tt.tag){case 5:var ct=tt.stateNode;tt.flags&32&&(ob(ct,""),tt.flags&=-33);var pt=Vj($);Xj($,pt,ct);break;case 3:case 4:var vt=tt.stateNode.containerInfo,ut=Vj($);Wj($,ut,vt);break;default:throw Error(p$5(161))}}catch(nt){W$1($,$.return,nt)}$.flags&=-3}_e&4096&&($.flags&=-4097)}function ik($,_e,et){V=$,jk($)}function jk($,_e,et){for(var tt=($.mode&1)!==0;V!==null;){var ct=V,pt=ct.child;if(ct.tag===22&&tt){var vt=ct.memoizedState!==null||Kj;if(!vt){var ut=ct.alternate,nt=ut!==null&&ut.memoizedState!==null||U$1;ut=Kj;var lt=U$1;if(Kj=vt,(U$1=nt)&&!lt)for(V=ct;V!==null;)vt=V,nt=vt.child,vt.tag===22&&vt.memoizedState!==null?kk(ct):nt!==null?(nt.return=vt,V=nt):kk(ct);for(;pt!==null;)V=pt,jk(pt),pt=pt.sibling;V=ct,Kj=ut,U$1=lt}lk($)}else ct.subtreeFlags&8772&&pt!==null?(pt.return=ct,V=pt):lk($)}}function lk($){for(;V!==null;){var _e=V;if(_e.flags&8772){var et=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U$1||Rj(5,_e);break;case 1:var tt=_e.stateNode;if(_e.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var ct=_e.elementType===_e.type?et.memoizedProps:Lg(_e.type,et.memoizedProps);tt.componentDidUpdate(ct,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var pt=_e.updateQueue;pt!==null&&ih(_e,pt,tt);break;case 3:var vt=_e.updateQueue;if(vt!==null){if(et=null,_e.child!==null)switch(_e.child.tag){case 5:et=_e.child.stateNode;break;case 1:et=_e.child.stateNode}ih(_e,vt,et)}break;case 5:var ut=_e.stateNode;if(et===null&&_e.flags&4){et=ut;var nt=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":nt.autoFocus&&et.focus();break;case"img":nt.src&&(et.src=nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var lt=_e.alternate;if(lt!==null){var ft=lt.memoizedState;if(ft!==null){var it=ft.dehydrated;it!==null&&bd(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$1||_e.flags&512&&Sj(_e)}catch(ot){W$1(_e,_e.return,ot)}}if(_e===$){V=null;break}if(et=_e.sibling,et!==null){et.return=_e.return,V=et;break}V=_e.return}}function hk($){for(;V!==null;){var _e=V;if(_e===$){V=null;break}var et=_e.sibling;if(et!==null){et.return=_e.return,V=et;break}V=_e.return}}function kk($){for(;V!==null;){var _e=V;try{switch(_e.tag){case 0:case 11:case 15:var et=_e.return;try{Rj(4,_e)}catch(nt){W$1(_e,et,nt)}break;case 1:var tt=_e.stateNode;if(typeof tt.componentDidMount=="function"){var ct=_e.return;try{tt.componentDidMount()}catch(nt){W$1(_e,ct,nt)}}var pt=_e.return;try{Sj(_e)}catch(nt){W$1(_e,pt,nt)}break;case 5:var vt=_e.return;try{Sj(_e)}catch(nt){W$1(_e,vt,nt)}}}catch(nt){W$1(_e,_e.return,nt)}if(_e===$){V=null;break}var ut=_e.sibling;if(ut!==null){ut.return=_e.return,V=ut;break}V=_e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh($){return $.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):($=C,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function mh($,_e,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac($,et,tt),(!(K&2)||$!==R$1)&&($===R$1&&(!(K&2)&&(rk|=et),T===4&&Dk($,Z$1)),Ek($,tt),et===1&&K===0&&!(_e.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek($,_e){var et=$.callbackNode;wc($,_e);var tt=uc($,$===R$1?Z$1:0);if(tt===0)et!==null&&bc(et),$.callbackNode=null,$.callbackPriority=0;else if(_e=tt&-tt,$.callbackPriority!==_e){if(et!=null&&bc(et),_e===1)$.tag===0?ig(Fk.bind(null,$)):hg(Fk.bind(null,$)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,$))}$.callbackPriority=_e,$.callbackNode=et}}function Hk($,_e){if(Bk=-1,Ck=0,K&6)throw Error(p$5(327));var et=$.callbackNode;if(Ik()&&$.callbackNode!==et)return null;var tt=uc($,$===R$1?Z$1:0);if(tt===0)return null;if(tt&30||tt&$.expiredLanes||_e)_e=Jk($,tt);else{_e=tt;var ct=K;K|=2;var pt=Kk();(R$1!==$||Z$1!==_e)&&(vk=null,Hj=B$1()+500,Lk($,_e));do try{Mk();break}catch(ut){Nk($,ut)}while(1);Qg(),nk.current=pt,K=ct,Y!==null?_e=0:(R$1=null,Z$1=0,_e=T)}if(_e!==0){if(_e===2&&(ct=xc($),ct!==0&&(tt=ct,_e=Ok($,ct))),_e===1)throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;if(_e===6)Dk($,tt);else{if(ct=$.current.alternate,!(tt&30)&&!Pk(ct)&&(_e=Jk($,tt),_e===2&&(pt=xc($),pt!==0&&(tt=pt,_e=Ok($,pt))),_e===1))throw et=qk,Lk($,0),Dk($,tt),Ek($,B$1()),et;switch($.finishedWork=ct,$.finishedLanes=tt,_e){case 0:case 1:throw Error(p$5(345));case 2:Qk($,uk,vk);break;case 3:if(Dk($,tt),(tt&130023424)===tt&&(_e=gk+500-B$1(),10<_e)){if(uc($,0)!==0)break;if(ct=$.suspendedLanes,(ct&tt)!==tt){L$1(),$.pingedLanes|=$.suspendedLanes&ct;break}$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),_e);break}Qk($,uk,vk);break;case 4:if(Dk($,tt),(tt&4194240)===tt)break;for(_e=$.eventTimes,ct=-1;0<tt;){var vt=31-oc(tt);pt=1<<vt,vt=_e[vt],vt>ct&&(ct=vt),tt&=~pt}if(tt=ct,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){$.timeoutHandle=Ff(Qk.bind(null,$,uk,vk),tt);break}Qk($,uk,vk);break;case 5:Qk($,uk,vk);break;default:throw Error(p$5(329))}}}return Ek($,B$1()),$.callbackNode===et?Hk.bind(null,$):null}function Ok($,_e){var et=tk;return $.current.memoizedState.isDehydrated&&(Lk($,_e).flags|=256),$=Jk($,_e),$!==2&&(_e=uk,uk=et,_e!==null&&Gj(_e)),$}function Gj($){uk===null?uk=$:uk.push.apply(uk,$)}function Pk($){for(var _e=$;;){if(_e.flags&16384){var et=_e.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var ct=et[tt],pt=ct.getSnapshot;ct=ct.value;try{if(!He(pt(),ct))return!1}catch{return!1}}}if(et=_e.child,_e.subtreeFlags&16384&&et!==null)et.return=_e,_e=et;else{if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Dk($,_e){for(_e&=~sk,_e&=~rk,$.suspendedLanes|=_e,$.pingedLanes&=~_e,$=$.expirationTimes;0<_e;){var et=31-oc(_e),tt=1<<et;$[et]=-1,_e&=~tt}}function Fk($){if(K&6)throw Error(p$5(327));Ik();var _e=uc($,0);if(!(_e&1))return Ek($,B$1()),null;var et=Jk($,_e);if($.tag!==0&&et===2){var tt=xc($);tt!==0&&(_e=tt,et=Ok($,tt))}if(et===1)throw et=qk,Lk($,0),Dk($,_e),Ek($,B$1()),et;if(et===6)throw Error(p$5(345));return $.finishedWork=$.current.alternate,$.finishedLanes=_e,Qk($,uk,vk),Ek($,B$1()),null}function Rk($,_e){var et=K;K|=1;try{return $(_e)}finally{K=et,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk($){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var _e=K;K|=1;var et=pk.transition,tt=C;try{if(pk.transition=null,C=1,$)return $()}finally{C=tt,pk.transition=et,K=_e,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk($,_e){$.finishedWork=null,$.finishedLanes=0;var et=$.timeoutHandle;if(et!==-1&&($.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$1=$,Y=$=wh($.current,null),Z$1=gj=_e,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_e=0;_e<Wg.length;_e++)if(et=Wg[_e],tt=et.interleaved,tt!==null){et.interleaved=null;var ct=tt.next,pt=et.pending;if(pt!==null){var vt=pt.next;pt.next=ct,tt.next=vt}et.pending=tt}Wg=null}return $}function Nk($,_e){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var ct=tt.queue;ct!==null&&(ct.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T=1,qk=_e,Y=null;break}e:{var pt=$,vt=et.return,ut=et,nt=_e;if(_e=Z$1,ut.flags|=32768,nt!==null&&typeof nt=="object"&&typeof nt.then=="function"){var lt=nt,ft=ut,it=ft.tag;if(!(ft.mode&1)&&(it===0||it===11||it===15)){var ot=ft.alternate;ot?(ft.updateQueue=ot.updateQueue,ft.memoizedState=ot.memoizedState,ft.lanes=ot.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var rt=Vi(vt);if(rt!==null){rt.flags&=-257,Wi(rt,vt,ut,pt,_e),rt.mode&1&&Ti(pt,lt,_e),_e=rt,nt=lt;var st=_e.updateQueue;if(st===null){var ht=new Set;ht.add(nt),_e.updateQueue=ht}else st.add(nt);break e}else{if(!(_e&1)){Ti(pt,lt,_e),uj();break e}nt=Error(p$5(426))}}else if(I$1&&ut.mode&1){var at=Vi(vt);if(at!==null){!(at.flags&65536)&&(at.flags|=256),Wi(at,vt,ut,pt,_e),Jg(Ki(nt,ut));break e}}pt=nt=Ki(nt,ut),T!==4&&(T=2),tk===null?tk=[pt]:tk.push(pt),pt=vt;do{switch(pt.tag){case 3:pt.flags|=65536,_e&=-_e,pt.lanes|=_e;var dt=Oi(pt,nt,_e);fh(pt,dt);break e;case 1:ut=nt;var gt=pt.type,mt=pt.stateNode;if(!(pt.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Si===null||!Si.has(mt)))){pt.flags|=65536,_e&=-_e,pt.lanes|=_e;var yt=Ri(pt,ut,_e);fh(pt,yt);break e}}pt=pt.return}while(pt!==null)}Tk(et)}catch(_t){_e=_t,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(1)}function Kk(){var $=nk.current;return nk.current=ai,$===null?ai:$}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk($,_e){var et=K;K|=2;var tt=Kk();(R$1!==$||Z$1!==_e)&&(vk=null,Lk($,_e));do try{Uk();break}catch(ct){Nk($,ct)}while(1);if(Qg(),K=et,nk.current=tt,Y!==null)throw Error(p$5(261));return R$1=null,Z$1=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk($){var _e=Wk($.alternate,$,gj);$.memoizedProps=$.pendingProps,_e===null?Tk($):Y=_e,ok.current=null}function Tk($){var _e=$;do{var et=_e.alternate;if($=_e.return,_e.flags&32768){if(et=Jj(et,_e),et!==null){et.flags&=32767,Y=et;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T=6,Y=null;return}}else if(et=Fj(et,_e,gj),et!==null){Y=et;return}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=$}while(_e!==null);T===0&&(T=5)}function Qk($,_e,et){var tt=C,ct=pk.transition;try{pk.transition=null,C=1,Xk($,_e,et,tt)}finally{pk.transition=ct,C=tt}return null}function Xk($,_e,et,tt){do Ik();while(xk!==null);if(K&6)throw Error(p$5(327));et=$.finishedWork;var ct=$.finishedLanes;if(et===null)return null;if($.finishedWork=null,$.finishedLanes=0,et===$.current)throw Error(p$5(177));$.callbackNode=null,$.callbackPriority=0;var pt=et.lanes|et.childLanes;if(Bc($,pt),$===R$1&&(Y=R$1=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),pt=(et.flags&15990)!==0,et.subtreeFlags&15990||pt){pt=pk.transition,pk.transition=null;var vt=C;C=1;var ut=K;K|=4,ok.current=null,Pj($,et),ek(et,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=et,ik(et),dc(),K=ut,C=vt,pk.transition=pt}else $.current=et;if(wk&&(wk=!1,xk=$,yk=ct),pt=$.pendingLanes,pt===0&&(Si=null),mc(et.stateNode),Ek($,B$1()),_e!==null)for(tt=$.onRecoverableError,et=0;et<_e.length;et++)ct=_e[et],tt(ct.value,{componentStack:ct.stack,digest:ct.digest});if(Pi)throw Pi=!1,$=Qi,Qi=null,$;return yk&1&&$.tag!==0&&Ik(),pt=$.pendingLanes,pt&1?$===Ak?zk++:(zk=0,Ak=$):zk=0,jg(),null}function Ik(){if(xk!==null){var $=Dc(yk),_e=pk.transition,et=C;try{if(pk.transition=null,C=16>$?16:$,xk===null)var tt=!1;else{if($=xk,xk=null,yk=0,K&6)throw Error(p$5(331));var ct=K;for(K|=4,V=$.current;V!==null;){var pt=V,vt=pt.child;if(V.flags&16){var ut=pt.deletions;if(ut!==null){for(var nt=0;nt<ut.length;nt++){var lt=ut[nt];for(V=lt;V!==null;){var ft=V;switch(ft.tag){case 0:case 11:case 15:Qj(8,ft,pt)}var it=ft.child;if(it!==null)it.return=ft,V=it;else for(;V!==null;){ft=V;var ot=ft.sibling,rt=ft.return;if(Tj(ft),ft===lt){V=null;break}if(ot!==null){ot.return=rt,V=ot;break}V=rt}}}var st=pt.alternate;if(st!==null){var ht=st.child;if(ht!==null){st.child=null;do{var at=ht.sibling;ht.sibling=null,ht=at}while(ht!==null)}}V=pt}}if(pt.subtreeFlags&2064&&vt!==null)vt.return=pt,V=vt;else e:for(;V!==null;){if(pt=V,pt.flags&2048)switch(pt.tag){case 0:case 11:case 15:Qj(9,pt,pt.return)}var dt=pt.sibling;if(dt!==null){dt.return=pt.return,V=dt;break e}V=pt.return}}var gt=$.current;for(V=gt;V!==null;){vt=V;var mt=vt.child;if(vt.subtreeFlags&2064&&mt!==null)mt.return=vt,V=mt;else e:for(vt=gt;V!==null;){if(ut=V,ut.flags&2048)try{switch(ut.tag){case 0:case 11:case 15:Rj(9,ut)}}catch(_t){W$1(ut,ut.return,_t)}if(ut===vt){V=null;break e}var yt=ut.sibling;if(yt!==null){yt.return=ut.return,V=yt;break e}V=ut.return}}if(K=ct,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}tt=!0}return tt}finally{C=et,pk.transition=_e}}return!1}function Yk($,_e,et){_e=Ki(et,_e),_e=Oi($,_e,1),$=dh($,_e,1),_e=L$1(),$!==null&&(Ac($,1,_e),Ek($,_e))}function W$1($,_e,et){if($.tag===3)Yk($,$,et);else for(;_e!==null;){if(_e.tag===3){Yk(_e,$,et);break}else if(_e.tag===1){var tt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){$=Ki(et,$),$=Ri(_e,$,1),_e=dh(_e,$,1),$=L$1(),_e!==null&&(Ac(_e,1,$),Ek(_e,$));break}}_e=_e.return}}function Ui($,_e,et){var tt=$.pingCache;tt!==null&&tt.delete(_e),_e=L$1(),$.pingedLanes|=$.suspendedLanes&et,R$1===$&&(Z$1&et)===et&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk($,0):sk|=et),Ek($,_e)}function Zk($,_e){_e===0&&($.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var et=L$1();$=Zg($,_e),$!==null&&(Ac($,_e,et),Ek($,et))}function vj($){var _e=$.memoizedState,et=0;_e!==null&&(et=_e.retryLane),Zk($,et)}function ck($,_e){var et=0;switch($.tag){case 13:var tt=$.stateNode,ct=$.memoizedState;ct!==null&&(et=ct.retryLane);break;case 19:tt=$.stateNode;break;default:throw Error(p$5(314))}tt!==null&&tt.delete(_e),Zk($,et)}var Wk;Wk=function($,_e,et){if($!==null)if($.memoizedProps!==_e.pendingProps||Wf.current)Ug=!0;else{if(!($.lanes&et)&&!(_e.flags&128))return Ug=!1,zj($,_e,et);Ug=!!($.flags&131072)}else Ug=!1,I$1&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var tt=_e.type;jj($,_e),$=_e.pendingProps;var ct=Yf(_e,H$1.current);Tg(_e,et),ct=Xh(null,_e,tt,$,ct,et);var pt=bi();return _e.flags|=1,typeof ct=="object"&&ct!==null&&typeof ct.render=="function"&&ct.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(tt)?(pt=!0,cg(_e)):pt=!1,_e.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null,ah(_e),ct.updater=nh,_e.stateNode=ct,ct._reactInternals=_e,rh(_e,tt,$,et),_e=kj(null,_e,tt,!0,pt,et)):(_e.tag=0,I$1&&pt&&vg(_e),Yi(null,_e,ct,et),_e=_e.child),_e;case 16:tt=_e.elementType;e:{switch(jj($,_e),$=_e.pendingProps,ct=tt._init,tt=ct(tt._payload),_e.type=tt,ct=_e.tag=$k(tt),$=Lg(tt,$),ct){case 0:_e=dj(null,_e,tt,$,et);break e;case 1:_e=ij(null,_e,tt,$,et);break e;case 11:_e=Zi(null,_e,tt,$,et);break e;case 14:_e=aj(null,_e,tt,Lg(tt.type,$),et);break e}throw Error(p$5(306,tt,""))}return _e;case 0:return tt=_e.type,ct=_e.pendingProps,ct=_e.elementType===tt?ct:Lg(tt,ct),dj($,_e,tt,ct,et);case 1:return tt=_e.type,ct=_e.pendingProps,ct=_e.elementType===tt?ct:Lg(tt,ct),ij($,_e,tt,ct,et);case 3:e:{if(lj(_e),$===null)throw Error(p$5(387));tt=_e.pendingProps,pt=_e.memoizedState,ct=pt.element,bh($,_e),gh(_e,tt,null,et);var vt=_e.memoizedState;if(tt=vt.element,pt.isDehydrated)if(pt={element:tt,isDehydrated:!1,cache:vt.cache,pendingSuspenseBoundaries:vt.pendingSuspenseBoundaries,transitions:vt.transitions},_e.updateQueue.baseState=pt,_e.memoizedState=pt,_e.flags&256){ct=Ki(Error(p$5(423)),_e),_e=mj($,_e,tt,et,ct);break e}else if(tt!==ct){ct=Ki(Error(p$5(424)),_e),_e=mj($,_e,tt,et,ct);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$1=!0,zg=null,et=Ch(_e,null,tt,et),_e.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===ct){_e=$i($,_e,et);break e}Yi($,_e,tt,et)}_e=_e.child}return _e;case 5:return Kh(_e),$===null&&Eg(_e),tt=_e.type,ct=_e.pendingProps,pt=$!==null?$.memoizedProps:null,vt=ct.children,Ef(tt,ct)?vt=null:pt!==null&&Ef(tt,pt)&&(_e.flags|=32),hj($,_e),Yi($,_e,vt,et),_e.child;case 6:return $===null&&Eg(_e),null;case 13:return pj($,_e,et);case 4:return Ih(_e,_e.stateNode.containerInfo),tt=_e.pendingProps,$===null?_e.child=Bh(_e,null,tt,et):Yi($,_e,tt,et),_e.child;case 11:return tt=_e.type,ct=_e.pendingProps,ct=_e.elementType===tt?ct:Lg(tt,ct),Zi($,_e,tt,ct,et);case 7:return Yi($,_e,_e.pendingProps,et),_e.child;case 8:return Yi($,_e,_e.pendingProps.children,et),_e.child;case 12:return Yi($,_e,_e.pendingProps.children,et),_e.child;case 10:e:{if(tt=_e.type._context,ct=_e.pendingProps,pt=_e.memoizedProps,vt=ct.value,G$1(Mg,tt._currentValue),tt._currentValue=vt,pt!==null)if(He(pt.value,vt)){if(pt.children===ct.children&&!Wf.current){_e=$i($,_e,et);break e}}else for(pt=_e.child,pt!==null&&(pt.return=_e);pt!==null;){var ut=pt.dependencies;if(ut!==null){vt=pt.child;for(var nt=ut.firstContext;nt!==null;){if(nt.context===tt){if(pt.tag===1){nt=ch(-1,et&-et),nt.tag=2;var lt=pt.updateQueue;if(lt!==null){lt=lt.shared;var ft=lt.pending;ft===null?nt.next=nt:(nt.next=ft.next,ft.next=nt),lt.pending=nt}}pt.lanes|=et,nt=pt.alternate,nt!==null&&(nt.lanes|=et),Sg(pt.return,et,_e),ut.lanes|=et;break}nt=nt.next}}else if(pt.tag===10)vt=pt.type===_e.type?null:pt.child;else if(pt.tag===18){if(vt=pt.return,vt===null)throw Error(p$5(341));vt.lanes|=et,ut=vt.alternate,ut!==null&&(ut.lanes|=et),Sg(vt,et,_e),vt=pt.sibling}else vt=pt.child;if(vt!==null)vt.return=pt;else for(vt=pt;vt!==null;){if(vt===_e){vt=null;break}if(pt=vt.sibling,pt!==null){pt.return=vt.return,vt=pt;break}vt=vt.return}pt=vt}Yi($,_e,ct.children,et),_e=_e.child}return _e;case 9:return ct=_e.type,tt=_e.pendingProps.children,Tg(_e,et),ct=Vg(ct),tt=tt(ct),_e.flags|=1,Yi($,_e,tt,et),_e.child;case 14:return tt=_e.type,ct=Lg(tt,_e.pendingProps),ct=Lg(tt.type,ct),aj($,_e,tt,ct,et);case 15:return cj($,_e,_e.type,_e.pendingProps,et);case 17:return tt=_e.type,ct=_e.pendingProps,ct=_e.elementType===tt?ct:Lg(tt,ct),jj($,_e),_e.tag=1,Zf(tt)?($=!0,cg(_e)):$=!1,Tg(_e,et),ph(_e,tt,ct),rh(_e,tt,ct,et),kj(null,_e,tt,!0,$,et);case 19:return yj($,_e,et);case 22:return ej($,_e,et)}throw Error(p$5(156,_e.tag))};function Gk($,_e){return ac($,_e)}function al($,_e,et,tt){this.tag=$,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,_e,et,tt){return new al($,_e,et,tt)}function bj($){return $=$.prototype,!(!$||!$.isReactComponent)}function $k($){if(typeof $=="function")return bj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function wh($,_e){var et=$.alternate;return et===null?(et=Bg($.tag,_e,$.key,$.mode),et.elementType=$.elementType,et.type=$.type,et.stateNode=$.stateNode,et.alternate=$,$.alternate=et):(et.pendingProps=_e,et.type=$.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=$.flags&14680064,et.childLanes=$.childLanes,et.lanes=$.lanes,et.child=$.child,et.memoizedProps=$.memoizedProps,et.memoizedState=$.memoizedState,et.updateQueue=$.updateQueue,_e=$.dependencies,et.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},et.sibling=$.sibling,et.index=$.index,et.ref=$.ref,et}function yh($,_e,et,tt,ct,pt){var vt=2;if(tt=$,typeof $=="function")bj($)&&(vt=1);else if(typeof $=="string")vt=5;else e:switch($){case ya:return Ah(et.children,ct,pt,_e);case za:vt=8,ct|=8;break;case Aa:return $=Bg(12,et,_e,ct|2),$.elementType=Aa,$.lanes=pt,$;case Ea:return $=Bg(13,et,_e,ct),$.elementType=Ea,$.lanes=pt,$;case Fa:return $=Bg(19,et,_e,ct),$.elementType=Fa,$.lanes=pt,$;case Ia:return qj(et,ct,pt,_e);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:vt=10;break e;case Ca:vt=9;break e;case Da:vt=11;break e;case Ga:vt=14;break e;case Ha:vt=16,tt=null;break e}throw Error(p$5(130,$==null?$:typeof $,""))}return _e=Bg(vt,et,_e,ct),_e.elementType=$,_e.type=tt,_e.lanes=pt,_e}function Ah($,_e,et,tt){return $=Bg(7,$,tt,_e),$.lanes=et,$}function qj($,_e,et,tt){return $=Bg(22,$,tt,_e),$.elementType=Ia,$.lanes=et,$.stateNode={isHidden:!1},$}function xh($,_e,et){return $=Bg(6,$,null,_e),$.lanes=et,$}function zh($,_e,et){return _e=Bg(4,$.children!==null?$.children:[],$.key,_e),_e.lanes=et,_e.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},_e}function bl($,_e,et,tt,ct){this.tag=_e,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=ct,this.mutableSourceEagerHydrationData=null}function cl($,_e,et,tt,ct,pt,vt,ut,nt){return $=new bl($,_e,et,ut,nt),_e===1?(_e=1,pt===!0&&(_e|=8)):_e=0,pt=Bg(3,null,null,_e),$.current=pt,pt.stateNode=$,pt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(pt),$}function dl($,_e,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:$,containerInfo:_e,implementation:et}}function el($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$5(170));var _e=$;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$5(171))}if($.tag===1){var et=$.type;if(Zf(et))return bg($,et,_e)}return _e}function fl($,_e,et,tt,ct,pt,vt,ut,nt){return $=cl(et,tt,!0,$,ct,pt,vt,ut,nt),$.context=el(null),et=$.current,tt=L$1(),ct=lh(et),pt=ch(tt,ct),pt.callback=_e??null,dh(et,pt,ct),$.current.lanes=ct,Ac($,ct,tt),Ek($,tt),$}function gl($,_e,et,tt){var ct=_e.current,pt=L$1(),vt=lh(ct);return et=el(et),_e.context===null?_e.context=et:_e.pendingContext=et,_e=ch(pt,vt),_e.payload={element:$},tt=tt===void 0?null:tt,tt!==null&&(_e.callback=tt),$=dh(ct,_e,vt),$!==null&&(mh($,ct,vt,pt),eh($,ct,vt)),vt}function hl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function il($,_e){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var et=$.retryLane;$.retryLane=et!==0&&et<_e?et:_e}}function jl($,_e){il($,_e),($=$.alternate)&&il($,_e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function($){console.error($)};function ml($){this._internalRoot=$}nl.prototype.render=ml.prototype.render=function($){var _e=this._internalRoot;if(_e===null)throw Error(p$5(409));gl($,_e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var _e=$.containerInfo;Sk(function(){gl(null,$,null,null)}),_e[uf]=null}};function nl($){this._internalRoot=$}nl.prototype.unstable_scheduleHydration=function($){if($){var _e=Hc();$={blockedOn:null,target:$,priority:_e};for(var et=0;et<Qc.length&&_e!==0&&_e<Qc[et].priority;et++);Qc.splice(et,0,$),et===0&&Vc($)}};function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function pl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl($,_e,et,tt,ct){if(ct){if(typeof tt=="function"){var pt=tt;tt=function(){var lt=hl(vt);pt.call(lt)}}var vt=fl(_e,tt,$,0,null,!1,!1,"",ql);return $._reactRootContainer=vt,$[uf]=vt.current,sf($.nodeType===8?$.parentNode:$),Sk(),vt}for(;ct=$.lastChild;)$.removeChild(ct);if(typeof tt=="function"){var ut=tt;tt=function(){var lt=hl(nt);ut.call(lt)}}var nt=cl($,0,!1,null,null,!1,!1,"",ql);return $._reactRootContainer=nt,$[uf]=nt.current,sf($.nodeType===8?$.parentNode:$),Sk(function(){gl(_e,nt,et,tt)}),nt}function sl($,_e,et,tt,ct){var pt=et._reactRootContainer;if(pt){var vt=pt;if(typeof ct=="function"){var ut=ct;ct=function(){var nt=hl(vt);ut.call(nt)}}gl(_e,vt,$,ct)}else vt=rl(et,_e,$,ct,tt);return hl(vt)}Ec=function($){switch($.tag){case 3:var _e=$.stateNode;if(_e.current.memoizedState.isDehydrated){var et=tc(_e.pendingLanes);et!==0&&(Cc(_e,et|1),Ek(_e,B$1()),!(K&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg($,1);if(tt!==null){var ct=L$1();mh(tt,$,1,ct)}}),jl($,1)}};Fc=function($){if($.tag===13){var _e=Zg($,134217728);if(_e!==null){var et=L$1();mh(_e,$,134217728,et)}jl($,134217728)}};Gc=function($){if($.tag===13){var _e=lh($),et=Zg($,_e);if(et!==null){var tt=L$1();mh(et,$,_e,tt)}jl($,_e)}};Hc=function(){return C};Ic=function($,_e){var et=C;try{return C=$,_e()}finally{C=et}};yb=function($,_e,et){switch(_e){case"input":if(bb($,et),_e=et.name,et.type==="radio"&&_e!=null){for(et=$;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<et.length;_e++){var tt=et[_e];if(tt!==$&&tt.form===$.form){var ct=Db(tt);if(!ct)throw Error(p$5(90));Wa(tt),bb(tt,ct)}}}break;case"textarea":ib($,et);break;case"select":_e=et.value,_e!=null&&fb($,!!et.multiple,_e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function($,_e){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_e))throw Error(p$5(200));return dl($,_e,null,et)};reactDom_production_min.createRoot=function($,_e){if(!ol($))throw Error(p$5(299));var et=!1,tt="",ct=ll;return _e!=null&&(_e.unstable_strictMode===!0&&(et=!0),_e.identifierPrefix!==void 0&&(tt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(ct=_e.onRecoverableError)),_e=cl($,1,!1,null,null,et,!1,tt,ct),$[uf]=_e.current,sf($.nodeType===8?$.parentNode:$),new ml(_e)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var _e=$._reactInternals;if(_e===void 0)throw typeof $.render=="function"?Error(p$5(188)):($=Object.keys($).join(","),Error(p$5(268,$)));return $=Zb(_e),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Sk($)};reactDom_production_min.hydrate=function($,_e,et){if(!pl(_e))throw Error(p$5(200));return sl(null,$,_e,!0,et)};reactDom_production_min.hydrateRoot=function($,_e,et){if(!ol($))throw Error(p$5(405));var tt=et!=null&&et.hydratedSources||null,ct=!1,pt="",vt=ll;if(et!=null&&(et.unstable_strictMode===!0&&(ct=!0),et.identifierPrefix!==void 0&&(pt=et.identifierPrefix),et.onRecoverableError!==void 0&&(vt=et.onRecoverableError)),_e=fl(_e,null,$,1,et??null,ct,!1,pt,vt),$[uf]=_e.current,sf($),tt)for($=0;$<tt.length;$++)et=tt[$],ct=et._getVersion,ct=ct(et._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[et,ct]:_e.mutableSourceEagerHydrationData.push(et,ct);return new nl(_e)};reactDom_production_min.render=function($,_e,et){if(!pl(_e))throw Error(p$5(200));return sl(null,$,_e,!1,et)};reactDom_production_min.unmountComponentAtNode=function($){if(!pl($))throw Error(p$5(40));return $._reactRootContainer?(Sk(function(){sl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,_e,et,tt){if(!pl(et))throw Error(p$5(200));if($==null||$._reactInternals===void 0)throw Error(p$5(38));return sl($,_e,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function($){function _e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_e)}catch(et){console.error(et)}}_e(),$.exports=reactDom_production_min})(reactDom);var m$4=reactDom.exports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;var shim$1={exports:{}},useSyncExternalStoreShim_production_min={};var e$2=react.exports;function h$4($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var k$3=typeof Object.is=="function"?Object.is:h$4,l$3=e$2.useState,m$3=e$2.useEffect,n$4=e$2.useLayoutEffect,p$4=e$2.useDebugValue;function q$4($,_e){var et=_e(),tt=l$3({inst:{value:et,getSnapshot:_e}}),ct=tt[0].inst,pt=tt[1];return n$4(function(){ct.value=et,ct.getSnapshot=_e,r$3(ct)&&pt({inst:ct})},[$,et,_e]),m$3(function(){return r$3(ct)&&pt({inst:ct}),$(function(){r$3(ct)&&pt({inst:ct})})},[$]),p$4(et),et}function r$3($){var _e=$.getSnapshot;$=$.value;try{var et=_e();return!k$3($,et)}catch{return!0}}function t$4($,_e){return _e()}var u$3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$4:q$4;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$3;(function($){$.exports=useSyncExternalStoreShim_production_min})(shim$1);var withSelector={exports:{}},withSelector_production_min={};var h$3=react.exports,n$3=shim$1.exports;function p$3($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}var q$3=typeof Object.is=="function"?Object.is:p$3,r$2=n$3.useSyncExternalStore,t$3=h$3.useRef,u$2=h$3.useEffect,v$3=h$3.useMemo,w$2=h$3.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function($,_e,et,tt,ct){var pt=t$3(null);if(pt.current===null){var vt={hasValue:!1,value:null};pt.current=vt}else vt=pt.current;pt=v$3(function(){function nt(rt){if(!lt){if(lt=!0,ft=rt,rt=tt(rt),ct!==void 0&&vt.hasValue){var st=vt.value;if(ct(st,rt))return it=st}return it=rt}if(st=it,q$3(ft,rt))return st;var ht=tt(rt);return ct!==void 0&&ct(st,ht)?st:(ft=rt,it=ht)}var lt=!1,ft,it,ot=et===void 0?null:et;return[function(){return nt(_e())},ot===null?void 0:function(){return nt(ot())}]},[_e,et,tt,ct]);var ut=r$2($,pt[0],pt[1]);return u$2(function(){vt.hasValue=!0,vt.value=ut},[ut]),w$2(ut),ut};(function($){$.exports=withSelector_production_min})(withSelector);function defaultNoopBatch($){$()}let batch=defaultNoopBatch;const setBatch=$=>batch=$,getBatch=()=>batch,ReactReduxContext=react.exports.createContext(null);function useReduxContext(){return react.exports.useContext(ReactReduxContext)}const notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=$=>{useSyncExternalStoreWithSelector=$},refEquality=($,_e)=>$===_e;function createSelectorHook($=ReactReduxContext){const _e=$===ReactReduxContext?useReduxContext:()=>react.exports.useContext($);return function(tt,ct=refEquality){const{store:pt,subscription:vt,getServerState:ut}=_e(),nt=useSyncExternalStoreWithSelector(vt.addNestedSub,pt.getState,ut||pt.getState,tt,ct);return react.exports.useDebugValue(nt),nt}}const useSelector=createSelectorHook();var reactIs$2={exports:{}},reactIs_production_min$1={};var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$1=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$2=b$2?Symbol.for("react.forward_ref"):60112,p$2=b$2?Symbol.for("react.suspense"):60113,q$2=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$2=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w$1=b$2?Symbol.for("react.fundamental"):60117,x$1=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$1($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case c$2:switch($=$.type,$){case l$2:case m$2:case e$1:case g$2:case f$2:case p$2:return $;default:switch($=$&&$.$$typeof,$){case k$2:case n$2:case t$2:case r$1:case h$2:return $;default:return _e}}case d$2:return _e}}}function A$1($){return z$1($)===m$2}reactIs_production_min$1.AsyncMode=l$2;reactIs_production_min$1.ConcurrentMode=m$2;reactIs_production_min$1.ContextConsumer=k$2;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$2;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$2;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$2;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$2;reactIs_production_min$1.isAsyncMode=function($){return A$1($)||z$1($)===l$2};reactIs_production_min$1.isConcurrentMode=A$1;reactIs_production_min$1.isContextConsumer=function($){return z$1($)===k$2};reactIs_production_min$1.isContextProvider=function($){return z$1($)===h$2};reactIs_production_min$1.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function($){return z$1($)===n$2};reactIs_production_min$1.isFragment=function($){return z$1($)===e$1};reactIs_production_min$1.isLazy=function($){return z$1($)===t$2};reactIs_production_min$1.isMemo=function($){return z$1($)===r$1};reactIs_production_min$1.isPortal=function($){return z$1($)===d$2};reactIs_production_min$1.isProfiler=function($){return z$1($)===g$2};reactIs_production_min$1.isStrictMode=function($){return z$1($)===f$2};reactIs_production_min$1.isSuspense=function($){return z$1($)===p$2};reactIs_production_min$1.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===e$1||$===m$2||$===g$2||$===f$2||$===p$2||$===q$2||typeof $=="object"&&$!==null&&($.$$typeof===t$2||$.$$typeof===r$1||$.$$typeof===h$2||$.$$typeof===k$2||$.$$typeof===n$2||$.$$typeof===w$1||$.$$typeof===x$1||$.$$typeof===y$1||$.$$typeof===v$2)};reactIs_production_min$1.typeOf=z$1;(function($){$.exports=reactIs_production_min$1})(reactIs$2);var reactIs$1=reactIs$2.exports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var reactIs={exports:{}},reactIs_production_min={};var b$1=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$1=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$1=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$1($){if(typeof $=="object"&&$!==null){var _e=$.$$typeof;switch(_e){case b$1:switch($=$.type,$){case d$1:case f$1:case e:case m$1:case n$1:return $;default:switch($=$&&$.$$typeof,$){case k$1:case h$1:case l$1:case q$1:case p$1:case g$1:return $;default:return _e}}case c$1:return _e}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l$1;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$1;reactIs_production_min.Memo=p$1;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n$1;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function($){return v$1($)===h$1};reactIs_production_min.isContextProvider=function($){return v$1($)===g$1};reactIs_production_min.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===b$1};reactIs_production_min.isForwardRef=function($){return v$1($)===l$1};reactIs_production_min.isFragment=function($){return v$1($)===d$1};reactIs_production_min.isLazy=function($){return v$1($)===q$1};reactIs_production_min.isMemo=function($){return v$1($)===p$1};reactIs_production_min.isPortal=function($){return v$1($)===c$1};reactIs_production_min.isProfiler=function($){return v$1($)===f$1};reactIs_production_min.isStrictMode=function($){return v$1($)===e};reactIs_production_min.isSuspense=function($){return v$1($)===m$1};reactIs_production_min.isSuspenseList=function($){return v$1($)===n$1};reactIs_production_min.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===d$1||$===f$1||$===e||$===m$1||$===n$1||$===t$1||typeof $=="object"&&$!==null&&($.$$typeof===q$1||$.$$typeof===p$1||$.$$typeof===g$1||$.$$typeof===h$1||$.$$typeof===l$1||$.$$typeof===u$1||$.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;(function($){$.exports=reactIs_production_min})(reactIs);function createListenerCollection(){const $=getBatch();let _e=null,et=null;return{clear(){_e=null,et=null},notify(){$(()=>{let tt=_e;for(;tt;)tt.callback(),tt=tt.next})},get(){let tt=[],ct=_e;for(;ct;)tt.push(ct),ct=ct.next;return tt},subscribe(tt){let ct=!0,pt=et={callback:tt,next:null,prev:et};return pt.prev?pt.prev.next=pt:_e=pt,function(){!ct||_e===null||(ct=!1,pt.next?pt.next.prev=pt.prev:et=pt.prev,pt.prev?pt.prev.next=pt.next:_e=pt.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription($,_e){let et,tt=nullListeners;function ct(it){return nt(),tt.subscribe(it)}function pt(){tt.notify()}function vt(){ft.onStateChange&&ft.onStateChange()}function ut(){return Boolean(et)}function nt(){et||(et=_e?_e.addNestedSub(vt):$.subscribe(vt),tt=createListenerCollection())}function lt(){et&&(et(),et=void 0,tt.clear(),tt=nullListeners)}const ft={addNestedSub:ct,notifyNestedSubs:pt,handleChangeWrapper:vt,isSubscribed:ut,trySubscribe:nt,tryUnsubscribe:lt,getListeners:()=>tt};return ft}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect=canUseDOM$1?react.exports.useLayoutEffect:react.exports.useEffect;function Provider({store:$,context:_e,children:et,serverState:tt}){const ct=react.exports.useMemo(()=>{const ut=createSubscription($);return{store:$,subscription:ut,getServerState:tt?()=>tt:void 0}},[$,tt]),pt=react.exports.useMemo(()=>$.getState(),[$]);useIsomorphicLayoutEffect(()=>{const{subscription:ut}=ct;return ut.onStateChange=ut.notifyNestedSubs,ut.trySubscribe(),pt!==$.getState()&&ut.notifyNestedSubs(),()=>{ut.tryUnsubscribe(),ut.onStateChange=void 0}},[ct,pt]);const vt=_e||ReactReduxContext;return React.createElement(vt.Provider,{value:ct},et)}function createStoreHook($=ReactReduxContext){const _e=$===ReactReduxContext?useReduxContext:()=>react.exports.useContext($);return function(){const{store:tt}=_e();return tt}}const useStore=createStoreHook();function createDispatchHook($=ReactReduxContext){const _e=$===ReactReduxContext?useStore:createStoreHook($);return function(){return _e().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelector.exports.useSyncExternalStoreWithSelector);setBatch(reactDom.exports.unstable_batchedUpdates);function n($){for(var _e=arguments.length,et=Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];throw Error("[Immer] minified error nr: "+$+(et.length?" "+et.map(function(ct){return"'"+ct+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r($){return!!$&&!!$[Q]}function t($){var _e;return!!$&&(function(et){if(!et||typeof et!="object")return!1;var tt=Object.getPrototypeOf(et);if(tt===null)return!0;var ct=Object.hasOwnProperty.call(tt,"constructor")&&tt.constructor;return ct===Object||typeof ct=="function"&&Function.toString.call(ct)===Z}($)||Array.isArray($)||!!$[L]||!!(!((_e=$.constructor)===null||_e===void 0)&&_e[L])||s($)||v($))}function i($,_e,et){et===void 0&&(et=!1),o($)===0?(et?Object.keys:nn)($).forEach(function(tt){et&&typeof tt=="symbol"||_e(tt,$[tt],$)}):$.forEach(function(tt,ct){return _e(ct,tt,$)})}function o($){var _e=$[Q];return _e?_e.i>3?_e.i-4:_e.i:Array.isArray($)?1:s($)?2:v($)?3:0}function u($,_e){return o($)===2?$.has(_e):Object.prototype.hasOwnProperty.call($,_e)}function a($,_e){return o($)===2?$.get(_e):$[_e]}function f($,_e,et){var tt=o($);tt===2?$.set(_e,et):tt===3?($.delete(_e),$.add(et)):$[_e]=et}function c($,_e){return $===_e?$!==0||1/$==1/_e:$!=$&&_e!=_e}function s($){return X&&$ instanceof Map}function v($){return q&&$ instanceof Set}function p($){return $.o||$.t}function l($){if(Array.isArray($))return Array.prototype.slice.call($);var _e=rn($);delete _e[Q];for(var et=nn(_e),tt=0;tt<et.length;tt++){var ct=et[tt],pt=_e[ct];pt.writable===!1&&(pt.writable=!0,pt.configurable=!0),(pt.get||pt.set)&&(_e[ct]={configurable:!0,writable:!0,enumerable:pt.enumerable,value:$[ct]})}return Object.create(Object.getPrototypeOf($),_e)}function d($,_e){return _e===void 0&&(_e=!1),y($)||r($)||!t($)||(o($)>1&&($.set=$.add=$.clear=$.delete=h),Object.freeze($),_e&&i($,function(et,tt){return d(tt,!0)},!0)),$}function h(){n(2)}function y($){return $==null||typeof $!="object"||Object.isFrozen($)}function b($){var _e=tn[$];return _e||n(18,$),_e}function m($,_e){tn[$]||(tn[$]=_e)}function _(){return U}function j($,_e){_e&&(b("Patches"),$.u=[],$.s=[],$.v=_e)}function O($){g($),$.p.forEach(S),$.p=null}function g($){$===U&&(U=$.l)}function w($){return U={p:[],l:U,h:$,m:!0,_:0}}function S($){var _e=$[Q];_e.i===0||_e.i===1?_e.j():_e.O=!0}function P($,_e){_e._=_e.p.length;var et=_e.p[0],tt=$!==void 0&&$!==et;return _e.h.g||b("ES5").S(_e,$,tt),tt?(et[Q].P&&(O(_e),n(4)),t($)&&($=M(_e,$),_e.l||x(_e,$)),_e.u&&b("Patches").M(et[Q].t,$,_e.u,_e.s)):$=M(_e,et,[]),O(_e),_e.u&&_e.v(_e.u,_e.s),$!==H?$:void 0}function M($,_e,et){if(y(_e))return _e;var tt=_e[Q];if(!tt)return i(_e,function(pt,vt){return A($,tt,_e,pt,vt,et)},!0),_e;if(tt.A!==$)return _e;if(!tt.P)return x($,tt.t,!0),tt.t;if(!tt.I){tt.I=!0,tt.A._--;var ct=tt.i===4||tt.i===5?tt.o=l(tt.k):tt.o;i(tt.i===3?new Set(ct):ct,function(pt,vt){return A($,tt,ct,pt,vt,et)}),x($,ct,!1),et&&$.u&&b("Patches").R(tt,et,$.u,$.s)}return tt.o}function A($,_e,et,tt,ct,pt){if(r(ct)){var vt=M($,ct,pt&&_e&&_e.i!==3&&!u(_e.D,tt)?pt.concat(tt):void 0);if(f(et,tt,vt),!r(vt))return;$.m=!1}if(t(ct)&&!y(ct)){if(!$.h.F&&$._<1)return;M($,ct),_e&&_e.A.l||x($,ct)}}function x($,_e,et){et===void 0&&(et=!1),$.h.F&&$.m&&d(_e,et)}function z($,_e){var et=$[Q];return(et?p(et):$)[_e]}function I($,_e){if(_e in $)for(var et=Object.getPrototypeOf($);et;){var tt=Object.getOwnPropertyDescriptor(et,_e);if(tt)return tt;et=Object.getPrototypeOf(et)}}function k($){$.P||($.P=!0,$.l&&k($.l))}function E($){$.o||($.o=l($.t))}function R($,_e,et){var tt=s(_e)?b("MapSet").N(_e,et):v(_e)?b("MapSet").T(_e,et):$.g?function(ct,pt){var vt=Array.isArray(ct),ut={i:vt?1:0,A:pt?pt.A:_(),P:!1,I:!1,D:{},l:pt,t:ct,k:null,o:null,j:null,C:!1},nt=ut,lt=en;vt&&(nt=[ut],lt=on);var ft=Proxy.revocable(nt,lt),it=ft.revoke,ot=ft.proxy;return ut.k=ot,ut.j=it,ot}(_e,et):b("ES5").J(_e,et);return(et?et.A:_()).p.push(tt),tt}function D($){return r($)||n(22,$),function _e(et){if(!t(et))return et;var tt,ct=et[Q],pt=o(et);if(ct){if(!ct.P&&(ct.i<4||!b("ES5").K(ct)))return ct.t;ct.I=!0,tt=F(et,pt),ct.I=!1}else tt=F(et,pt);return i(tt,function(vt,ut){ct&&a(ct.t,vt)===ut||f(tt,vt,_e(ut))}),pt===3?new Set(tt):tt}($)}function F($,_e){switch(_e){case 2:return new Map($);case 3:return Array.from($)}return l($)}function N(){function $(pt,vt){var ut=ct[pt];return ut?ut.enumerable=vt:ct[pt]=ut={configurable:!0,enumerable:vt,get:function(){var nt=this[Q];return en.get(nt,pt)},set:function(nt){var lt=this[Q];en.set(lt,pt,nt)}},ut}function _e(pt){for(var vt=pt.length-1;vt>=0;vt--){var ut=pt[vt][Q];if(!ut.P)switch(ut.i){case 5:tt(ut)&&k(ut);break;case 4:et(ut)&&k(ut)}}}function et(pt){for(var vt=pt.t,ut=pt.k,nt=nn(ut),lt=nt.length-1;lt>=0;lt--){var ft=nt[lt];if(ft!==Q){var it=vt[ft];if(it===void 0&&!u(vt,ft))return!0;var ot=ut[ft],rt=ot&&ot[Q];if(rt?rt.t!==it:!c(ot,it))return!0}}var st=!!vt[Q];return nt.length!==nn(vt).length+(st?0:1)}function tt(pt){var vt=pt.k;if(vt.length!==pt.t.length)return!0;var ut=Object.getOwnPropertyDescriptor(vt,vt.length-1);if(ut&&!ut.get)return!0;for(var nt=0;nt<vt.length;nt++)if(!vt.hasOwnProperty(nt))return!0;return!1}var ct={};m("ES5",{J:function(pt,vt){var ut=Array.isArray(pt),nt=function(ft,it){if(ft){for(var ot=Array(it.length),rt=0;rt<it.length;rt++)Object.defineProperty(ot,""+rt,$(rt,!0));return ot}var st=rn(it);delete st[Q];for(var ht=nn(st),at=0;at<ht.length;at++){var dt=ht[at];st[dt]=$(dt,ft||!!st[dt].enumerable)}return Object.create(Object.getPrototypeOf(it),st)}(ut,pt),lt={i:ut?5:4,A:vt?vt.A:_(),P:!1,I:!1,D:{},l:vt,t:pt,k:nt,o:null,O:!1,C:!1};return Object.defineProperty(nt,Q,{value:lt,writable:!0}),nt},S:function(pt,vt,ut){ut?r(vt)&&vt[Q].A===pt&&_e(pt.p):(pt.u&&function nt(lt){if(lt&&typeof lt=="object"){var ft=lt[Q];if(ft){var it=ft.t,ot=ft.k,rt=ft.D,st=ft.i;if(st===4)i(ot,function(mt){mt!==Q&&(it[mt]!==void 0||u(it,mt)?rt[mt]||nt(ot[mt]):(rt[mt]=!0,k(ft)))}),i(it,function(mt){ot[mt]!==void 0||u(ot,mt)||(rt[mt]=!1,k(ft))});else if(st===5){if(tt(ft)&&(k(ft),rt.length=!0),ot.length<it.length)for(var ht=ot.length;ht<it.length;ht++)rt[ht]=!1;else for(var at=it.length;at<ot.length;at++)rt[at]=!0;for(var dt=Math.min(ot.length,it.length),gt=0;gt<dt;gt++)ot.hasOwnProperty(gt)||(rt[gt]=!0),rt[gt]===void 0&&nt(ot[gt])}}}}(pt.p[0]),_e(pt.p))},K:function(pt){return pt.i===4?et(pt):tt(pt)}})}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function($){var _e={};return nn($).forEach(function(et){_e[et]=Object.getOwnPropertyDescriptor($,et)}),_e},tn={},en={get:function($,_e){if(_e===Q)return $;var et=p($);if(!u(et,_e))return function(ct,pt,vt){var ut,nt=I(pt,vt);return nt?"value"in nt?nt.value:(ut=nt.get)===null||ut===void 0?void 0:ut.call(ct.k):void 0}($,et,_e);var tt=et[_e];return $.I||!t(tt)?tt:tt===z($.t,_e)?(E($),$.o[_e]=R($.A.h,tt,$)):tt},has:function($,_e){return _e in p($)},ownKeys:function($){return Reflect.ownKeys(p($))},set:function($,_e,et){var tt=I(p($),_e);if(tt!=null&&tt.set)return tt.set.call($.k,et),!0;if(!$.P){var ct=z(p($),_e),pt=ct==null?void 0:ct[Q];if(pt&&pt.t===et)return $.o[_e]=et,$.D[_e]=!1,!0;if(c(et,ct)&&(et!==void 0||u($.t,_e)))return!0;E($),k($)}return $.o[_e]===et&&typeof et!="number"&&(et!==void 0||_e in $.o)||($.o[_e]=et,$.D[_e]=!0,!0)},deleteProperty:function($,_e){return z($.t,_e)!==void 0||_e in $.t?($.D[_e]=!1,E($),k($)):delete $.D[_e],$.o&&delete $.o[_e],!0},getOwnPropertyDescriptor:function($,_e){var et=p($),tt=Reflect.getOwnPropertyDescriptor(et,_e);return tt&&{writable:!0,configurable:$.i!==1||_e!=="length",enumerable:tt.enumerable,value:et[_e]}},defineProperty:function(){n(11)},getPrototypeOf:function($){return Object.getPrototypeOf($.t)},setPrototypeOf:function(){n(12)}},on={};i(en,function($,_e){on[$]=function(){return arguments[0]=arguments[0][0],_e.apply(this,arguments)}}),on.deleteProperty=function($,_e){return on.set.call(this,$,_e,void 0)},on.set=function($,_e,et){return en.set.call(this,$[0],_e,et,$[0])};var un=function(){function $(et){var tt=this;this.g=B,this.F=!0,this.produce=function(ct,pt,vt){if(typeof ct=="function"&&typeof pt!="function"){var ut=pt;pt=ct;var nt=tt;return function(ht){var at=this;ht===void 0&&(ht=ut);for(var dt=arguments.length,gt=Array(dt>1?dt-1:0),mt=1;mt<dt;mt++)gt[mt-1]=arguments[mt];return nt.produce(ht,function(yt){var _t;return(_t=pt).call.apply(_t,[at,yt].concat(gt))})}}var lt;if(typeof pt!="function"&&n(6),vt!==void 0&&typeof vt!="function"&&n(7),t(ct)){var ft=w(tt),it=R(tt,ct,void 0),ot=!0;try{lt=pt(it),ot=!1}finally{ot?O(ft):g(ft)}return typeof Promise<"u"&&lt instanceof Promise?lt.then(function(ht){return j(ft,vt),P(ht,ft)},function(ht){throw O(ft),ht}):(j(ft,vt),P(lt,ft))}if(!ct||typeof ct!="object"){if((lt=pt(ct))===void 0&&(lt=ct),lt===H&&(lt=void 0),tt.F&&d(lt,!0),vt){var rt=[],st=[];b("Patches").M(ct,lt,rt,st),vt(rt,st)}return lt}n(21,ct)},this.produceWithPatches=function(ct,pt){if(typeof ct=="function")return function(lt){for(var ft=arguments.length,it=Array(ft>1?ft-1:0),ot=1;ot<ft;ot++)it[ot-1]=arguments[ot];return tt.produceWithPatches(lt,function(rt){return ct.apply(void 0,[rt].concat(it))})};var vt,ut,nt=tt.produce(ct,pt,function(lt,ft){vt=lt,ut=ft});return typeof Promise<"u"&&nt instanceof Promise?nt.then(function(lt){return[lt,vt,ut]}):[nt,vt,ut]},typeof(et==null?void 0:et.useProxies)=="boolean"&&this.setUseProxies(et.useProxies),typeof(et==null?void 0:et.autoFreeze)=="boolean"&&this.setAutoFreeze(et.autoFreeze)}var _e=$.prototype;return _e.createDraft=function(et){t(et)||n(8),r(et)&&(et=D(et));var tt=w(this),ct=R(this,et,void 0);return ct[Q].C=!0,g(tt),ct},_e.finishDraft=function(et,tt){var ct=et&&et[Q],pt=ct.A;return j(pt,tt),P(void 0,pt)},_e.setAutoFreeze=function(et){this.F=et},_e.setUseProxies=function(et){et&&!B&&n(20),this.g=et},_e.applyPatches=function(et,tt){var ct;for(ct=tt.length-1;ct>=0;ct--){var pt=tt[ct];if(pt.path.length===0&&pt.op==="replace"){et=pt.value;break}}ct>-1&&(tt=tt.slice(ct+1));var vt=b("Patches").$;return r(et)?vt(et,tt):this.produce(et,function(ut){return vt(ut,tt)})},$}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function _typeof($){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof($)}function _toPrimitive($,_e){if(_typeof($)!=="object"||$===null)return $;var et=$[Symbol.toPrimitive];if(et!==void 0){var tt=et.call($,_e||"default");if(_typeof(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)($)}function _toPropertyKey($){var _e=_toPrimitive($,"string");return _typeof(_e)==="symbol"?_e:String(_e)}function _defineProperty($,_e,et){return _e=_toPropertyKey(_e),_e in $?Object.defineProperty($,_e,{value:et,enumerable:!0,configurable:!0,writable:!0}):$[_e]=et,$}function ownKeys($,_e){var et=Object.keys($);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols($);_e&&(tt=tt.filter(function(ct){return Object.getOwnPropertyDescriptor($,ct).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty($,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty($,tt,Object.getOwnPropertyDescriptor(et,tt))})}return $}function formatProdErrorMessage($){return"Minified Redux error #"+$+"; visit https://redux.js.org/Errors?code="+$+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1($){if(typeof $!="object"||$===null)return!1;for(var _e=$;Object.getPrototypeOf(_e)!==null;)_e=Object.getPrototypeOf(_e);return Object.getPrototypeOf($)===_e}function createStore($,_e,et){var tt;if(typeof _e=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof _e=="function"&&typeof et>"u"&&(et=_e,_e=void 0),typeof et<"u"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)($,_e)}if(typeof $!="function")throw new Error(formatProdErrorMessage(2));var ct=$,pt=_e,vt=[],ut=vt,nt=!1;function lt(){ut===vt&&(ut=vt.slice())}function ft(){if(nt)throw new Error(formatProdErrorMessage(3));return pt}function it(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage(4));if(nt)throw new Error(formatProdErrorMessage(5));var at=!0;return lt(),ut.push(ht),function(){if(at){if(nt)throw new Error(formatProdErrorMessage(6));at=!1,lt();var gt=ut.indexOf(ht);ut.splice(gt,1),vt=null}}}function ot(ht){if(!isPlainObject$1(ht))throw new Error(formatProdErrorMessage(7));if(typeof ht.type>"u")throw new Error(formatProdErrorMessage(8));if(nt)throw new Error(formatProdErrorMessage(9));try{nt=!0,pt=ct(pt,ht)}finally{nt=!1}for(var at=vt=ut,dt=0;dt<at.length;dt++){var gt=at[dt];gt()}return ht}function rt(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage(10));ct=ht,ot({type:ActionTypes.REPLACE})}function st(){var ht,at=it;return ht={subscribe:function(gt){if(typeof gt!="object"||gt===null)throw new Error(formatProdErrorMessage(11));function mt(){gt.next&&gt.next(ft())}mt();var yt=at(mt);return{unsubscribe:yt}}},ht[$$observable]=function(){return this},ht}return ot({type:ActionTypes.INIT}),tt={dispatch:ot,subscribe:it,getState:ft,replaceReducer:rt},tt[$$observable]=st,tt}function assertReducerShape($){Object.keys($).forEach(function(_e){var et=$[_e],tt=et(void 0,{type:ActionTypes.INIT});if(typeof tt>"u")throw new Error(formatProdErrorMessage(12));if(typeof et(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers($){for(var _e=Object.keys($),et={},tt=0;tt<_e.length;tt++){var ct=_e[tt];typeof $[ct]=="function"&&(et[ct]=$[ct])}var pt=Object.keys(et),vt;try{assertReducerShape(et)}catch(ut){vt=ut}return function(nt,lt){if(nt===void 0&&(nt={}),vt)throw vt;for(var ft=!1,it={},ot=0;ot<pt.length;ot++){var rt=pt[ot],st=et[rt],ht=nt[rt],at=st(ht,lt);if(typeof at>"u")throw lt&&lt.type,new Error(formatProdErrorMessage(14));it[rt]=at,ft=ft||at!==ht}return ft=ft||pt.length!==Object.keys(nt).length,ft?it:nt}}function compose(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return _e.length===0?function(tt){return tt}:_e.length===1?_e[0]:_e.reduce(function(tt,ct){return function(){return tt(ct.apply(void 0,arguments))}})}function applyMiddleware(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return function(tt){return function(){var ct=tt.apply(void 0,arguments),pt=function(){throw new Error(formatProdErrorMessage(15))},vt={getState:ct.getState,dispatch:function(){return pt.apply(void 0,arguments)}},ut=_e.map(function(nt){return nt(vt)});return pt=compose.apply(void 0,ut)(ct.dispatch),_objectSpread2(_objectSpread2({},ct),{},{dispatch:pt})}}}function createThunkMiddleware($){var _e=function(tt){var ct=tt.dispatch,pt=tt.getState;return function(vt){return function(ut){return typeof ut=="function"?ut(ct,pt,$):vt(ut)}}};return _e}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends=globalThis&&globalThis.__extends||function(){var $=function(_e,et){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,ct){tt.__proto__=ct}||function(tt,ct){for(var pt in ct)Object.prototype.hasOwnProperty.call(ct,pt)&&(tt[pt]=ct[pt])},$(_e,et)};return function(_e,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");$(_e,et);function tt(){this.constructor=_e}_e.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}}(),__generator=globalThis&&globalThis.__generator||function($,_e){var et={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},tt,ct,pt,vt;return vt={next:ut(0),throw:ut(1),return:ut(2)},typeof Symbol=="function"&&(vt[Symbol.iterator]=function(){return this}),vt;function ut(lt){return function(ft){return nt([lt,ft])}}function nt(lt){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,ct&&(pt=lt[0]&2?ct.return:lt[0]?ct.throw||((pt=ct.return)&&pt.call(ct),0):ct.next)&&!(pt=pt.call(ct,lt[1])).done)return pt;switch(ct=0,pt&&(lt=[lt[0]&2,pt.value]),lt[0]){case 0:case 1:pt=lt;break;case 4:return et.label++,{value:lt[1],done:!1};case 5:et.label++,ct=lt[1],lt=[0];continue;case 7:lt=et.ops.pop(),et.trys.pop();continue;default:if(pt=et.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(lt[0]===6||lt[0]===2)){et=0;continue}if(lt[0]===3&&(!pt||lt[1]>pt[0]&&lt[1]<pt[3])){et.label=lt[1];break}if(lt[0]===6&&et.label<pt[1]){et.label=pt[1],pt=lt;break}if(pt&&et.label<pt[2]){et.label=pt[2],et.ops.push(lt);break}pt[2]&&et.ops.pop(),et.trys.pop();continue}lt=_e.call($,et)}catch(ft){lt=[6,ft],ct=0}finally{tt=pt=0}if(lt[0]&5)throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}},__spreadArray=globalThis&&globalThis.__spreadArray||function($,_e){for(var et=0,tt=_e.length,ct=$.length;et<tt;et++,ct++)$[ct]=_e[et];return $},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function($,_e,et){return _e in $?__defProp($,_e,{enumerable:!0,configurable:!0,writable:!0,value:et}):$[_e]=et},__spreadValues=function($,_e){for(var et in _e||(_e={}))__hasOwnProp.call(_e,et)&&__defNormalProp($,et,_e[et]);if(__getOwnPropSymbols)for(var tt=0,ct=__getOwnPropSymbols(_e);tt<ct.length;tt++){var et=ct[tt];__propIsEnum.call(_e,et)&&__defNormalProp($,et,_e[et])}return $},__spreadProps=function($,_e){return __defProps($,__getOwnPropDescs(_e))},__async=function($,_e,et){return new Promise(function(tt,ct){var pt=function(nt){try{ut(et.next(nt))}catch(lt){ct(lt)}},vt=function(nt){try{ut(et.throw(nt))}catch(lt){ct(lt)}},ut=function(nt){return nt.done?tt(nt.value):Promise.resolve(nt.value).then(pt,vt)};ut((et=et.apply($,_e)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject($){if(typeof $!="object"||$===null)return!1;var _e=Object.getPrototypeOf($);if(_e===null)return!0;for(var et=_e;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return _e===et}var MiddlewareArray=function($){__extends(_e,$);function _e(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var ct=$.apply(this,et)||this;return Object.setPrototypeOf(ct,_e.prototype),ct}return Object.defineProperty(_e,Symbol.species,{get:function(){return _e},enumerable:!1,configurable:!0}),_e.prototype.concat=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return $.prototype.concat.apply(this,et)},_e.prototype.prepend=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return et.length===1&&Array.isArray(et[0])?new(_e.bind.apply(_e,__spreadArray([void 0],et[0].concat(this)))):new(_e.bind.apply(_e,__spreadArray([void 0],et.concat(this))))},_e}(Array);function freezeDraftable($){return t($)?fn($,function(){}):$}function isBoolean($){return typeof $=="boolean"}function curryGetDefaultMiddleware(){return function(_e){return getDefaultMiddleware(_e)}}function getDefaultMiddleware($){$===void 0&&($={});var _e=$.thunk,et=_e===void 0?!0:_e;$.immutableCheck,$.serializableCheck;var tt=new MiddlewareArray;return et&&(isBoolean(et)?tt.push(thunkMiddleware):tt.push(thunkMiddleware.withExtraArgument(et.extraArgument))),tt}var IS_PRODUCTION=!0;function configureStore($){var _e=curryGetDefaultMiddleware(),et=$||{},tt=et.reducer,ct=tt===void 0?void 0:tt,pt=et.middleware,vt=pt===void 0?_e():pt,ut=et.devTools,nt=ut===void 0?!0:ut,lt=et.preloadedState,ft=lt===void 0?void 0:lt,it=et.enhancers,ot=it===void 0?void 0:it,rt;if(typeof ct=="function")rt=ct;else if(isPlainObject(ct))rt=combineReducers(ct);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var st=vt;typeof st=="function"&&(st=st(_e));var ht=applyMiddleware.apply(void 0,st),at=compose;nt&&(at=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof nt=="object"&&nt)));var dt=[ht];Array.isArray(ot)?dt=__spreadArray([ht],ot):typeof ot=="function"&&(dt=ot(dt));var gt=at.apply(void 0,dt);return createStore(rt,ft,gt)}function createAction($,_e){function et(){for(var tt=[],ct=0;ct<arguments.length;ct++)tt[ct]=arguments[ct];if(_e){var pt=_e.apply(void 0,tt);if(!pt)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:$,payload:pt.payload},"meta"in pt&&{meta:pt.meta}),"error"in pt&&{error:pt.error})}return{type:$,payload:tt[0]}}return et.toString=function(){return""+$},et.type=$,et.match=function(tt){return tt.type===$},et}function executeReducerBuilderCallback($){var _e={},et=[],tt,ct={addCase:function(pt,vt){var ut=typeof pt=="string"?pt:pt.type;if(ut in _e)throw new Error("addCase cannot be called with two reducers for the same action type");return _e[ut]=vt,ct},addMatcher:function(pt,vt){return et.push({matcher:pt,reducer:vt}),ct},addDefaultCase:function(pt){return tt=pt,ct}};return $(ct),[_e,et,tt]}function isStateFunction($){return typeof $=="function"}function createReducer($,_e,et,tt){et===void 0&&(et=[]);var ct=typeof _e=="function"?executeReducerBuilderCallback(_e):[_e,et,tt],pt=ct[0],vt=ct[1],ut=ct[2],nt;if(isStateFunction($))nt=function(){return freezeDraftable($())};else{var lt=freezeDraftable($);nt=function(){return lt}}function ft(it,ot){it===void 0&&(it=nt());var rt=__spreadArray([pt[ot.type]],vt.filter(function(st){var ht=st.matcher;return ht(ot)}).map(function(st){var ht=st.reducer;return ht}));return rt.filter(function(st){return!!st}).length===0&&(rt=[ut]),rt.reduce(function(st,ht){if(ht)if(r(st)){var at=st,dt=ht(at,ot);return dt===void 0?st:dt}else{if(t(st))return fn(st,function(gt){return ht(gt,ot)});var dt=ht(st,ot);if(dt===void 0){if(st===null)return st;throw Error("A case reducer on a non-draftable value must not return undefined")}return dt}return st},it)}return ft.getInitialState=nt,ft}function getType2($,_e){return $+"/"+_e}function createSlice($){var _e=$.name;if(!_e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var et=typeof $.initialState=="function"?$.initialState:freezeDraftable($.initialState),tt=$.reducers||{},ct=Object.keys(tt),pt={},vt={},ut={};ct.forEach(function(ft){var it=tt[ft],ot=getType2(_e,ft),rt,st;"reducer"in it?(rt=it.reducer,st=it.prepare):rt=it,pt[ft]=rt,vt[ot]=rt,ut[ft]=st?createAction(ot,st):createAction(ot)});function nt(){var ft=typeof $.extraReducers=="function"?executeReducerBuilderCallback($.extraReducers):[$.extraReducers],it=ft[0],ot=it===void 0?{}:it,rt=ft[1],st=rt===void 0?[]:rt,ht=ft[2],at=ht===void 0?void 0:ht,dt=__spreadValues(__spreadValues({},ot),vt);return createReducer(et,function(gt){for(var mt in dt)gt.addCase(mt,dt[mt]);for(var yt=0,_t=st;yt<_t.length;yt++){var wt=_t[yt];gt.addMatcher(wt.matcher,wt.reducer)}at&&gt.addDefaultCase(at)})}var lt;return{name:_e,reducer:function(ft,it){return lt||(lt=nt()),lt(ft,it)},actions:ut,caseReducers:pt,getInitialState:function(){return lt||(lt=nt()),lt.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function($){$===void 0&&($=21);for(var _e="",et=$;et--;)_e+=urlAlphabet[Math.random()*64|0];return _e},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function $(_e,et){this.payload=_e,this.meta=et}return $}(),FulfillWithMeta=function(){function $(_e,et){this.payload=_e,this.meta=et}return $}(),miniSerializeError=function($){if(typeof $=="object"&&$!==null){for(var _e={},et=0,tt=commonProperties;et<tt.length;et++){var ct=tt[et];typeof $[ct]=="string"&&(_e[ct]=$[ct])}return _e}return{message:String($)}};(function(){function $(_e,et,tt){var ct=createAction(_e+"/fulfilled",function(lt,ft,it,ot){return{payload:lt,meta:__spreadProps(__spreadValues({},ot||{}),{arg:it,requestId:ft,requestStatus:"fulfilled"})}}),pt=createAction(_e+"/pending",function(lt,ft,it){return{payload:void 0,meta:__spreadProps(__spreadValues({},it||{}),{arg:ft,requestId:lt,requestStatus:"pending"})}}),vt=createAction(_e+"/rejected",function(lt,ft,it,ot,rt){return{payload:ot,error:(tt&&tt.serializeError||miniSerializeError)(lt||"Rejected"),meta:__spreadProps(__spreadValues({},rt||{}),{arg:it,requestId:ft,rejectedWithValue:!!ot,requestStatus:"rejected",aborted:(lt==null?void 0:lt.name)==="AbortError",condition:(lt==null?void 0:lt.name)==="ConditionError"})}}),ut=typeof AbortController<"u"?AbortController:function(){function lt(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return lt.prototype.abort=function(){},lt}();function nt(lt){return function(ft,it,ot){var rt=tt!=null&&tt.idGenerator?tt.idGenerator(lt):nanoid(),st=new ut,ht;function at(gt){ht=gt,st.abort()}var dt=function(){return __async(this,null,function(){var gt,mt,yt,_t,wt,St,Tt;return __generator(this,function(Dt){switch(Dt.label){case 0:return Dt.trys.push([0,4,,5]),_t=(gt=tt==null?void 0:tt.condition)==null?void 0:gt.call(tt,lt,{getState:it,extra:ot}),isThenable(_t)?[4,_t]:[3,2];case 1:_t=Dt.sent(),Dt.label=2;case 2:if(_t===!1||st.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return wt=new Promise(function(Mt,Ht){return st.signal.addEventListener("abort",function(){return Ht({name:"AbortError",message:ht||"Aborted"})})}),ft(pt(rt,lt,(mt=tt==null?void 0:tt.getPendingMeta)==null?void 0:mt.call(tt,{requestId:rt,arg:lt},{getState:it,extra:ot}))),[4,Promise.race([wt,Promise.resolve(et(lt,{dispatch:ft,getState:it,extra:ot,requestId:rt,signal:st.signal,abort:at,rejectWithValue:function(Mt,Ht){return new RejectWithValue(Mt,Ht)},fulfillWithValue:function(Mt,Ht){return new FulfillWithMeta(Mt,Ht)}})).then(function(Mt){if(Mt instanceof RejectWithValue)throw Mt;return Mt instanceof FulfillWithMeta?ct(Mt.payload,rt,lt,Mt.meta):ct(Mt,rt,lt)})])];case 3:return yt=Dt.sent(),[3,5];case 4:return St=Dt.sent(),yt=St instanceof RejectWithValue?vt(null,rt,lt,St.payload,St.meta):vt(St,rt,lt),[3,5];case 5:return Tt=tt&&!tt.dispatchConditionRejection&&vt.match(yt)&&yt.meta.condition,Tt||ft(yt),[2,yt]}})})}();return Object.assign(dt,{abort:at,requestId:rt,arg:lt,unwrap:function(){return dt.then(unwrapResult)}})}}return Object.assign(nt,{pending:pt,rejected:vt,fulfilled:ct,typePrefix:_e})}return $.withTypes=function(){return $},$})();function unwrapResult($){if($.meta&&$.meta.rejectedWithValue)throw $.payload;if($.error)throw $.error;return $.payload}function isThenable($){return $!==null&&typeof $=="object"&&typeof $.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);N();var orientation=(screen.orientation||{}).type;const initialState$1={msg:"Hello World",token:"ya29.a0AX9GBdXVsNDCDlaMneBWzpj07GjPF3igWCULBf_9_q_VLmsna1eYCBJLys6R-0BqjC_LsgIzItynm4WpFKntBwTZyQLKqvMNcdc69eguIQk_LhdlHArH4cK8S9yy76SgwUcrv7QWMVJly03xDKpR1Z0oO83uaCgYKAaoSARASFQHUCsbCFcRGWWmORV6srUno9QXu7w0163",orientation:orientation==="landscape-primary"?"landscape-primary":"portrait-primary",theme:"light"},uiSlice=createSlice({initialState:initialState$1,name:"ui_slice",reducers:{setPortrait:($,_e)=>{$.orientation=_e.payload},setTheme:($,_e)=>{$.theme=_e.payload}}}),{actions:uiActions}=uiSlice,mockData=[{canvasJson:{version:"5.2.4",objects:[],canvasIndex:0},isPainted:!1,image:{name:"drawing3.jpg",id:"1qxB_qe-tnS7mu5foNvAU_kC9ANKt-gCe",thumbnailLink:"https://lh4.googleusercontent.com/jb6NYWJK7siP69KDIcRKvQ275QBkRBHd7CX_WoCwpachXLxWZnb5EQMfZi2sQ1LbxZQKh0d_Tm2pEPc=s220",webViewLink:"https://drive.google.com/file/d/1qxB_qe-tnS7mu5foNvAU_kC9ANKt-gCe/view?usp=drivesdk"},history:{isLocked:!0,redo:[],undo:[]}},{canvasJson:{version:"5.2.4",objects:[],canvasIndex:1},isPainted:!1,image:{name:"drawing12.png",id:"1Aa81NHbXZi-Zhc9r5zZlrX_BbPpkkdKC",thumbnailLink:"https://lh3.googleusercontent.com/BfBFVOPYGOUlQsSAqWHi5sdLtyh3tZaMRq7UcTqp-GzlKjySbyEtiQI7tyNnawOw18KoEHaAiFwwd2g=s220",webViewLink:"https://drive.google.com/file/d/1Aa81NHbXZi-Zhc9r5zZlrX_BbPpkkdKC/view?usp=drivesdk"},history:{isLocked:!0,redo:[],undo:[]}},{canvasJson:{version:"5.2.4",objects:[],canvasIndex:2},isPainted:!1,image:{name:"drawing4.png",id:"1juWD5QZtlAcJ5O1gZNRLx937OHM21rrC",thumbnailLink:"https://lh3.googleusercontent.com/FvfIIYg19h-ztFYBbl5EpWNdAR5-Vv-VLa-2bcZ6k_jT4THYTXX6QzjwgIXGkGxbD-zEUHxC0PqUggo=s220",webViewLink:"https://drive.google.com/file/d/1juWD5QZtlAcJ5O1gZNRLx937OHM21rrC/view?usp=drivesdk"},history:{isLocked:!0,redo:[],undo:[]}}],initialState={activeCanvas:0,canvasList:mockData,isLoading:!0,timeOptions:{label:"5 minutes",value:500},isActive:!1,gameStatus:"idle",name:"Untitled Project",timeRemaining:10,isCanvasLoading:!1,id:Date.now().toString(),googleImages:[],category:{title:"All",id:""}},gameSlice=createSlice({initialState,name:"gameSlice",reducers:{setActiveCanvas:($,_e)=>{$.activeCanvas=_e.payload},setProjectName:($,_e)=>{$.name=_e.payload},startGame:($,_e)=>{$.isActive=!0,$.gameStatus="paused",$.id=Date.now().toString(),$.timeOptions=_e.payload.timeOption,$.timeRemaining=_e.payload.timeOption.value,$.canvasList=_e.payload.canvasList},pushCanvas:($,_e)=>{$.canvasList.length<8&&$.canvasList.push(_e.payload)},popCanvas:$=>{$.canvasList.length>1&&$.canvasList.pop()},setTimeOptions:($,_e)=>{$.timeOptions=_e.payload},setActive:$=>{$.isActive=!0},unsetActive:$=>{$.isActive=!1},decreaseTime:$=>{$.timeRemaining>0&&($.timeRemaining-=1)},setGameStatus:($,_e)=>{$.gameStatus=_e.payload},setCanvasLoading:$=>{$.isCanvasLoading=!0},unsetCanvasLoading:$=>{$.isCanvasLoading=!1},setCanvasJson:($,_e)=>{$.canvasList[$.activeCanvas].canvasJson=_e.payload},setIsLockedHistory:$=>{$.canvasList[$.activeCanvas].history.isLocked=!0},unsetIsLockedHistory:$=>{$.canvasList[$.activeCanvas].history.isLocked=!1},pushUndo:($,_e)=>{$.canvasList[$.activeCanvas].history.isLocked||$.canvasList[$.activeCanvas].history.undo.push(_e.payload)},popUndo:$=>{$.canvasList[$.activeCanvas].history.isLocked||$.canvasList[$.activeCanvas].history.undo.pop()},pushRedo:($,_e)=>{$.canvasList[$.activeCanvas].history.isLocked||$.canvasList[$.activeCanvas].history.redo.push(_e.payload)},popRedo:$=>{$.canvasList[$.activeCanvas].history.isLocked||$.canvasList[$.activeCanvas].history.redo.pop()},setState:($,_e)=>{$=_e.payload,$.name="Name changed"},setGoogleImages:($,_e)=>{$.googleImages=_e.payload},setCategory:($,_e)=>{$.category.title=_e.payload.title??"",$.category.id=_e.payload.id??""}}}),{actions:gameActions}=gameSlice,store=configureStore({reducer:{uiSlice:uiSlice.reducer,gameSlice:gameSlice.reducer}}),useAppDispatch=()=>useDispatch(),useAppSelector=useSelector,index="",App="";function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends$1.apply(this,arguments)}var Action;(function($){$.Pop="POP",$.Push="PUSH",$.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory($){$===void 0&&($={});function _e(tt,ct){let{pathname:pt,search:vt,hash:ut}=tt.location;return createLocation("",{pathname:pt,search:vt,hash:ut},ct.state&&ct.state.usr||null,ct.state&&ct.state.key||"default")}function et(tt,ct){return typeof ct=="string"?ct:createPath(ct)}return getUrlBasedHistory(_e,et,null,$)}function invariant($,_e){if($===!1||$===null||typeof $>"u")throw new Error(_e)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState($){return{usr:$.state,key:$.key}}function createLocation($,_e,et,tt){return et===void 0&&(et=null),_extends$1({pathname:typeof $=="string"?$:$.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:et,key:_e&&_e.key||tt||createKey()})}function createPath($){let{pathname:_e="/",search:et="",hash:tt=""}=$;return et&&et!=="?"&&(_e+=et.charAt(0)==="?"?et:"?"+et),tt&&tt!=="#"&&(_e+=tt.charAt(0)==="#"?tt:"#"+tt),_e}function parsePath($){let _e={};if($){let et=$.indexOf("#");et>=0&&(_e.hash=$.substr(et),$=$.substr(0,et));let tt=$.indexOf("?");tt>=0&&(_e.search=$.substr(tt),$=$.substr(0,tt)),$&&(_e.pathname=$)}return _e}function createClientSideURL($){let _e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,et=typeof $=="string"?$:createPath($);return invariant(_e,"No window.location.(origin|href) available to create URL for href: "+et),new URL(et,_e)}function getUrlBasedHistory($,_e,et,tt){tt===void 0&&(tt={});let{window:ct=document.defaultView,v5Compat:pt=!1}=tt,vt=ct.history,ut=Action.Pop,nt=null;function lt(){ut=Action.Pop,nt&&nt({action:ut,location:ot.location})}function ft(rt,st){ut=Action.Push;let ht=createLocation(ot.location,rt,st);et&&et(ht,rt);let at=getHistoryState(ht),dt=ot.createHref(ht);try{vt.pushState(at,"",dt)}catch{ct.location.assign(dt)}pt&&nt&&nt({action:ut,location:ot.location})}function it(rt,st){ut=Action.Replace;let ht=createLocation(ot.location,rt,st);et&&et(ht,rt);let at=getHistoryState(ht),dt=ot.createHref(ht);vt.replaceState(at,"",dt),pt&&nt&&nt({action:ut,location:ot.location})}let ot={get action(){return ut},get location(){return $(ct,vt)},listen(rt){if(nt)throw new Error("A history only accepts one active listener");return ct.addEventListener(PopStateEventType,lt),nt=rt,()=>{ct.removeEventListener(PopStateEventType,lt),nt=null}},createHref(rt){return _e(ct,rt)},encodeLocation(rt){let st=createClientSideURL(typeof rt=="string"?rt:createPath(rt));return{pathname:st.pathname,search:st.search,hash:st.hash}},push:ft,replace:it,go(rt){return vt.go(rt)}};return ot}var ResultType;(function($){$.data="data",$.deferred="deferred",$.redirect="redirect",$.error="error"})(ResultType||(ResultType={}));function matchRoutes($,_e,et){et===void 0&&(et="/");let tt=typeof _e=="string"?parsePath(_e):_e,ct=stripBasename(tt.pathname||"/",et);if(ct==null)return null;let pt=flattenRoutes($);rankRouteBranches(pt);let vt=null;for(let ut=0;vt==null&&ut<pt.length;++ut)vt=matchRouteBranch(pt[ut],safelyDecodeURI(ct));return vt}function flattenRoutes($,_e,et,tt){_e===void 0&&(_e=[]),et===void 0&&(et=[]),tt===void 0&&(tt="");let ct=(pt,vt,ut)=>{let nt={relativePath:ut===void 0?pt.path||"":ut,caseSensitive:pt.caseSensitive===!0,childrenIndex:vt,route:pt};nt.relativePath.startsWith("/")&&(invariant(nt.relativePath.startsWith(tt),'Absolute route path "'+nt.relativePath+'" nested under path '+('"'+tt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),nt.relativePath=nt.relativePath.slice(tt.length));let lt=joinPaths([tt,nt.relativePath]),ft=et.concat(nt);pt.children&&pt.children.length>0&&(invariant(pt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lt+'".')),flattenRoutes(pt.children,_e,ft,lt)),!(pt.path==null&&!pt.index)&&_e.push({path:lt,score:computeScore(lt,pt.index),routesMeta:ft})};return $.forEach((pt,vt)=>{var ut;if(pt.path===""||!((ut=pt.path)!=null&&ut.includes("?")))ct(pt,vt);else for(let nt of explodeOptionalSegments(pt.path))ct(pt,vt,nt)}),_e}function explodeOptionalSegments($){let _e=$.split("/");if(_e.length===0)return[];let[et,...tt]=_e,ct=et.endsWith("?"),pt=et.replace(/\?$/,"");if(tt.length===0)return ct?[pt,""]:[pt];let vt=explodeOptionalSegments(tt.join("/")),ut=[];return ut.push(...vt.map(nt=>nt===""?pt:[pt,nt].join("/"))),ct&&ut.push(...vt),ut.map(nt=>$.startsWith("/")&&nt===""?"/":nt)}function rankRouteBranches($){$.sort((_e,et)=>_e.score!==et.score?et.score-_e.score:compareIndexes(_e.routesMeta.map(tt=>tt.childrenIndex),et.routesMeta.map(tt=>tt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=$=>$==="*";function computeScore($,_e){let et=$.split("/"),tt=et.length;return et.some(isSplat)&&(tt+=splatPenalty),_e&&(tt+=indexRouteValue),et.filter(ct=>!isSplat(ct)).reduce((ct,pt)=>ct+(paramRe.test(pt)?dynamicSegmentValue:pt===""?emptySegmentValue:staticSegmentValue),tt)}function compareIndexes($,_e){return $.length===_e.length&&$.slice(0,-1).every((tt,ct)=>tt===_e[ct])?$[$.length-1]-_e[_e.length-1]:0}function matchRouteBranch($,_e){let{routesMeta:et}=$,tt={},ct="/",pt=[];for(let vt=0;vt<et.length;++vt){let ut=et[vt],nt=vt===et.length-1,lt=ct==="/"?_e:_e.slice(ct.length)||"/",ft=matchPath({path:ut.relativePath,caseSensitive:ut.caseSensitive,end:nt},lt);if(!ft)return null;Object.assign(tt,ft.params);let it=ut.route;pt.push({params:tt,pathname:joinPaths([ct,ft.pathname]),pathnameBase:normalizePathname(joinPaths([ct,ft.pathnameBase])),route:it}),ft.pathnameBase!=="/"&&(ct=joinPaths([ct,ft.pathnameBase]))}return pt}function matchPath($,_e){typeof $=="string"&&($={path:$,caseSensitive:!1,end:!0});let[et,tt]=compilePath($.path,$.caseSensitive,$.end),ct=_e.match(et);if(!ct)return null;let pt=ct[0],vt=pt.replace(/(.)\/+$/,"$1"),ut=ct.slice(1);return{params:tt.reduce((lt,ft,it)=>{if(ft==="*"){let ot=ut[it]||"";vt=pt.slice(0,pt.length-ot.length).replace(/(.)\/+$/,"$1")}return lt[ft]=safelyDecodeURIComponent(ut[it]||"",ft),lt},{}),pathname:pt,pathnameBase:vt,pattern:$}}function compilePath($,_e,et){_e===void 0&&(_e=!1),et===void 0&&(et=!0),warning($==="*"||!$.endsWith("*")||$.endsWith("/*"),'Route path "'+$+'" will be treated as if it were '+('"'+$.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+$.replace(/\*$/,"/*")+'".'));let tt=[],ct="^"+$.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(vt,ut)=>(tt.push(ut),"/([^\\/]+)"));return $.endsWith("*")?(tt.push("*"),ct+=$==="*"||$==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?ct+="\\/*$":$!==""&&$!=="/"&&(ct+="(?:(?=\\/|$))"),[new RegExp(ct,_e?void 0:"i"),tt]}function safelyDecodeURI($){try{return decodeURI($)}catch(_e){return warning(!1,'The URL path "'+$+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),$}}function safelyDecodeURIComponent($,_e){try{return decodeURIComponent($)}catch(et){return warning(!1,'The value for the URL param "'+_e+'" will not be decoded because'+(' the string "'+$+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+et+").")),$}}function stripBasename($,_e){if(_e==="/")return $;if(!$.toLowerCase().startsWith(_e.toLowerCase()))return null;let et=_e.endsWith("/")?_e.length-1:_e.length,tt=$.charAt(et);return tt&&tt!=="/"?null:$.slice(et)||"/"}function warning($,_e){if(!$){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function resolvePath($,_e){_e===void 0&&(_e="/");let{pathname:et,search:tt="",hash:ct=""}=typeof $=="string"?parsePath($):$;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,_e):_e,search:normalizeSearch(tt),hash:normalizeHash(ct)}}function resolvePathname($,_e){let et=_e.replace(/\/+$/,"").split("/");return $.split("/").forEach(ct=>{ct===".."?et.length>1&&et.pop():ct!=="."&&et.push(ct)}),et.length>1?et.join("/"):"/"}function getInvalidPathError($,_e,et,tt){return"Cannot include a '"+$+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(tt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches($){return $.filter((_e,et)=>et===0||_e.route.path&&_e.route.path.length>0)}function resolveTo($,_e,et,tt){tt===void 0&&(tt=!1);let ct;typeof $=="string"?ct=parsePath($):(ct=_extends$1({},$),invariant(!ct.pathname||!ct.pathname.includes("?"),getInvalidPathError("?","pathname","search",ct)),invariant(!ct.pathname||!ct.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ct)),invariant(!ct.search||!ct.search.includes("#"),getInvalidPathError("#","search","hash",ct)));let pt=$===""||ct.pathname==="",vt=pt?"/":ct.pathname,ut;if(tt||vt==null)ut=et;else{let it=_e.length-1;if(vt.startsWith("..")){let ot=vt.split("/");for(;ot[0]==="..";)ot.shift(),it-=1;ct.pathname=ot.join("/")}ut=it>=0?_e[it]:"/"}let nt=resolvePath(ct,ut),lt=vt&&vt!=="/"&&vt.endsWith("/"),ft=(pt||vt===".")&&et.endsWith("/");return!nt.pathname.endsWith("/")&&(lt||ft)&&(nt.pathname+="/"),nt}const joinPaths=$=>$.join("/").replace(/\/\/+/g,"/"),normalizePathname=$=>$.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=$=>!$||$==="?"?"":$.startsWith("?")?$:"?"+$,normalizeHash=$=>!$||$==="#"?"":$.startsWith("#")?$:"#"+$;class ErrorResponse{constructor(_e,et,tt,ct){ct===void 0&&(ct=!1),this.status=_e,this.statusText=et||"",this.internal=ct,tt instanceof Error?(this.data=tt.toString(),this.error=tt):this.data=tt}}function isRouteErrorResponse($){return $ instanceof ErrorResponse}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];function _extends(){return _extends=Object.assign?Object.assign.bind():function($){for(var _e=1;_e<arguments.length;_e++){var et=arguments[_e];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&($[tt]=et[tt])}return $},_extends.apply(this,arguments)}function isPolyfill($,_e){return $===_e&&($!==0||1/$===1/_e)||$!==$&&_e!==_e}const is=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2($,_e,et){const tt=_e(),[{inst:ct},pt]=useState({inst:{value:tt,getSnapshot:_e}});return useLayoutEffect(()=>{ct.value=tt,ct.getSnapshot=_e,checkIfSnapshotChanged(ct)&&pt({inst:ct})},[$,tt,_e]),useEffect(()=>(checkIfSnapshotChanged(ct)&&pt({inst:ct}),$(()=>{checkIfSnapshotChanged(ct)&&pt({inst:ct})})),[$]),useDebugValue(tt),tt}function checkIfSnapshotChanged($){const _e=$.getSnapshot,et=$.value;try{const tt=_e();return!is(et,tt)}catch{return!0}}function useSyncExternalStore$1($,_e,et){return _e()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&($=>$.useSyncExternalStore)(React$1);const DataStaticRouterContext=react.exports.createContext(null),DataRouterContext=react.exports.createContext(null),DataRouterStateContext=react.exports.createContext(null),NavigationContext=react.exports.createContext(null),LocationContext=react.exports.createContext(null),RouteContext=react.exports.createContext({outlet:null,matches:[]}),RouteErrorContext=react.exports.createContext(null);function useInRouterContext(){return react.exports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),react.exports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:$,navigator:_e}=react.exports.useContext(NavigationContext),{matches:et}=react.exports.useContext(RouteContext),{pathname:tt}=useLocation(),ct=JSON.stringify(getPathContributingMatches(et).map(ut=>ut.pathnameBase)),pt=react.exports.useRef(!1);return react.exports.useEffect(()=>{pt.current=!0}),react.exports.useCallback(function(ut,nt){if(nt===void 0&&(nt={}),!pt.current)return;if(typeof ut=="number"){_e.go(ut);return}let lt=resolveTo(ut,JSON.parse(ct),tt,nt.relative==="path");$!=="/"&&(lt.pathname=lt.pathname==="/"?$:joinPaths([$,lt.pathname])),(nt.replace?_e.replace:_e.push)(lt,nt.state,nt)},[$,_e,ct,tt])}function useRoutes($,_e){useInRouterContext()||invariant(!1);let{navigator:et}=react.exports.useContext(NavigationContext),tt=react.exports.useContext(DataRouterStateContext),{matches:ct}=react.exports.useContext(RouteContext),pt=ct[ct.length-1],vt=pt?pt.params:{};pt&&pt.pathname;let ut=pt?pt.pathnameBase:"/";pt&&pt.route;let nt=useLocation(),lt;if(_e){var ft;let ht=typeof _e=="string"?parsePath(_e):_e;ut==="/"||(ft=ht.pathname)!=null&&ft.startsWith(ut)||invariant(!1),lt=ht}else lt=nt;let it=lt.pathname||"/",ot=ut==="/"?it:it.slice(ut.length)||"/",rt=matchRoutes($,{pathname:ot}),st=_renderMatches(rt&&rt.map(ht=>Object.assign({},ht,{params:Object.assign({},vt,ht.params),pathname:joinPaths([ut,et.encodeLocation?et.encodeLocation(ht.pathname).pathname:ht.pathname]),pathnameBase:ht.pathnameBase==="/"?ut:joinPaths([ut,et.encodeLocation?et.encodeLocation(ht.pathnameBase).pathname:ht.pathnameBase])})),ct,tt||void 0);return _e&&st?react.exports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},lt),navigationType:Action.Pop}},st):st}function DefaultErrorElement(){let $=useRouteError(),_e=isRouteErrorResponse($)?$.status+" "+$.statusText:$ instanceof Error?$.message:JSON.stringify($),et=$ instanceof Error?$.stack:null,tt="rgba(200,200,200, 0.5)",ct={padding:"0.5rem",backgroundColor:tt},pt={padding:"2px 4px",backgroundColor:tt};return react.exports.createElement(react.exports.Fragment,null,react.exports.createElement("h2",null,"Unhandled Thrown Error!"),react.exports.createElement("h3",{style:{fontStyle:"italic"}},_e),et?react.exports.createElement("pre",{style:ct},et):null,react.exports.createElement("p",null," Hey developer "),react.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",react.exports.createElement("code",{style:pt},"errorElement")," props on",react.exports.createElement("code",{style:pt},"<Route>")))}class RenderErrorBoundary extends react.exports.Component{constructor(_e){super(_e),this.state={location:_e.location,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,et){return et.location!==_e.location?{error:_e.error,location:_e.location}:{error:_e.error||et.error,location:et.location}}componentDidCatch(_e,et){console.error("React Router caught the following error during render",_e,et)}render(){return this.state.error?react.exports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function RenderedRoute($){let{routeContext:_e,match:et,children:tt}=$,ct=react.exports.useContext(DataStaticRouterContext);return ct&&et.route.errorElement&&(ct._deepestRenderedBoundaryId=et.route.id),react.exports.createElement(RouteContext.Provider,{value:_e},tt)}function _renderMatches($,_e,et){if(_e===void 0&&(_e=[]),$==null)if(et!=null&&et.errors)$=et.matches;else return null;let tt=$,ct=et==null?void 0:et.errors;if(ct!=null){let pt=tt.findIndex(vt=>vt.route.id&&(ct==null?void 0:ct[vt.route.id]));pt>=0||invariant(!1),tt=tt.slice(0,Math.min(tt.length,pt+1))}return tt.reduceRight((pt,vt,ut)=>{let nt=vt.route.id?ct==null?void 0:ct[vt.route.id]:null,lt=et?vt.route.errorElement||react.exports.createElement(DefaultErrorElement,null):null,ft=()=>react.exports.createElement(RenderedRoute,{match:vt,routeContext:{outlet:pt,matches:_e.concat(tt.slice(0,ut+1))}},nt?lt:vt.route.element!==void 0?vt.route.element:pt);return et&&(vt.route.errorElement||ut===0)?react.exports.createElement(RenderErrorBoundary,{location:et.location,component:lt,error:nt,children:ft()}):ft()},null)}var DataRouterHook$1;(function($){$.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function($){$.UseLoaderData="useLoaderData",$.UseActionData="useActionData",$.UseRouteError="useRouteError",$.UseNavigation="useNavigation",$.UseRouteLoaderData="useRouteLoaderData",$.UseMatches="useMatches",$.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState($){let _e=react.exports.useContext(DataRouterStateContext);return _e||invariant(!1),_e}function useRouteError(){var $;let _e=react.exports.useContext(RouteErrorContext),et=useDataRouterState(DataRouterStateHook$1.UseRouteError),tt=react.exports.useContext(RouteContext),ct=tt.matches[tt.matches.length-1];return _e||(tt||invariant(!1),ct.route.id||invariant(!1),($=et.errors)==null?void 0:$[ct.route.id])}function Route($){invariant(!1)}function Router($){let{basename:_e="/",children:et=null,location:tt,navigationType:ct=Action.Pop,navigator:pt,static:vt=!1}=$;useInRouterContext()&&invariant(!1);let ut=_e.replace(/^\/*/,"/"),nt=react.exports.useMemo(()=>({basename:ut,navigator:pt,static:vt}),[ut,pt,vt]);typeof tt=="string"&&(tt=parsePath(tt));let{pathname:lt="/",search:ft="",hash:it="",state:ot=null,key:rt="default"}=tt,st=react.exports.useMemo(()=>{let ht=stripBasename(lt,ut);return ht==null?null:{pathname:ht,search:ft,hash:it,state:ot,key:rt}},[ut,lt,ft,it,ot,rt]);return st==null?null:react.exports.createElement(NavigationContext.Provider,{value:nt},react.exports.createElement(LocationContext.Provider,{children:et,value:{location:st,navigationType:ct}}))}function Routes($){let{children:_e,location:et}=$,tt=react.exports.useContext(DataRouterContext),ct=tt&&!_e?tt.router.routes:createRoutesFromChildren(_e);return useRoutes(ct,et)}var AwaitRenderStatus;(function($){$[$.pending=0]="pending",$[$.success=1]="success",$[$.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren($,_e){_e===void 0&&(_e=[]);let et=[];return react.exports.Children.forEach($,(tt,ct)=>{if(!react.exports.isValidElement(tt))return;if(tt.type===react.exports.Fragment){et.push.apply(et,createRoutesFromChildren(tt.props.children,_e));return}tt.type!==Route&&invariant(!1),!tt.props.index||!tt.props.children||invariant(!1);let pt=[..._e,ct],vt={id:tt.props.id||pt.join("-"),caseSensitive:tt.props.caseSensitive,element:tt.props.element,index:tt.props.index,path:tt.props.path,loader:tt.props.loader,action:tt.props.action,errorElement:tt.props.errorElement,hasErrorBoundary:tt.props.errorElement!=null,shouldRevalidate:tt.props.shouldRevalidate,handle:tt.props.handle};tt.props.children&&(vt.children=createRoutesFromChildren(tt.props.children,pt)),et.push(vt)}),et}function BrowserRouter($){let{basename:_e,children:et,window:tt}=$,ct=react.exports.useRef();ct.current==null&&(ct.current=createBrowserHistory({window:tt,v5Compat:!0}));let pt=ct.current,[vt,ut]=react.exports.useState({action:pt.action,location:pt.location});return react.exports.useLayoutEffect(()=>pt.listen(ut),[pt]),react.exports.createElement(Router,{basename:_e,children:et,location:vt.location,navigationType:vt.action,navigator:pt})}var DataRouterHook;(function($){$.UseScrollRestoration="useScrollRestoration",$.UseSubmitImpl="useSubmitImpl",$.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function($){$.UseFetchers="useFetchers",$.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const LoginPage=()=>jsx("div",{children:"LoginPage"});var gapi=window.gapi=window.gapi||{};gapi._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function($,_e,et){return $==Array.prototype||$==Object.prototype||($[_e]=et.value),$},da=function($){$=[typeof globalThis=="object"&&globalThis,$,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var _e=0;_e<$.length;++_e){var et=$[_e];if(et&&et.Math==Math)return et}throw Error("Cannot find global object")},ea=da(this),fa=function($,_e){if(_e)e:{var et=ea;$=$.split(".");for(var tt=0;tt<$.length-1;tt++){var ct=$[tt];if(!(ct in et))break e;et=et[ct]}$=$[$.length-1],tt=et[$],_e=_e(tt),_e!=tt&&_e!=null&&aa(et,$,{configurable:!0,writable:!0,value:_e})}},ha=function($){var _e=0;return function(){return _e<$.length?{done:!1,value:$[_e++]}:{done:!0}}};fa("Symbol",function($){if($)return $;var _e=function(ct,pt){this.ba=ct,aa(this,"description",{configurable:!0,writable:!0,value:pt})};_e.prototype.toString=function(){return this.ba};var et=0,tt=function(ct){if(this instanceof tt)throw new TypeError("Symbol is not a constructor");return new _e("jscomp_symbol_"+(ct||"")+"_"+et++,ct)};return tt}),fa("Symbol.iterator",function($){if($)return $;$=Symbol("Symbol.iterator");for(var _e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),et=0;et<_e.length;et++){var tt=ea[_e[et]];typeof tt=="function"&&typeof tt.prototype[$]!="function"&&aa(tt.prototype,$,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return $});var ia=function($){return $={next:$},$[Symbol.iterator]=function(){return this},$},ja=function($,_e){$ instanceof String&&($+="");var et=0,tt=!1,ct={next:function(){if(!tt&&et<$.length){var pt=et++;return{value:_e(pt,$[pt]),done:!1}}return tt=!0,{done:!0,value:void 0}}};return ct[Symbol.iterator]=function(){return ct},ct};fa("Array.prototype.keys",function($){return $||function(){return ja(this,function(_e){return _e})}});var m=this||self,ka=function($){var _e=typeof $;return _e!="object"?_e:$?Array.isArray($)?"array":_e:"null"},la=function($,_e,et){return $.call.apply($.bind,arguments)},ma=function($,_e,et){if(!$)throw Error();if(2<arguments.length){var tt=Array.prototype.slice.call(arguments,2);return function(){var ct=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ct,tt),$.apply(_e,ct)}}return function(){return $.apply(_e,arguments)}},na=function($,_e,et){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function($,_e){function et(){}et.prototype=_e.prototype,$.ma=_e.prototype,$.prototype=new et,$.prototype.constructor=$,$.A=function(tt,ct,pt){for(var vt=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)vt[ut-2]=arguments[ut];return _e.prototype[ct].apply(tt,vt)}},pa=function($){return $},qa=function($){var _e=null,et=m.trustedTypes;if(!et||!et.createPolicy)return _e;try{_e=et.createPolicy($,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(tt){m.console&&m.console.error(tt.message)}return _e};function q($){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var _e=Error().stack;_e&&(this.stack=_e)}$&&(this.message=String($))}oa(q,Error),q.prototype.name="CustomError";var ra=function($,_e){$=$.split("%s");for(var et="",tt=$.length-1,ct=0;ct<tt;ct++)et+=$[ct]+(ct<_e.length?_e[ct]:"%s");q.call(this,et+$[tt])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function($,_e,et,tt){var ct="Assertion failed";if(et){ct+=": "+et;var pt=tt}else $&&(ct+=": "+$,pt=_e);throw new ra(""+ct,pt||[])},ta=function($,_e,et){return $||sa("",null,_e,Array.prototype.slice.call(arguments,2)),$},ua=function($,_e){throw new ra("Failure"+($?": "+$:""),Array.prototype.slice.call(arguments,1))},va=function($,_e,et){typeof $!="string"&&sa("Expected string but got %s: %s.",[ka($),$],_e,Array.prototype.slice.call(arguments,2))},xa=function($,_e){e:{try{var et=$&&$.ownerDocument,tt=et&&(et.defaultView||et.parentWindow);if(tt=tt||m,tt.Element&&tt.Location){var ct=tt;break e}}catch{}ct=null}if(ct&&typeof ct[_e]<"u"&&(!$||!($ instanceof ct[_e])&&($ instanceof ct.Location||$ instanceof ct.Element))){if(ct=typeof $,ct=="object"&&$!=null||ct=="function")try{var pt=$.constructor.displayName||$.constructor.name||Object.prototype.toString.call($)}catch{pt="<object could not be stringified>"}else pt=$===void 0?"undefined":$===null?"null":typeof $;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",_e,pt)}return $},ya,t=function($,_e){this.P=$===za&&_e||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function($){return $ instanceof t&&$.constructor===t&&$.ca===Aa?$.P:(ua("expected object of type Const, got '"+$+"'"),"type_error:Const")},Aa={},za={},v=function($,_e){this.N=_e===Ca?$:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function($){return $ instanceof v&&$.constructor===v?$.N:(ua("expected object of type SafeUrl, got '"+$+"' of type "+ka($)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function($){return $ instanceof v?$:($=typeof $=="object"&&$.J?$.H():String($),ta(Ea.test($),"%s does not match the safe URL pattern",$)||($="about:invalid#zClosurez"),new v($,Ca))},Ca={},w=function($,_e,et){this.M=et===Ga?$:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function($){return $ instanceof w&&$.constructor===w?$.M:(ua("expected object of type SafeHtml, got '"+$+"' of type "+ka($)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function($){var _e=!1,et;return function(){return _e||(et=$(),_e=!0),et}}(function(){if(typeof document>"u")return!1;var $=document.createElement("div"),_e=document.createElement("div");return _e.appendChild(document.createElement("div")),$.appendChild(_e),$.firstChild?(_e=$.firstChild.firstChild,$.innerHTML=Ha(Ia),!_e.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function($,_e,et){return $[_e]=$[_e]||et},Oa=function($){for(var _e=0;_e<this.length;_e++)if(this[_e]===$)return _e;return-1},Pa=function($){$=$.sort();for(var _e=[],et=void 0,tt=0;tt<$.length;tt++){var ct=$[tt];ct!=et&&_e.push(ct),et=ct}return _e},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function($){return String($).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var $;if(($=Object.create)&&Na.test($))$=$(null);else{$={};for(var _e in $)$[_e]=void 0}return $},C=function($,_e){return Object.prototype.hasOwnProperty.call($,_e)},Xa=function($){if(Na.test(Object.keys))return Object.keys($);var _e=[],et;for(et in $)C($,et)&&_e.push(et);return _e},D=function($,_e){$=$||{};for(var et in $)C($,et)&&(_e[et]=$[et])},Ya=function($){return function(){x.setTimeout($,0)}},E=function($,_e){if(!$)throw Error(_e||"")},F=A(x,"gapi",{}),H=function($,_e,et){var tt=new RegExp("([#].*&|[#])"+_e+"=([^&#]*)","g");if(_e=new RegExp("([?#].*&|[?#])"+_e+"=([^&#]*)","g"),$=$&&(tt.exec($)||_e.exec($)))try{et=decodeURIComponent($[2])}catch{}return et},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function($){$=String($),$=$.replace($a,function(ct){try{return encodeURIComponent(ct)}catch{return encodeURIComponent(ct.replace(/^[^%]+$/g,""))}}).replace(ab,function(ct){return ct.replace(/%/g,"%25")}).replace(bb,function(ct){return ct.toUpperCase()}),$=$.match(Za)||[];var _e=B(),et=function(ct){return ct.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},tt=!!($[1]||"").match(cb);return _e.A=et(($[1]||"")+($[2]||"")+($[3]||($[2]&&tt?"/":""))),tt=function(ct){return et(ct.replace(/\?/g,"%3F").replace(/#/g,"%23"))},_e.query=$[5]?[tt($[5])]:[],_e.g=$[7]?[tt($[7])]:[],_e},db=function($){return $.A+(0<$.query.length?"?"+$.query.join("&"):"")+(0<$.g.length?"#"+$.g.join("&"):"")},eb=function($,_e){var et=[];if($){for(var tt in $)if(C($,tt)&&$[tt]!=null){var ct=_e?_e($[tt]):$[tt];et.push(encodeURIComponent(tt)+"="+encodeURIComponent(ct))}}return et},fb=function($,_e,et,tt){return $=I($),$.query.push.apply($.query,eb(_e,tt)),$.g.push.apply($.g,eb(et,tt)),db($)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function($,_e){var et=I(_e);_e=et.A,et.query.length&&(_e+="?"+et.query.join("")),et.g.length&&(_e+="#"+et.g.join(""));var tt="";2e3<_e.length&&(tt=_e,_e=_e.substr(0,2e3),_e=_e.replace(gb,""),tt=tt.substr(_e.length));var ct=$.createElement("div");if($=$.createElement("a"),et=I(_e),_e=et.A,et.query.length&&(_e+="?"+et.query.join("")),et.g.length&&(_e+="#"+et.g.join("")),_e=new v(_e,Ca),xa($,"HTMLAnchorElement"),_e=_e instanceof v?_e:Fa(_e),$.href=Da(_e),ct.appendChild($),_e=ct.innerHTML,et=new t(za,"Assignment to self."),va(Ba(et),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(et)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),_e=(et=ya)?et.createHTML(_e):_e,_e=new w(_e,null,Ga),ct.tagName&&Ja[ct.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+ct.tagName+".");if(Ka())for(;ct.lastChild;)ct.removeChild(ct.lastChild);return ct.innerHTML=Ha(_e),_e=String(ct.firstChild.href),ct.parentNode&&ct.parentNode.removeChild(ct),et=I(_e+tt),tt=et.A,et.query.length&&(tt+="?"+et.query.join("")),et.g.length&&(tt+="#"+et.g.join("")),tt},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function($,_e,et,tt){x[et+"EventListener"]?x[et+"EventListener"]($,_e,!1):x[tt+"tachEvent"]&&x[tt+"tachEvent"]("on"+$,_e)},kb=function(){var $=z.readyState;return $==="complete"||$==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function($){var _e=lb;if(!kb())try{_e()}catch{}mb($)},mb=function($){if(kb())$();else{var _e=!1,et=function(){if(!_e)return _e=!0,$.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",et,!1),x.addEventListener("DOMContentLoaded",et,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&et.apply(this,arguments)}),x.attachEvent("onload",et))}},ob=function($){for(;$.firstChild;)$.removeChild($.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function($){return K.dpo?K.h:H($,"jsh",K.h)},rb=function($){var _e=A(K,"sws",[]);_e.push.apply(_e,$)},sb=function($){return A(K,"watt",B())[$]},tb=function($){var _e=A(K,"PQ",[]);K.PQ=[];var et=_e.length;if(et===0)$();else for(var tt=0,ct=function(){++tt===et&&$()},pt=0;pt<et;pt++)_e[pt](ct)},ub=function($){return A(A(K,"H",B()),$,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function($,_e,et){var tt=vb.r;typeof tt=="function"?tt($,_e,et):tt.push([$,_e,et])},L=function($,_e,et){wb[$]=!_e&&wb[$]||et||new Date().getTime(),yb($)},Ab=function($,_e,et){_e&&0<_e.length&&(_e=zb(_e),et&&0<et.length&&(_e+="___"+zb(et)),28<_e.length&&(_e=_e.substr(0,28)+(_e.length-28)),et=_e,_e=A(xb,"_p",B()),A(_e,et,B())[$]=new Date().getTime(),yb($,"_p",et))},zb=function($){return $.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function($){throw Error("Bad hint"+($?": "+$:""))};N.push(["jsl",function($){for(var _e in $)if(C($,_e)){var et=$[_e];typeof et=="object"?K[_e]=A(K,_e,[]).concat(et):A(K,_e,et)}(_e=$.u)&&($=A(K,"us",[]),$.push(_e),(_e=/^https:(.*)$/.exec(_e))&&$.push("http:"+_e[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function($,_e,et,tt){var ct=$.split(";"),pt=ct.shift(),vt=Bb[pt],ut=null;return vt?ut=vt(ct,_e,et,tt):O("no hint processor for: "+pt),ut||O("failed to generate load url"),_e=ut,et=_e.match(Hb),(tt=_e.match(Ib))&&tt.length===1&&Jb.test(_e)&&et&&et.length===1||O("failed sanity: "+$),ut},Nb=function($,_e,et,tt){$=Lb($),Fb.test(et)||O("invalid_callback"),_e=Mb(_e),tt=tt&&tt.length?Mb(tt):null;var ct=function(pt){return encodeURIComponent(pt).replace(/%2C/g,",")};return[encodeURIComponent($.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",ct($.version),"/m=",ct(_e),tt?"/exm="+ct(tt):"","/rt=j/sv=1/d=1/ed=1",$.S?"/am="+ct($.S):"",$.Z?"/rs="+ct($.Z):"",$.aa?"/t="+ct($.aa):"","/cb=",ct(et)].join("")},Lb=function($){$.charAt(0)!=="/"&&O("relative path");for(var _e=$.substring(1).split("/"),et=[];_e.length;){if($=_e.shift(),!$.length||$.indexOf(".")==0)O("empty/relative directory");else if(0<$.indexOf("=")){_e.unshift($);break}et.push($)}$={};for(var tt=0,ct=_e.length;tt<ct;++tt){var pt=_e[tt].split("="),vt=decodeURIComponent(pt[0]),ut=decodeURIComponent(pt[1]);pt.length==2&&vt&&ut&&($[vt]=$[vt]||ut)}for(_e="/"+et.join("/"),Cb.test(_e)||O("invalid_prefix"),et=0,tt=Db.length;et<tt;++et)Db[et].test(_e)&&O("invalid_prefix");return et=Ob($,"k",!0),tt=Ob($,"am"),ct=Ob($,"rs"),$=Ob($,"t"),{pathPrefix:_e,version:et,S:tt,Z:ct,aa:$}},Mb=function($){for(var _e=[],et=0,tt=$.length;et<tt;++et){var ct=$[et].replace(/\./g,"_").replace(/-/g,"_");Gb.test(ct)&&_e.push(ct)}return _e.join(",")},Ob=function($,_e,et){if($=$[_e],!$&&et&&O("missing: "+_e),$){if(Eb.test($))return $;O("invalid: "+_e)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var $=qb(La.href);if(!$)throw Error("Bad hint");return $};Bb.m=function($,_e,et,tt){return($=$[0])||O("missing_hint"),"https://apis.google.com"+Nb($,_e,et,tt)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function($,_e){for(var et=[],tt=0;tt<$.length;++tt){var ct=$[tt];ct&&0>Oa.call(_e,ct)&&et.push(ct)}return et},Tb=function(){var $=K.nonce;return $!==void 0?$&&$===String($)&&$.match(Rb)?$:K.nonce=null:z.querySelector&&($=z.querySelector("script[nonce]"))?($=$.nonce||$.getAttribute("nonce")||"",$&&$===String($)&&$.match(Rb)?K.nonce=$:K.nonce=null):null},Wb=function($){if(z.readyState!="loading")Ub($);else{var _e=Tb(),et="";_e!==null&&(et=' nonce="'+_e+'"'),$="<"+Qb+' src="'+encodeURI($)+'"'+et+"></"+Qb+">",z.write(Vb?Vb.createHTML($):$)}},Ub=function($){var _e=z.createElement(Qb);_e.setAttribute("src",Vb?Vb.createScriptURL($):$),$=Tb(),$!==null&&_e.setAttribute("nonce",$),_e.async="true",($=z.getElementsByTagName(Qb)[0])?$.parentNode.insertBefore(_e,$):(z.head||z.body||z.documentElement).appendChild(_e)},Xb=function($,_e){var et=_e&&_e._c;if(et)for(var tt=0;tt<N.length;tt++){var ct=N[tt][0],pt=N[tt][1];pt&&C(et,ct)&&pt(et[ct],$,_e)}},Zb=function($,_e,et){Yb(function(){var tt=_e===qb(La.href)?A(F,"_",B()):B();tt=A(ub(_e),"_",tt),$(tt)},et)},ac=function($,_e){var et=_e||{};typeof _e=="function"&&(et={},et.callback=_e),Xb($,et),_e=$?$.split(":"):[];var tt=et.h||Pb(),ct=A(K,"ah",B());if(ct["::"]&&_e.length){$=[];for(var pt=null;pt=_e.shift();){var vt=pt.split(".");vt=ct[pt]||ct[vt[1]&&"ns:"+vt[0]||""]||tt;var ut=$.length&&$[$.length-1]||null,nt=ut;ut&&ut.hint==vt||(nt={hint:vt,V:[]},$.push(nt)),nt.V.push(pt)}var lt=$.length;if(1<lt){var ft=et.callback;ft&&(et.callback=function(){--lt==0&&ft()})}for(;_e=$.shift();)$b(_e.V,et,_e.hint)}else $b(_e||[],et,tt)},$b=function($,_e,et){$=Pa($)||[];var tt=_e.callback,ct=_e.config,pt=_e.timeout,vt=_e.ontimeout,ut=_e.onerror,nt=void 0;typeof ut=="function"&&(nt=ut);var lt=null,ft=!1;if(pt&&!vt||!pt&&vt)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";ut=A(ub(et),"r",[]).sort();var it=A(ub(et),"L",[]).sort(),ot=[].concat(ut),rt=function(gt,mt){if(ft)return 0;x.clearTimeout(lt),it.push.apply(it,st);var yt=((F||{}).config||{}).update;if(yt?yt(ct):ct&&A(K,"cu",[]).push(ct),mt){Ab("me0",gt,ot);try{Zb(mt,et,nt)}finally{Ab("me1",gt,ot)}}return 1};0<pt&&(lt=x.setTimeout(function(){ft=!0,vt()},pt));var st=Sb($,it);if(st.length){st=Sb($,ut);var ht=A(K,"CP",[]),at=ht.length;if(ht[at]=function(gt){if(!gt)return 0;Ab("ml1",st,ot);var mt=function(_t){ht[at]=null,rt(st,gt)&&tb(function(){tt&&tt(),_t()})},yt=function(){var _t=ht[at+1];_t&&_t()};0<at&&ht[at-1]?ht[at]=function(){mt(yt)}:mt(yt)},st.length){var dt="loaded_"+K.I++;F[dt]=function(gt){ht[at](gt),F[dt]=null},$=Kb(et,st,"gapi."+dt,ut),ut.push.apply(ut,st),Ab("ml0",st,ot),_e.sync||x.___gapisync?Wb($):Ub($)}else ht[at](Ma)}else rt(st)&&tt&&tt()},Vb=qa("gapi#gapi"),Yb=function($,_e){if(K.hee&&0<K.hel)try{return $()}catch(et){_e&&_e(et),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(et)}catch{throw et}})}else try{return $()}catch(et){throw _e&&_e(et),et}};F.load=function($,_e){return Yb(function(){return ac($,_e)})};var bc=function($){var _e=window.___jsl=window.___jsl||{};return _e[$]=_e[$]||[],_e[$]},cc=function($){var _e=window.___jsl=window.___jsl||{};return _e.cfg=!$&&_e.cfg||{},_e.cfg},dc=function($){return typeof $=="object"&&/\[native code\]/.test($.push)},P=function($,_e,et){if(_e&&typeof _e=="object")for(var tt in _e)!Object.prototype.hasOwnProperty.call(_e,tt)||et&&tt==="___goc"&&typeof _e[tt]>"u"||($[tt]&&_e[tt]&&typeof $[tt]=="object"&&typeof _e[tt]=="object"&&!dc($[tt])&&!dc(_e[tt])?P($[tt],_e[tt]):_e[tt]&&typeof _e[tt]=="object"?($[tt]=dc(_e[tt])?[]:{},P($[tt],_e[tt])):$[tt]=_e[tt])},ec=function($){if($&&!/^\s+$/.test($)){for(;$.charCodeAt($.length-1)==0;)$=$.substring(0,$.length-1);try{var _e=window.JSON.parse($)}catch{}if(typeof _e=="object")return _e;try{_e=new Function("return ("+$+`
)`)()}catch{}if(typeof _e=="object")return _e;try{_e=new Function("return ({"+$+`
})`)()}catch{}return typeof _e=="object"?_e:{}}},fc=function($,_e){var et={___goc:void 0};$.length&&$[$.length-1]&&Object.hasOwnProperty.call($[$.length-1],"___goc")&&typeof $[$.length-1].___goc>"u"&&(et=$.pop()),P(et,_e),$.push(et)},gc=function($){cc(!0);var _e=window.___gcfg,et=bc("cu"),tt=window.___gu;_e&&_e!==tt&&(fc(et,_e),window.___gu=_e),_e=bc("cu");var ct=document.scripts||document.getElementsByTagName("script")||[];tt=[];var pt=[];pt.push.apply(pt,bc("us"));for(var vt=0;vt<ct.length;++vt)for(var ut=ct[vt],nt=0;nt<pt.length;++nt)ut.src&&ut.src.indexOf(pt[nt])==0&&tt.push(ut);for(tt.length==0&&0<ct.length&&ct[ct.length-1].src&&tt.push(ct[ct.length-1]),ct=0;ct<tt.length;++ct)tt[ct].getAttribute("gapi_processed")||(tt[ct].setAttribute("gapi_processed",!0),(pt=tt[ct])?(vt=pt.nodeType,pt=vt==3||vt==4?pt.nodeValue:pt.textContent||pt.innerText||pt.innerHTML||""):pt=void 0,(pt=ec(pt))&&_e.push(pt));for($&&fc(et,$),tt=bc("cd"),$=0,_e=tt.length;$<_e;++$)P(cc(),tt[$],!0);for(tt=bc("ci"),$=0,_e=tt.length;$<_e;++$)P(cc(),tt[$],!0);for($=0,_e=et.length;$<_e;++$)P(cc(),et[$],!0)},Q=function($){var _e=cc();if(!$)return _e;$=$.split("/");for(var et=0,tt=$.length;_e&&typeof _e=="object"&&et<tt;++et)_e=_e[$[et]];return et===$.length&&_e!==void 0?_e:void 0},hc=function($,_e){var et;if(typeof $=="string"){var tt=et={};$=$.split("/");for(var ct=0,pt=$.length;ct<pt-1;++ct){var vt={};tt=tt[$[ct]]=vt}tt[$[ct]]=_e}else et=$;gc(et)},ic=function(){var $=window.__GOOGLEAPIS;$&&($.googleapis&&!$["googleapis.config"]&&($["googleapis.config"]=$.googleapis),A(K,"ci",[]).push($),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var $=document.getElementsByTagName("meta"),_e=0;_e<$.length;++_e){var et=$[_e].name.toLowerCase();if(et.lastIndexOf("google-signin-",0)==0){et=et.substring(14);var tt=$[_e].content;jc[et]&&tt&&(lc[et]=tt)}}if(window.self!==window.top){$=document.location.toString();for(var ct in jc)0<jc[ct]&&(_e=H($,ct,""))&&(lc[ct]=_e)}kc=!0}return ct=B(),D(lc,ct),ct},nc=function($){return!!($.clientid&&$.scope&&$.callback)},oc=window.console,pc=function($){oc&&oc.log&&oc.log($)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function($){for(var _e in R)$(R[_e])},tc=function($,_e){($=R[$])&&$.state<_e&&($.state=_e)},vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function($){var _e=Q("googleapis.config/sessionIndex");if(typeof _e=="string"&&254<_e.length&&(_e=null),_e==null&&(_e=window.__X_GOOG_AUTHUSER),typeof _e=="string"&&254<_e.length&&(_e=null),_e==null){var et=window.google;et&&(_e=et.authuser)}return typeof _e=="string"&&254<_e.length&&(_e=null),_e==null&&($=$||window.location.href,_e=H($,"authuser")||null,_e==null&&(_e=(_e=$.match(vc))?_e[1]:null)),_e==null?null:(_e=String(_e),254<_e.length&&(_e=null),_e)},yc=function($){var _e=Q("googleapis.config/sessionDelegate");return typeof _e=="string"&&21<_e.length&&(_e=null),_e==null&&(_e=($=($||window.location.href).match(wc))?$[1]:null),_e==null?null:(_e=String(_e),21<_e.length&&(_e=null),_e)},zc,S,T=void 0,U=function($){try{return m.JSON.parse.call(m.JSON,$)}catch{return!1}},V=function($){return Object.prototype.toString.call($)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function($,_e){if(_e){for(var et=0,tt=_e.length;et<tt;++et)if($===_e[et])throw new TypeError("Converting circular structure to JSON")}if(tt=typeof $,tt!=="undefined"){et=Array.prototype.slice.call(_e||[],0),et[et.length]=$,_e=[];var ct=V($);if($!=null&&typeof $.toJSON=="function"&&(Object.prototype.hasOwnProperty.call($,"toJSON")||(ct!==Fc||$.constructor!==Array&&$.constructor!==Object)&&(ct!==Ec||$.constructor!==Array&&$.constructor!==Object)&&ct!==Dc&&ct!==Ac&&ct!==Cc&&ct!==Bc))return W($.toJSON.call($),et);if($==null)_e[_e.length]="null";else if(ct===Ac)$=Number($),isNaN($)||isNaN($-$)?$="null":$===-0&&0>1/$&&($="-0"),_e[_e.length]=String($);else if(ct===Cc)_e[_e.length]=String(!!Number($));else{if(ct===Bc)return W($.toISOString.call($),et);if(ct===Fc&&V($.length)===Ac){_e[_e.length]="[";var pt=0;for(tt=Number($.length)>>0;pt<tt;++pt)pt&&(_e[_e.length]=","),_e[_e.length]=W($[pt],et)||"null";_e[_e.length]="]"}else if(ct==Dc&&V($.length)===Ac){for(_e[_e.length]='"',pt=0,et=Number($.length)>>0;pt<et;++pt)tt=String.prototype.charAt.call($,pt),ct=String.prototype.charCodeAt.call($,pt),_e[_e.length]=tt==="\b"?"\\b":tt==="\f"?"\\f":tt===`
`?"\\n":tt==="\r"?"\\r":tt==="	"?"\\t":tt==="\\"||tt==='"'?"\\"+tt:31>=ct?"\\u"+(ct+65536).toString(16).substr(1):32<=ct&&65535>=ct?tt:"";_e[_e.length]='"'}else if(tt==="object"){_e[_e.length]="{",tt=0;for(pt in $)Object.prototype.hasOwnProperty.call($,pt)&&(ct=W($[pt],et),ct!==void 0&&(tt++&&(_e[_e.length]=","),_e[_e.length]=W(pt),_e[_e.length]=":",_e[_e.length]=ct));_e[_e.length]="}"}else return}return _e.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch($){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var $=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==$)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=$}}},Zc=function($){return S===-1?!1:(Yc(),(zc?U:Xc)($))},$c=function($){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,$):W($)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var $=Date.prototype.getUTCFullYear.call(this);return[0>$?"-"+String(1e6-$).substr(1):9999>=$?String(1e4+$).substr(1):"+"+String(1e6+$).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var $=1;$<this.j;++$)this.C[$]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function($,_e,et){et||(et=0);var tt=$.da;if(typeof _e=="string")for(var ct=0;16>ct;ct++)tt[ct]=_e.charCodeAt(et)<<24|_e.charCodeAt(et+1)<<16|_e.charCodeAt(et+2)<<8|_e.charCodeAt(et+3),et+=4;else for(ct=0;16>ct;ct++)tt[ct]=_e[et]<<24|_e[et+1]<<16|_e[et+2]<<8|_e[et+3],et+=4;for(ct=16;80>ct;ct++){var pt=tt[ct-3]^tt[ct-8]^tt[ct-14]^tt[ct-16];tt[ct]=(pt<<1|pt>>>31)&4294967295}_e=$.b[0],et=$.b[1];var vt=$.b[2],ut=$.b[3],nt=$.b[4];for(ct=0;80>ct;ct++){if(40>ct)if(20>ct){pt=ut^et&(vt^ut);var lt=1518500249}else pt=et^vt^ut,lt=1859775393;else 60>ct?(pt=et&vt|ut&(et|vt),lt=2400959708):(pt=et^vt^ut,lt=3395469782);pt=(_e<<5|_e>>>27)+pt+nt+lt+tt[ct]&4294967295,nt=ut,ut=vt,vt=(et<<30|et>>>2)&4294967295,et=_e,_e=pt}$.b[0]=$.b[0]+_e&4294967295,$.b[1]=$.b[1]+et&4294967295,$.b[2]=$.b[2]+vt&4294967295,$.b[3]=$.b[3]+ut&4294967295,$.b[4]=$.b[4]+nt&4294967295};dd.prototype.update=function($,_e){if($!=null){_e===void 0&&(_e=$.length);for(var et=_e-this.j,tt=0,ct=this.G,pt=this.o;tt<_e;){if(pt==0)for(;tt<=et;)ed(this,$,tt),tt+=this.j;if(typeof $=="string"){for(;tt<_e;)if(ct[pt]=$.charCodeAt(tt),++pt,++tt,pt==this.j){ed(this,ct),pt=0;break}}else for(;tt<_e;)if(ct[pt]=$[tt],++pt,++tt,pt==this.j){ed(this,ct),pt=0;break}}this.o=pt,this.D+=_e}},dd.prototype.digest=function(){var $=[],_e=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var et=this.j-1;56<=et;et--)this.G[et]=_e&255,_e/=256;for(ed(this,this.G),et=_e=0;5>et;et++)for(var tt=24;0<=tt;tt-=8)$[_e]=this.b[et]>>tt&255,++_e;return $};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function($){$=$||x.event;var _e=$.screenX+$.clientX<<16;_e+=$.screenY+$.clientY,_e*=new Date().getTime()%1e6,kd=kd*_e%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function($){var _e=new fd;$=unescape(encodeURIComponent($));for(var et=[],tt=0,ct=$.length;tt<ct;++tt)et.push($.charCodeAt(tt));for(_e.O.update(et),_e=_e.O.digest(),$="",et=0;et<_e.length;et++)$+="0123456789ABCDEF".charAt(Math.floor(_e[et]/16))+"0123456789ABCDEF".charAt(_e[et]%16);return $};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var $=kd;return $+=parseInt(md.substr(0,20),16),md=od(md),$/(ld+Math.pow(16,20))},qd=function(){var $=new x.Uint32Array(1);return gd.getRandomValues($),Number("0."+$[0])},rd=function(){var $=K.onl;if(!$){$=B(),K.onl=$;var _e=B();$.e=function(et){var tt=_e[et];tt&&(delete _e[et],tt())},$.a=function(et,tt){_e[et]=tt},$.r=function(et){delete _e[et]}}return $},sd=function($,_e){return _e=_e.onload,typeof _e=="function"?(rd().a($,_e),_e):null},td=function($){return E(/^\w+$/.test($),"Unsupported id - "+$),rd(),'onload="window.___jsl.onl.e(&#34;'+$+'&#34;)"'},ud=function($){rd().r($)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function($){E(!$||ib.test($),"Illegal url for new iframe - "+$)},zd=function($,_e,et,tt,ct){yd(et.src);var pt,vt=sd(tt,et),ut=vt?td(tt):"";try{document.all&&(pt=$.createElement('<iframe frameborder="'+Wa(String(et.frameborder))+'" scrolling="'+Wa(String(et.scrolling))+'" '+ut+' name="'+Wa(String(et.name))+'"/>'))}catch{}finally{pt||(pt=$.createElement("iframe"),vt&&(pt.onload=function(){pt.onload=null,vt.call(this)},ud(tt)))}pt.setAttribute("ng-non-bindable","");for(var nt in et)$=et[nt],nt==="style"&&typeof $=="object"?D($,pt.style):wd[nt]||pt.setAttribute(nt,String($));return(nt=ct&&ct.beforeNode||null)||ct&&ct.dontclear||ob(_e),_e.insertBefore(pt,nt),pt=nt?nt.previousSibling:_e.lastChild,et.allowtransparency&&(pt.allowTransparency=!0),pt},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var $=xc()||"0",_e=yc(),et=xc(void 0)||$,tt=yc(void 0),ct="";et&&(ct+="u/"+encodeURIComponent(String(et))+"/"),tt&&(ct+="b/"+encodeURIComponent(String(tt))+"/"),et=ct||null,(ct=(tt=Q("isLoggedIn")===!1)?"_/im/":"")&&(et="");var pt=Q("iframes/:socialhost:"),vt=Q("iframes/:im_socialhost:");return{socialhost:pt,ctx_socialhost:tt?vt:pt,session_index:$,session_delegate:_e,session_prefix:et,im_prefix:ct}},Dd=function($,_e){return Cd()[_e]||""},Ed=function($){return function(_e,et){return $?Cd()[et]||$[et]||"":Cd()[et]||""}},Fd=function($){var _e;return $.match(/^https?%3A/i)&&(_e=decodeURIComponent($)),hb(document,_e||$)},Gd=function($){$=$||"canonical";for(var _e=document.getElementsByTagName("link"),et=0,tt=_e.length;et<tt;et++){var ct=_e[et],pt=ct.getAttribute("rel");if(pt&&pt.toLowerCase()==$&&(ct=ct.getAttribute("href"))&&(ct=Fd(ct))&&ct.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return ct}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function($,_e,et){var tt,ct={},pt=tt=$;$=="plus"&&_e.action&&(tt=$+"_"+_e.action,pt=$+"/"+_e.action),(tt=Q("iframes/"+tt+"/url"))||(tt=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+pt+"?usegapi=1");for(var vt in Hd)ct[vt]=vt+"/"+(_e[vt]||Hd[vt])+"/";if(ct=hb(z,tt.replace(Bd,Ed(ct))),vt="iframes/"+$+"/params/",pt={},D(_e,pt),(tt=Q("lang")||Q("gwidget/lang"))&&(pt.hl=tt),Id[$]||(pt.origin=window.location.origin||window.location.protocol+"//"+window.location.host),pt.exp=Q(vt+"exp"),vt=Q(vt+"location"))for(tt=0;tt<vt.length;tt++){var ut=vt[tt];pt[ut]=x.location[ut]}switch($){case"plus":case"follow":vt=pt.href,tt=_e.action?void 0:"publisher",vt=(vt=typeof vt=="string"?vt:void 0)?Fd(vt):Gd(tt),pt.url=vt,delete pt.href;break;case"plusone":vt=(vt=_e.href)?Fd(vt):Gd(),pt.url=vt,vt=_e.db,tt=Q(),vt==null&&tt&&(vt=tt.db,vt==null&&(vt=tt.gwidget&&tt.gwidget.db)),pt.db=vt||void 0,vt=_e.ecp,tt=Q(),vt==null&&tt&&(vt=tt.ecp,vt==null&&(vt=tt.gwidget&&tt.gwidget.ecp)),pt.ecp=vt||void 0,delete pt.href;break;case"signin":pt.url=Gd()}K.ILI&&(pt.iloader="1"),delete pt["data-onload"],delete pt.rd;for(var nt in Hd)pt[nt]&&delete pt[nt];pt.gsrc=Q("iframes/:source:"),nt=Q("inline/css"),typeof nt<"u"&&0<et&&nt>=et&&(pt.ic="1"),nt=/^#|^fr-/,et={};for(var lt in pt)C(pt,lt)&&nt.test(lt)&&(et[lt.replace(nt,"")]=pt[lt],delete pt[lt]);lt=Q("iframes/"+$+"/params/si")=="q"?pt:et,nt=mc();for(var ft in nt)!C(nt,ft)||C(pt,ft)||C(et,ft)||(lt[ft]=nt[ft]);ft=[].concat(Kd),(lt=Q("iframes/"+$+"/methods"))&&typeof lt=="object"&&Na.test(lt.push)&&(ft=ft.concat(lt));for(var it in _e)C(_e,it)&&/^on/.test(it)&&($!="plus"||it!="onconnect")&&(ft.push(it),delete pt[it]);return delete pt.callback,et._methods=ft.join(","),fb(ct,pt,et)},Nd=["style","data-gapiscan"],Pd=function($){for(var _e=B(),et=$.nodeName.toLowerCase().indexOf("g:")!=0,tt=0,ct=$.attributes.length;tt<ct;tt++){var pt=$.attributes[tt],vt=pt.name,ut=pt.value;0<=Oa.call(Nd,vt)||et&&vt.indexOf("data-")!=0||ut==="null"||"specified"in pt&&!pt.specified||(et&&(vt=vt.substr(5)),_e[vt.toLowerCase()]=ut)}return $=$.style,(et=Od($&&$.height))&&(_e.height=String(et)),($=Od($&&$.width))&&(_e.width=String($)),_e},Od=function($){var _e=void 0;return typeof $=="number"?_e=$:typeof $=="string"&&(_e=parseInt($,10)),_e},Rd=function(){var $=K.drw;sc(function(_e){if($!==_e.id&&_e.state!=4&&_e.type!="share"){var et=_e.id,tt=_e.type,ct=_e.url;_e=_e.userParams;var pt=z.getElementById(et);if(pt){var vt=Md(tt,_e,0);vt?(pt=pt.parentNode,ct.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==vt.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(_e.dontclear=!0,_e.rd=!0,_e.ri=!0,_e.type=tt,Qd(pt,_e),(tt=R[pt.lastChild.id])&&(tt.oid=et),tc(et,4))):delete R[et]}else delete R[et]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function($,_e){Yd(void 0,!1,$,_e)},Yd=function($,_e,et,tt){L("ps0",!0),et=(typeof et=="string"?document.getElementById(et):et)||z;var ct=z.documentMode;if(et.querySelectorAll&&(!ct||8<ct)){ct=tt?[tt]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var pt=[],vt=0;vt<ct.length;vt++){var ut=ct[vt];pt.push(".g-"+ut,"g\\:"+ut)}ct=et.querySelectorAll(pt.join(","))}else ct=et.getElementsByTagName("*");for(et=B(),pt=0;pt<ct.length;pt++){vt=ct[pt];var nt=vt;ut=tt;var lt=nt.nodeName.toLowerCase(),ft=void 0;if(nt.getAttribute("data-gapiscan"))ut=null;else{var it=lt.indexOf("g:");it==0?ft=lt.substr(2):(it=(it=String(nt.className||nt.getAttribute("class")))&&Wd.exec(it))&&(ft=it[1]),ut=!ft||!(Sd[ft]||Td[ft]||X[ft])||ut&&ft!==ut?null:ft}ut&&(Xd[ut]||vt.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(vt)).length!=0)&&(vt.setAttribute("data-gapiscan",!0),A(et,ut,[]).push(vt))}if(_e)for(var ot in et)for(_e=et[ot],tt=0;tt<_e.length;tt++)_e[tt].setAttribute("data-onload",!0);for(var rt in et)Ud.push(rt);if(L("ps1",!0),(ot=Ud.join(":"))||$)try{F.load(ot,$)}catch(ht){pc(ht);return}if($d(Vd||{}))for(var st in et){for($=et[st],rt=0,_e=$.length;rt<_e;rt++)$[rt].removeAttribute("data-gapiscan");ae(st)}else{tt=[];for(st in et)for($=et[st],rt=0,_e=$.length;rt<_e;rt++)ct=$[rt],be(st,ct,Pd(ct),tt,_e);ce(ot,tt)}},de=function($){var _e=A(F,$,{});_e.go||(_e.go=function(et){return Zd(et,$)},_e.render=function(et,tt){return tt=tt||{},tt.type=$,Qd(et,tt)})},ee=function($){Sd[$]=!0},fe=function($){Td[$]=!0},ge=function($){X[$]=!0},ae=function($,_e){var et=sb($);_e&&et?(et(_e),(et=_e.iframeNode)&&et.setAttribute("data-gapiattached",!0)):F.load($,function(){var tt=sb($),ct=_e&&_e.iframeNode,pt=_e&&_e.userParams;ct&&tt?(tt(_e),ct.setAttribute("data-gapiattached",!0)):(tt=F[$].go,$=="signin2"?tt(ct,pt):tt(ct&&ct.parentNode,pt))})},$d=function(){return!1},ce=function(){},be=function($,_e,et,tt,ct,pt,vt){switch(he(_e,$,pt)){case 0:$=X[$]?$+"_annotation":$,tt={},tt.iframeNode=_e,tt.userParams=et,ae($,tt);break;case 1:if(_e.parentNode){for(var ut in et)if((pt=C(et,ut))&&(pt=et[ut],pt=!!pt&&typeof pt=="object"&&(!pt.toString||pt.toString===Object.prototype.toString||pt.toString===Array.prototype.toString)),pt)try{et[ut]=$c(et[ut])}catch{delete et[ut]}if(pt=!0,et.dontclear&&(pt=!1),delete et.dontclear,rc(),ut=Md($,et,ct),ct=vt||{},ct.allowPost=1,ct.attributes=Jd,ct.dontclear=!pt,vt={},vt.userParams=et,vt.url=ut,vt.type=$,et.rd)var nt=_e;else nt=document.createElement("div"),_e.setAttribute("data-gapistub",!0),nt.style.cssText="position:absolute;width:450px;left:-10000px;",_e.parentNode.insertBefore(nt,_e);vt.siteElement=nt,nt.id||(_e=nt,A(Ld,$,0),pt="___"+$+"_"+Ld[$]++,_e.id=pt),_e=B(),_e[">type"]=$,D(et,_e),pt=ut,et=nt,ut=ct||{},_e=ut.attributes||{},E(!(ut.allowPost||ut.forcePost)||!_e.onload,"onload is not supported by post iframe (allowPost or forcePost)"),ct=_e=pt,Ad.test(_e)&&(ct=Q("iframes/"+ct.substring(1)+"/url"),E(!!ct,"Unknown iframe url config for - "+_e)),pt=hb(z,ct.replace(Bd,Dd)),_e=et.ownerDocument||z,nt=0;do ct=ut.id||["I",xd++,"_",new Date().getTime()].join("");while(_e.getElementById(ct)&&5>++nt);E(5>nt,"Error creating iframe id"),nt={};var lt={};_e.documentMode&&9>_e.documentMode&&(nt.hostiemode=_e.documentMode),D(ut.queryParams||{},nt),D(ut.fragmentParams||{},lt);var ft=ut.pfname,it=B();Q("iframes/dropLegacyIdParam")||(it.id=ct),it._gfid=ct,it.parent=_e.location.protocol+"//"+_e.location.host;var ot=H(_e.location.href,"parent");if(ft=ft||"",!ft&&ot&&(ot=H(_e.location.href,"_gfid","")||H(_e.location.href,"id",""),ft=H(_e.location.href,"pfname",""),ft=ot?ft+"/"+ot:""),ft||(ot=Zc(H(_e.location.href,"jcp","")))&&typeof ot=="object"&&(ft=(ft=ot.id)?ot.pfname+"/"+ft:""),it.pfname=ft,ut.connectWithJsonParam&&(ot={},ot.jcp=$c(it),it=ot),ot=H(pt,"rpctoken")||nt.rpctoken||lt.rpctoken,ot||(ot=ut.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),it.rpctoken=ot),ut.rpctoken=ot,D(it,ut.connectWithQueryParams?nt:lt),ot=_e.location.href,it=B(),(ft=H(ot,"_bsh",K.bsh))&&(it._bsh=ft),(ot=qb(ot))&&(it.jsh=ot),ut.hintInFragment?D(it,lt):D(it,nt),pt=fb(pt,nt,lt,ut.paramsSerializer),lt=B(),D(vd,lt),D(ut.attributes,lt),lt.name=lt.id=ct,lt.src=pt,ut.eurl=pt,nt=ut||{},it=!!nt.allowPost,nt.forcePost||it&&2e3<pt.length){if(nt=I(pt),lt.src="",ut.dropDataPostorigin||(lt["data-postorigin"]=pt),pt=zd(_e,et,lt,ct),navigator.userAgent.indexOf("WebKit")!=-1){var rt=pt.contentWindow.document;rt.open(),lt=rt.createElement("div"),it={},ot=ct+"_inner",it.name=ot,it.src="",it.style="display:none",zd(_e,lt,it,ot,ut)}for(lt=(ut=nt.query[0])?ut.split("&"):[],ut=[],it=0;it<lt.length;it++)ot=lt[it].split("=",2),ut.push([decodeURIComponent(ot[0]),decodeURIComponent(ot[1])]);for(nt.query=[],lt=db(nt),E(ib.test(lt),"Invalid URL: "+lt),nt=_e.createElement("form"),nt.method="POST",nt.target=ct,nt.style.display="none",ct=lt instanceof v?lt:Fa(lt),xa(nt,"HTMLFormElement").action=Da(ct),ct=0;ct<ut.length;ct++)lt=_e.createElement("input"),lt.type="hidden",lt.name=ut[ct][0],lt.value=ut[ct][1],nt.appendChild(lt);et.appendChild(nt),nt.submit(),nt.parentNode.removeChild(nt),rt&&rt.close(),rt=pt}else rt=zd(_e,et,lt,ct,ut);vt.iframeNode=rt,vt.id=rt.getAttribute("id"),rt=vt.id,et=B(),et.id=rt,et.userParams=vt.userParams,et.url=vt.url,et.type=vt.type,et.state=1,R[rt]=et,rt=vt}else rt=null;rt&&((vt=rt.id)&&tt.push(vt),ae($,rt))}},he=function($,_e,et){if($&&$.nodeType===1&&_e){if(et)return 1;if(X[_e]){if(pb[$.nodeName.toLowerCase()])return($=$.innerHTML)&&$.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[_e])return 0;if(Sd[_e])return 1}}return null},Qd=function($,_e){var et=_e.type;delete _e.type;var tt=(typeof $=="string"?document.getElementById($):$)||void 0;if(tt){$={};for(var ct in _e)C(_e,ct)&&($[ct.toLowerCase()]=_e[ct]);$.rd=1,(_e=!!$.ri)&&delete $.ri,ct=[],be(et,tt,$,ct,0,_e,void 0),ce(et,ct)}else pc("gapi."+et+".render: missing element "+typeof $=="string"?$:"")};A(F,"platform",{}).go=Zd,$d=function($){for(var _e=["_c","jsl","h"],et=0;et<_e.length&&$;et++)$=$[_e[et]];return _e=qb(La.href),!$||$.indexOf("n;")!=0&&_e.indexOf("n;")!=0&&$!==_e},ce=function($,_e){ie($,_e)};var lb=function($){Yd($,!0)},je=function($,_e){_e=_e||[];for(var et=0;et<_e.length;++et)$(_e[et]);for($=0;$<_e.length;$++)de(_e[$])};N.push(["platform",function($,_e,et){if(Vd=et,_e&&Ud.push(_e),je(ee,$),je(fe,et._c.annotation),je(ge,et._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb($),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),et&&($=et.callback)){var tt=Ya($);delete et.callback}nb(function(){lb(tt)})}}]),F._pl=!0;var ke=function($){if($=($=R[$])?$.oid:void 0,$){var _e=z.getElementById($);_e&&_e.parentNode.removeChild(_e),delete R[$],ke($)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function($,_e){function et(){jb("message",tt,"remove","de")}function tt(pt){var vt=pt.data,ut=pt.origin;if(oe(vt,_e)){var nt=ct;ct=!1,nt&&L("rqe"),pe($,function(){nt&&L("rqd"),et();for(var lt=A(K,"RPMQ",[]),ft=0;ft<lt.length;ft++)lt[ft]({data:vt,origin:ut})})}}if(_e.length!==0){ne=H(La.href,"pfname","");var ct=!0;jb("message",tt,"add","at"),ac($,et)}},oe=function($,_e){if($=String($),le.test($))return!0;var et=!1;if(me.test($)&&(et=!0,$=$.substr(2)),!/^\{/.test($))return!1;var tt=Zc($);if(!tt)return!1;if($=tt.f,tt.s&&$&&Oa.call(_e,$)!=-1){if((tt.s==="_renderstart"||tt.s===ne+"/"+$+"::_renderstart")&&(tt=tt.a&&tt.a[et?0:1],_e=z.getElementById($),tc($,2),tt&&_e&&tt.width&&tt.height)){e:{if(et=_e.parentNode,$=tt||{},qc()){var ct=_e.id;if(ct){if(tt=(tt=R[ct])?tt.state:void 0,tt===1||tt===4)break e;ke(ct)}}(tt=et.nextSibling)&&tt.getAttribute&&tt.getAttribute("data-gapistub")&&(et.parentNode.removeChild(tt),et.style.cssText=""),tt=$.width;var pt=$.height,vt=et.style;vt.textIndent="0",vt.margin="0",vt.padding="0",vt.background="transparent",vt.borderStyle="none",vt.cssFloat="none",vt.styleFloat="none",vt.lineHeight="normal",vt.fontSize="1px",vt.verticalAlign="baseline",et=et.style,et.display="inline-block",vt=_e.style,vt.position="static",vt.left="0",vt.top="0",vt.visibility="visible",tt&&(et.width=vt.width=tt+"px"),pt&&(et.height=vt.height=pt+"px"),$.verticalAlign&&(et.verticalAlign=$.verticalAlign),ct&&tc(ct,3)}_e["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function($,_e){ac($,_e)},qe=function($,_e){this.L=$,$=_e||{},this.fa=Number($.maxAge)||0,this.U=$.domain,this.X=$.path,this.ga=!!$.secure};qe.prototype.read=function(){for(var $=this.L+"=",_e=document.cookie.split(/;\s*/),et=0;et<_e.length;++et){var tt=_e[et];if(tt.indexOf($)==0)return tt.substr($.length)}},qe.prototype.write=function($,_e){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test($))throw"Invalid cookie value";if($=this.L+"="+$,this.U&&($+=";domain="+this.U),this.X&&($+=";path="+this.X),_e=typeof _e=="number"?_e:this.fa,0<=_e){var et=new Date;et.setSeconds(et.getSeconds()+_e),$+=";expires="+et.toUTCString()}return this.ga&&($+=";secure"),document.cookie=$,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function($){for(var _e=document.cookie.split(/;\s*/),et=0;et<_e.length;++et){var tt=_e[et].split("="),ct=tt.shift();$(ct,tt.join("="))}};var te=function($){this.B=$};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function($){return Y[this.B]=$,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function($){for(var _e in Y)Y.hasOwnProperty(_e)&&$(_e,Y[_e])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function($){var _e=$.substr(1),et="",tt=window.location.hostname;if(_e!==""){if(et=parseInt(_e,10),isNaN(et)||(_e=tt.split("."),_e.length<et-1))return null;_e.length==et-1&&(tt="."+tt)}else tt="";return{i:$.charAt(0)=="S",domain:tt,l:et}},xe=function(){var $,_e=null;return ve.iterate(function(et,tt){et.indexOf("G_AUTHUSER_")===0&&(et=we(et.substring(11)),!$||et.i&&!$.i||et.i==$.i&&et.l>$.l)&&($=et,_e=tt)}),{ea:$,F:_e}},ye=function($){if($.indexOf("GCSC")!==0)return null;var _e={W:!1};if($=$.substr(4),!$)return _e;var et=$.charAt(0);$=$.substr(1);var tt=$.lastIndexOf("_");if(tt==-1)return _e;var ct=we($.substr(tt+1));return ct==null||($=$.substring(0,tt),$.charAt(0)!=="_")?_e:(tt=et==="E"&&ct.i,!tt&&(et!=="U"||ct.i)||tt&&!ue?_e:{W:!0,i:tt,ja:$.substr(1),domain:ct.domain,l:ct.l})},ze=function($){return $?($=$.split("="),$[1]?$[1].split("|"):[]):[]},Ae=function($){return $=$.split(":"),{clientId:$[0].split("=")[1],ia:ze($[1]),la:ze($[2]),ka:ze($[3])}},Be=function(){var $=xe(),_e=$.ea;if($=$.F,$!==null){var et;if(ve.iterate(function(pt,vt){(pt=ye(pt))&&pt.W&&pt.i==_e.i&&pt.l==_e.l&&(et=vt)}),et){var tt=Ae(et),ct=tt&&tt.ia[Number($)];if(tt=tt&&tt.clientId,ct)return{F:$,ha:ct,clientId:tt}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var $=Be();($=$&&$.F)&&hc("googleapis.config/sessionIndex",$),Ee||(Ee=A(K,"ss",new Z)),$=Ee,$.$&&$.$()};var Ce=function(){var $=Be(),_e=$&&$.ha||null,et=$&&$.clientId;return ac("auth",{callback:function(){var tt=x.gapi.auth,ct={client_id:et,session_state:_e};tt.checkSessionState(ct,function(pt){var vt=ct.session_state,ut=Q("isLoggedIn");pt=Q("debug/forceIm")?!1:vt&&pt||!vt&&!pt,(ut=ut!=pt)&&(hc("isLoggedIn",pt),rc(),Rd(),pt||((pt=tt.signOut)?pt():(pt=tt.setToken)&&pt(null))),pt=mc();var nt=Q("savedUserState");vt=tt._guss(pt.cookiepolicy),nt=nt!=vt&&typeof nt<"u",hc("savedUserState",vt),(ut||nt)&&nc(pt)&&!Q("disableRealtimeCallback")&&tt._pimf(pt,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(globalThis);gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});const loadAuth2=async function($,_e,et){return new Promise(tt=>{$.load("auth2",()=>{tt($.auth2.init({client_id:_e,scope:et}))})})},CLIENT_ID$1="10431894352-fabqe9s4hirpe4hiou6464gt646mnf27.apps.googleusercontent.com",SCOPES$1="https://www.googleapis.com/auth/drive.metadata.readonly";let tokenClient;const Index$3=()=>{react.exports.useEffect(()=>{$()},[]);const $=async()=>{await loadAuth2(gapi,CLIENT_ID$1,SCOPES$1)};function _e(){tokenClient.callback=async et=>{if(et.error!==void 0)throw et;document.getElementById("signout_button").style.visibility="visible",document.getElementById("authorize_button").innerText="Refresh",await listFiles()},gapi.client.getToken()===null?tokenClient.requestAccessToken({prompt:"consent"}):tokenClient.requestAccessToken({prompt:""})}return jsx("div",{children:jsx("button",{onClick:()=>_e(),children:"Open Picker"})})},Callback=()=>{const[$,_e]=react.exports.useState("");react.exports.useEffect(()=>{if(window.location.hash){var tt=window.location.hash.substring(1);const ct=tt.split("=")[1].split("&")[0];_e(ct),et(ct)}else console.log("No hash found")},[]);const et=async tt=>{fetch(`http://localhost:8000?access_token=${tt}`).then(ct=>ct.text()).then(ct=>{window.location.href="/"}).catch(ct=>{console.log({error:ct})})};return jsxs("div",{children:[jsx("h1",{children:jsx("b",{children:"Please wait..."})}),jsx("p",{children:"Do not close this page"})]})},user="",UserCard=$=>jsxs("div",{children:[jsx("h2",{children:$.user.name}),jsx("img",{src:$.user.profileImg,alt:"user profile"})]}),GoogleLogin=()=>{const[$,_e]=react.exports.useState(null);react.exports.useEffect(()=>{(async()=>{const vt=await loadAuth2(gapi,"10431894352-fabqe9s4hirpe4hiou6464gt646mnf27.apps.googleusercontent.com","https://www.googleapis.com/auth/drive.metadata.readonly");vt.isSignedIn.get()?et(vt.currentUser.get()):tt(document.getElementById("customBtn"),vt)})()},[]),react.exports.useEffect(()=>{$||(async()=>{const vt=await loadAuth2(gapi,"10431894352-fabqe9s4hirpe4hiou6464gt646mnf27.apps.googleusercontent.com","https://www.googleapis.com/auth/drive.metadata.readonly");tt(document.getElementById("customBtn"),vt)})()},[$]);const et=pt=>{const vt=pt.getBasicProfile().getName(),ut=pt.getBasicProfile().getImageUrl();_e({name:vt,profileImg:ut})},tt=(pt,vt)=>{vt.attachClickHandler(pt,{},ut=>{et(ut)},ut=>{console.log(JSON.stringify(ut))})},ct=()=>{gapi.auth2.getAuthInstance().signOut().then(()=>{_e(null),console.log("User signed out.")})};return $?jsxs("div",{className:"container",children:[jsx(UserCard,{user:$}),jsx("div",{id:"",className:"btn logout",onClick:ct,children:"Logout"})]}):jsx("div",{className:"container",children:jsx("div",{id:"customBtn",className:"btn login",children:"Login"})})},BASE_URL="https://accounts.google.com/o/oauth2/v2/auth",CLIENT_ID="10431894352-fabqe9s4hirpe4hiou6464gt646mnf27.apps.googleusercontent.com",SCOPES="https://www.googleapis.com/auth/drive.metadata.readonly",REDIRECT_URI="http://localhost:5173/callback",RESPONSE_TYPE="response_type=token",OAuth=()=>jsx("div",{children:jsx("button",{onClick:()=>{const _e=`${BASE_URL}?scope=${SCOPES}&include_granted_scopes=true&${RESPONSE_TYPE}&redirect_uri=${REDIRECT_URI}&client_id=${CLIENT_ID}`;console.log(_e)},children:"Authorize"})});var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function($){for(var _e,et=1,tt=arguments.length;et<tt;et++){_e=arguments[et];for(var ct in _e)Object.prototype.hasOwnProperty.call(_e,ct)&&($[ct]=_e[ct])}return $},__assign.apply(this,arguments)},__rest=globalThis&&globalThis.__rest||function($,_e){var et={};for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&_e.indexOf(tt)<0&&(et[tt]=$[tt]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,tt=Object.getOwnPropertySymbols($);ct<tt.length;ct++)_e.indexOf(tt[ct])<0&&Object.prototype.propertyIsEnumerable.call($,tt[ct])&&(et[tt[ct]]=$[tt[ct]]);return et};function Tree2Element($){return $&&$.map(function(_e,et){return React.createElement(_e.tag,__assign({key:et},_e.attr),Tree2Element(_e.child))})}function GenIcon($){return function(_e){return React.createElement(IconBase,__assign({attr:__assign({},$.attr)},_e),Tree2Element($.child))}}function IconBase($){var _e=function(et){var tt=$.attr,ct=$.size,pt=$.title,vt=__rest($,["attr","size","title"]),ut=ct||et.size||"1em",nt;return et.className&&(nt=et.className),$.className&&(nt=(nt?nt+" ":"")+$.className),React.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},et.attr,tt,vt,{className:nt,style:__assign(__assign({color:$.color||et.color},et.style),$.style),height:ut,width:ut,xmlns:"http://www.w3.org/2000/svg"}),pt&&React.createElement("title",null,pt),$.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,function(et){return _e(et)}):_e(DefaultContext)}function GrNext($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22"}}]})($)}function GrPrevious($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"}}]})($)}function HiPause($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}}]})($)}function HiPlay($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}}]})($)}function TbReportAnalytics($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"}},{tag:"rect",attr:{x:"9",y:"3",width:"6",height:"4",rx:"2"}},{tag:"path",attr:{d:"M9 17v-5"}},{tag:"path",attr:{d:"M12 17v-1"}},{tag:"path",attr:{d:"M15 17v-3"}}]})($)}var fabric={};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);(function($){var _e=_e||{version:"5.2.4"};if($.fabric=_e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?_e.document=document:_e.document=document.implementation.createHTMLDocument(""),_e.window=window;else{var et=require$$2,tt=new et.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;_e.document=tt.document,_e.jsdomImplForWrapper=require$$2.implForWrapper,_e.nodeCanvas=require$$2.Canvas,_e.window=tt,DOMParser=_e.window.DOMParser}_e.isTouchSupported="ontouchstart"in _e.window||"ontouchstart"in _e.document||_e.window&&_e.window.navigator&&_e.window.navigator.maxTouchPoints>0,_e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",_e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],_e.DPI=96,_e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",_e.commaWsp="(?:\\s+,?\\s*|,\\s*)",_e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,_e.reNonWord=/[ \n\.,;!\?\-]/,_e.fontPaths={},_e.iMatrix=[1,0,0,1,0,0],_e.svgNS="http://www.w3.org/2000/svg",_e.perfLimitSizeTotal=2097152,_e.maxCacheSideLimit=4096,_e.minCacheSideLimit=256,_e.charWidthsCache={},_e.textureSize=2048,_e.disableStyleCopyPaste=!1,_e.enableGLFiltering=!0,_e.devicePixelRatio=_e.window.devicePixelRatio||_e.window.webkitDevicePixelRatio||_e.window.mozDevicePixelRatio||1,_e.browserShadowBlurConstant=1,_e.arcToSegmentsCache={},_e.boundsOfCurveCache={},_e.cachesBoundsOfCurve=!0,_e.forceGLPutImageData=!1,_e.initFilterBackend=function(){if(_e.enableGLFiltering&&_e.isWebglSupported&&_e.isWebglSupported(_e.textureSize))return console.log("max texture size: "+_e.maxTextureSize),new _e.WebglFilterBackend({tileSize:_e.textureSize});if(_e.Canvas2dFilterBackend)return new _e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=_e),function(){function ut(rt,st){if(this.__eventListeners[rt]){var ht=this.__eventListeners[rt];st?ht[ht.indexOf(st)]=!1:_e.util.array.fill(ht,!1)}}function nt(rt,st){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var ht in rt)this.on(ht,rt[ht]);else this.__eventListeners[rt]||(this.__eventListeners[rt]=[]),this.__eventListeners[rt].push(st);return this}function lt(rt,st){var ht=function(){st.apply(this,arguments),this.off(rt,ht)}.bind(this);this.on(rt,ht)}function ft(rt,st){if(arguments.length===1)for(var ht in rt)lt.call(this,ht,rt[ht]);else lt.call(this,rt,st);return this}function it(rt,st){if(!this.__eventListeners)return this;if(arguments.length===0)for(rt in this.__eventListeners)ut.call(this,rt);else if(arguments.length===1&&typeof arguments[0]=="object")for(var ht in rt)ut.call(this,ht,rt[ht]);else ut.call(this,rt,st);return this}function ot(rt,st){if(!this.__eventListeners)return this;var ht=this.__eventListeners[rt];if(!ht)return this;for(var at=0,dt=ht.length;at<dt;at++)ht[at]&&ht[at].call(this,st||{});return this.__eventListeners[rt]=ht.filter(function(gt){return gt!==!1}),this}_e.Observable={fire:ot,on:nt,once:ft,off:it}}(),_e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var ut=0,nt=arguments.length;ut<nt;ut++)this._onObjectAdded(arguments[ut]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(ut,nt,lt){var ft=this._objects;return lt?ft[nt]=ut:ft.splice(nt,0,ut),this._onObjectAdded&&this._onObjectAdded(ut),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var ut=this._objects,nt,lt=!1,ft=0,it=arguments.length;ft<it;ft++)nt=ut.indexOf(arguments[ft]),nt!==-1&&(lt=!0,ut.splice(nt,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[ft]));return this.renderOnAddRemove&&lt&&this.requestRenderAll(),this},forEachObject:function(ut,nt){for(var lt=this.getObjects(),ft=0,it=lt.length;ft<it;ft++)ut.call(nt,lt[ft],ft,lt);return this},getObjects:function(ut){return typeof ut>"u"?this._objects.concat():this._objects.filter(function(nt){return nt.type===ut})},item:function(ut){return this._objects[ut]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(ut,nt){return this._objects.indexOf(ut)>-1?!0:nt?this._objects.some(function(lt){return typeof lt.contains=="function"&&lt.contains(ut,!0)}):!1},complexity:function(){return this._objects.reduce(function(ut,nt){return ut+=nt.complexity?nt.complexity():0,ut},0)}},_e.CommonMethods={_setOptions:function(ut){for(var nt in ut)this.set(nt,ut[nt])},_initGradient:function(ut,nt){ut&&ut.colorStops&&!(ut instanceof _e.Gradient)&&this.set(nt,new _e.Gradient(ut))},_initPattern:function(ut,nt,lt){ut&&ut.source&&!(ut instanceof _e.Pattern)?this.set(nt,new _e.Pattern(ut,lt)):lt&&lt()},_setObject:function(ut){for(var nt in ut)this._set(nt,ut[nt])},set:function(ut,nt){return typeof ut=="object"?this._setObject(ut):this._set(ut,nt),this},_set:function(ut,nt){this[ut]=nt},toggle:function(ut){var nt=this.get(ut);return typeof nt=="boolean"&&this.set(ut,!nt),this},get:function(ut){return this[ut]}},function(ut){var nt=Math.sqrt,lt=Math.atan2,ft=Math.pow,it=Math.PI/180,ot=Math.PI/2;_e.util={cos:function(rt){if(rt===0)return 1;rt<0&&(rt=-rt);var st=rt/ot;switch(st){case 1:case 3:return 0;case 2:return-1}return Math.cos(rt)},sin:function(rt){if(rt===0)return 0;var st=rt/ot,ht=1;switch(rt<0&&(ht=-1),st){case 1:return ht;case 2:return 0;case 3:return-ht}return Math.sin(rt)},removeFromArray:function(rt,st){var ht=rt.indexOf(st);return ht!==-1&&rt.splice(ht,1),rt},getRandomInt:function(rt,st){return Math.floor(Math.random()*(st-rt+1))+rt},degreesToRadians:function(rt){return rt*it},radiansToDegrees:function(rt){return rt/it},rotatePoint:function(rt,st,ht){var at=new _e.Point(rt.x-st.x,rt.y-st.y),dt=_e.util.rotateVector(at,ht);return new _e.Point(dt.x,dt.y).addEquals(st)},rotateVector:function(rt,st){var ht=_e.util.sin(st),at=_e.util.cos(st),dt=rt.x*at-rt.y*ht,gt=rt.x*ht+rt.y*at;return{x:dt,y:gt}},createVector:function(rt,st){return new _e.Point(st.x-rt.x,st.y-rt.y)},calcAngleBetweenVectors:function(rt,st){return Math.acos((rt.x*st.x+rt.y*st.y)/(Math.hypot(rt.x,rt.y)*Math.hypot(st.x,st.y)))},getHatVector:function(rt){return new _e.Point(rt.x,rt.y).multiply(1/Math.hypot(rt.x,rt.y))},getBisector:function(rt,st,ht){var at=_e.util.createVector(rt,st),dt=_e.util.createVector(rt,ht),gt=_e.util.calcAngleBetweenVectors(at,dt),mt=_e.util.calcAngleBetweenVectors(_e.util.rotateVector(at,gt),dt),yt=gt*(mt===0?1:-1)/2;return{vector:_e.util.getHatVector(_e.util.rotateVector(at,yt)),angle:gt}},projectStrokeOnPoints:function(rt,st,ht){var at=[],dt=st.strokeWidth/2,gt=st.strokeUniform?new _e.Point(1/st.scaleX,1/st.scaleY):new _e.Point(1,1),mt=function(yt){var _t=dt/Math.hypot(yt.x,yt.y);return new _e.Point(yt.x*_t*gt.x,yt.y*_t*gt.y)};return rt.length<=1||rt.forEach(function(yt,_t){var wt=new _e.Point(yt.x,yt.y),St,Tt;_t===0?(Tt=rt[_t+1],St=ht?mt(_e.util.createVector(Tt,wt)).addEquals(wt):rt[rt.length-1]):_t===rt.length-1?(St=rt[_t-1],Tt=ht?mt(_e.util.createVector(St,wt)).addEquals(wt):rt[0]):(St=rt[_t-1],Tt=rt[_t+1]);var Dt=_e.util.getBisector(wt,St,Tt),Mt=Dt.vector,Ht=Dt.angle,Gt,Zt;if(st.strokeLineJoin==="miter"&&(Gt=-dt/Math.sin(Ht/2),Zt=new _e.Point(Mt.x*Gt*gt.x,Mt.y*Gt*gt.y),Math.hypot(Zt.x,Zt.y)/dt<=st.strokeMiterLimit)){at.push(wt.add(Zt)),at.push(wt.subtract(Zt));return}Gt=-dt*Math.SQRT2,Zt=new _e.Point(Mt.x*Gt*gt.x,Mt.y*Gt*gt.y),at.push(wt.add(Zt)),at.push(wt.subtract(Zt))}),at},transformPoint:function(rt,st,ht){return ht?new _e.Point(st[0]*rt.x+st[2]*rt.y,st[1]*rt.x+st[3]*rt.y):new _e.Point(st[0]*rt.x+st[2]*rt.y+st[4],st[1]*rt.x+st[3]*rt.y+st[5])},makeBoundingBoxFromPoints:function(rt,st){if(st)for(var ht=0;ht<rt.length;ht++)rt[ht]=_e.util.transformPoint(rt[ht],st);var at=[rt[0].x,rt[1].x,rt[2].x,rt[3].x],dt=_e.util.array.min(at),gt=_e.util.array.max(at),mt=gt-dt,yt=[rt[0].y,rt[1].y,rt[2].y,rt[3].y],_t=_e.util.array.min(yt),wt=_e.util.array.max(yt),St=wt-_t;return{left:dt,top:_t,width:mt,height:St}},invertTransform:function(rt){var st=1/(rt[0]*rt[3]-rt[1]*rt[2]),ht=[st*rt[3],-st*rt[1],-st*rt[2],st*rt[0]],at=_e.util.transformPoint({x:rt[4],y:rt[5]},ht,!0);return ht[4]=-at.x,ht[5]=-at.y,ht},toFixed:function(rt,st){return parseFloat(Number(rt).toFixed(st))},parseUnit:function(rt,st){var ht=/\D{0,2}$/.exec(rt),at=parseFloat(rt);switch(st||(st=_e.Text.DEFAULT_SVG_FONT_SIZE),ht[0]){case"mm":return at*_e.DPI/25.4;case"cm":return at*_e.DPI/2.54;case"in":return at*_e.DPI;case"pt":return at*_e.DPI/72;case"pc":return at*_e.DPI/72*12;case"em":return at*st;default:return at}},falseFunction:function(){return!1},getKlass:function(rt,st){return rt=_e.util.string.camelize(rt.charAt(0).toUpperCase()+rt.slice(1)),_e.util.resolveNamespace(st)[rt]},getSvgAttributes:function(rt){var st=["instantiated_by_use","style","id","class"];switch(rt){case"linearGradient":st=st.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":st=st.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":st=st.concat(["offset","stop-color","stop-opacity"]);break}return st},resolveNamespace:function(rt){if(!rt)return _e;var st=rt.split("."),ht=st.length,at,dt=ut||_e.window;for(at=0;at<ht;++at)dt=dt[st[at]];return dt},loadImage:function(rt,st,ht,at){if(!rt){st&&st.call(ht,rt);return}var dt=_e.util.createImage(),gt=function(){st&&st.call(ht,dt,!1),dt=dt.onload=dt.onerror=null};dt.onload=gt,dt.onerror=function(){_e.log("Error loading "+dt.src),st&&st.call(ht,null,!0),dt=dt.onload=dt.onerror=null},rt.indexOf("data")!==0&&at!==void 0&&at!==null&&(dt.crossOrigin=at),rt.substring(0,14)==="data:image/svg"&&(dt.onload=null,_e.util.loadImageInDom(dt,gt)),dt.src=rt},loadImageInDom:function(rt,st){var ht=_e.document.createElement("div");ht.style.width=ht.style.height="1px",ht.style.left=ht.style.top="-100%",ht.style.position="absolute",ht.appendChild(rt),_e.document.querySelector("body").appendChild(ht),rt.onload=function(){st(),ht.parentNode.removeChild(ht),ht=null}},enlivenObjects:function(rt,st,ht,at){rt=rt||[];var dt=[],gt=0,mt=rt.length;function yt(){++gt===mt&&st&&st(dt.filter(function(_t){return _t}))}if(!mt){st&&st(dt);return}rt.forEach(function(_t,wt){if(!_t||!_t.type){yt();return}var St=_e.util.getKlass(_t.type,ht);St.fromObject(_t,function(Tt,Dt){Dt||(dt[wt]=Tt),at&&at(_t,Tt,Dt),yt()})})},enlivenObjectEnlivables:function(rt,st,ht){var at=_e.Object.ENLIVEN_PROPS.filter(function(dt){return!!rt[dt]});_e.util.enlivenObjects(at.map(function(dt){return rt[dt]}),function(dt){var gt={};at.forEach(function(mt,yt){gt[mt]=dt[yt],st&&(st[mt]=dt[yt])}),ht&&ht(gt)})},enlivenPatterns:function(rt,st){rt=rt||[];function ht(){++dt===gt&&st&&st(at)}var at=[],dt=0,gt=rt.length;if(!gt){st&&st(at);return}rt.forEach(function(mt,yt){mt&&mt.source?new _e.Pattern(mt,function(_t){at[yt]=_t,ht()}):(at[yt]=mt,ht())})},groupSVGElements:function(rt,st,ht){var at;return rt&&rt.length===1?(typeof ht<"u"&&(rt[0].sourcePath=ht),rt[0]):(st&&(st.width&&st.height?st.centerPoint={x:st.width/2,y:st.height/2}:(delete st.width,delete st.height)),at=new _e.Group(rt,st),typeof ht<"u"&&(at.sourcePath=ht),at)},populateWithProperties:function(rt,st,ht){if(ht&&Array.isArray(ht))for(var at=0,dt=ht.length;at<dt;at++)ht[at]in rt&&(st[ht[at]]=rt[ht[at]])},createCanvasElement:function(){return _e.document.createElement("canvas")},copyCanvasElement:function(rt){var st=_e.util.createCanvasElement();return st.width=rt.width,st.height=rt.height,st.getContext("2d").drawImage(rt,0,0),st},toDataURL:function(rt,st,ht){return rt.toDataURL("image/"+st,ht)},createImage:function(){return _e.document.createElement("img")},multiplyTransformMatrices:function(rt,st,ht){return[rt[0]*st[0]+rt[2]*st[1],rt[1]*st[0]+rt[3]*st[1],rt[0]*st[2]+rt[2]*st[3],rt[1]*st[2]+rt[3]*st[3],ht?0:rt[0]*st[4]+rt[2]*st[5]+rt[4],ht?0:rt[1]*st[4]+rt[3]*st[5]+rt[5]]},qrDecompose:function(rt){var st=lt(rt[1],rt[0]),ht=ft(rt[0],2)+ft(rt[1],2),at=nt(ht),dt=(rt[0]*rt[3]-rt[2]*rt[1])/at,gt=lt(rt[0]*rt[2]+rt[1]*rt[3],ht);return{angle:st/it,scaleX:at,scaleY:dt,skewX:gt/it,skewY:0,translateX:rt[4],translateY:rt[5]}},calcRotateMatrix:function(rt){if(!rt.angle)return _e.iMatrix.concat();var st=_e.util.degreesToRadians(rt.angle),ht=_e.util.cos(st),at=_e.util.sin(st);return[ht,at,-at,ht,0,0]},calcDimensionsMatrix:function(rt){var st=typeof rt.scaleX>"u"?1:rt.scaleX,ht=typeof rt.scaleY>"u"?1:rt.scaleY,at=[rt.flipX?-st:st,0,0,rt.flipY?-ht:ht,0,0],dt=_e.util.multiplyTransformMatrices,gt=_e.util.degreesToRadians;return rt.skewX&&(at=dt(at,[1,0,Math.tan(gt(rt.skewX)),1],!0)),rt.skewY&&(at=dt(at,[1,Math.tan(gt(rt.skewY)),0,1],!0)),at},composeMatrix:function(rt){var st=[1,0,0,1,rt.translateX||0,rt.translateY||0],ht=_e.util.multiplyTransformMatrices;return rt.angle&&(st=ht(st,_e.util.calcRotateMatrix(rt))),(rt.scaleX!==1||rt.scaleY!==1||rt.skewX||rt.skewY||rt.flipX||rt.flipY)&&(st=ht(st,_e.util.calcDimensionsMatrix(rt))),st},resetObjectTransform:function(rt){rt.scaleX=1,rt.scaleY=1,rt.skewX=0,rt.skewY=0,rt.flipX=!1,rt.flipY=!1,rt.rotate(0)},saveObjectTransform:function(rt){return{scaleX:rt.scaleX,scaleY:rt.scaleY,skewX:rt.skewX,skewY:rt.skewY,angle:rt.angle,left:rt.left,flipX:rt.flipX,flipY:rt.flipY,top:rt.top}},isTransparent:function(rt,st,ht,at){at>0&&(st>at?st-=at:st=0,ht>at?ht-=at:ht=0);var dt=!0,gt,mt,yt=rt.getImageData(st,ht,at*2||1,at*2||1),_t=yt.data.length;for(gt=3;gt<_t&&(mt=yt.data[gt],dt=mt<=0,dt!==!1);gt+=4);return yt=null,dt},parsePreserveAspectRatioAttribute:function(rt){var st="meet",ht="Mid",at="Mid",dt=rt.split(" "),gt;return dt&&dt.length&&(st=dt.pop(),st!=="meet"&&st!=="slice"?(gt=st,st="meet"):dt.length&&(gt=dt.pop())),ht=gt!=="none"?gt.slice(1,4):"none",at=gt!=="none"?gt.slice(5,8):"none",{meetOrSlice:st,alignX:ht,alignY:at}},clearFabricFontCache:function(rt){rt=(rt||"").toLowerCase(),rt?_e.charWidthsCache[rt]&&delete _e.charWidthsCache[rt]:_e.charWidthsCache={}},limitDimsByArea:function(rt,st){var ht=Math.sqrt(st*rt),at=Math.floor(st/ht);return{x:Math.floor(ht),y:at}},capValue:function(rt,st,ht){return Math.max(rt,Math.min(st,ht))},findScaleToFit:function(rt,st){return Math.min(st.width/rt.width,st.height/rt.height)},findScaleToCover:function(rt,st){return Math.max(st.width/rt.width,st.height/rt.height)},matrixToSVG:function(rt){return"matrix("+rt.map(function(st){return _e.util.toFixed(st,_e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(rt,st){var ht=_e.util.invertTransform(st),at=_e.util.multiplyTransformMatrices(ht,rt.calcOwnMatrix());_e.util.applyTransformToObject(rt,at)},addTransformToObject:function(rt,st){_e.util.applyTransformToObject(rt,_e.util.multiplyTransformMatrices(st,rt.calcOwnMatrix()))},applyTransformToObject:function(rt,st){var ht=_e.util.qrDecompose(st),at=new _e.Point(ht.translateX,ht.translateY);rt.flipX=!1,rt.flipY=!1,rt.set("scaleX",ht.scaleX),rt.set("scaleY",ht.scaleY),rt.skewX=ht.skewX,rt.skewY=ht.skewY,rt.angle=ht.angle,rt.setPositionByOrigin(at,"center","center")},sizeAfterTransform:function(rt,st,ht){var at=rt/2,dt=st/2,gt=[{x:-at,y:-dt},{x:at,y:-dt},{x:-at,y:dt},{x:at,y:dt}],mt=_e.util.calcDimensionsMatrix(ht),yt=_e.util.makeBoundingBoxFromPoints(gt,mt);return{x:yt.width,y:yt.height}},mergeClipPaths:function(rt,st){var ht=rt,at=st;ht.inverted&&!at.inverted&&(ht=st,at=rt),_e.util.applyTransformToObject(at,_e.util.multiplyTransformMatrices(_e.util.invertTransform(ht.calcTransformMatrix()),at.calcTransformMatrix()));var dt=ht.inverted&&at.inverted;return dt&&(ht.inverted=at.inverted=!1),new _e.Group([ht],{clipPath:at,inverted:dt})},hasStyleChanged:function(rt,st,ht){return ht=ht||!1,rt.fill!==st.fill||rt.stroke!==st.stroke||rt.strokeWidth!==st.strokeWidth||rt.fontSize!==st.fontSize||rt.fontFamily!==st.fontFamily||rt.fontWeight!==st.fontWeight||rt.fontStyle!==st.fontStyle||rt.deltaY!==st.deltaY||ht&&(rt.overline!==st.overline||rt.underline!==st.underline||rt.linethrough!==st.linethrough)},stylesToArray:function(ht,st){for(var ht=_e.util.object.clone(ht,!0),at=st.split(`
`),dt=-1,gt={},mt=[],yt=0;yt<at.length;yt++){if(!ht[yt]){dt+=at[yt].length;continue}for(var _t=0;_t<at[yt].length;_t++){dt++;var wt=ht[yt][_t];if(wt){var St=_e.util.hasStyleChanged(gt,wt,!0);St?mt.push({start:dt,end:dt+1,style:wt}):mt[mt.length-1].end++}gt=wt||{}}}return mt},stylesFromArray:function(rt,st){if(!Array.isArray(rt))return rt;for(var ht=st.split(`
`),at=-1,dt=0,gt={},mt=0;mt<ht.length;mt++)for(var yt=0;yt<ht[mt].length;yt++)at++,rt[dt]&&rt[dt].start<=at&&at<rt[dt].end&&(gt[mt]=gt[mt]||{},gt[mt][yt]=Object.assign({},rt[dt].style),at===rt[dt].end-1&&dt++);return gt}}}($),function(){var ut=Array.prototype.join,nt={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},lt={m:"l",M:"L"};function ft(xt,bt,Ot,Et,$t,kt,Ct,Pt,jt,Nt,Lt){var Wt=_e.util.cos(xt),Xt=_e.util.sin(xt),Qt=_e.util.cos(bt),Rt=_e.util.sin(bt),At=Ot*$t*Qt-Et*kt*Rt+Ct,zt=Et*$t*Qt+Ot*kt*Rt+Pt,Ut=Nt+jt*(-Ot*$t*Xt-Et*kt*Wt),It=Lt+jt*(-Et*$t*Xt+Ot*kt*Wt),Vt=At+jt*(Ot*$t*Rt+Et*kt*Qt),qt=zt+jt*(Et*$t*Rt-Ot*kt*Qt);return["C",Ut,It,Vt,qt,At,zt]}function it(xt,bt,Ot,Et,$t,kt,Ct){var Pt=Math.PI,jt=Ct*Pt/180,Nt=_e.util.sin(jt),Lt=_e.util.cos(jt),Wt=0,Xt=0;Ot=Math.abs(Ot),Et=Math.abs(Et);var Qt=-Lt*xt*.5-Nt*bt*.5,Rt=-Lt*bt*.5+Nt*xt*.5,At=Ot*Ot,zt=Et*Et,Ut=Rt*Rt,It=Qt*Qt,Vt=At*zt-At*Ut-zt*It,qt=0;if(Vt<0){var hn=Math.sqrt(1-Vt/(At*zt));Ot*=hn,Et*=hn}else qt=($t===kt?-1:1)*Math.sqrt(Vt/(At*Ut+zt*It));var ln=qt*Ot*Rt/Et,Bt=-qt*Et*Qt/Ot,cn=Lt*ln-Nt*Bt+xt*.5,dn=Nt*ln+Lt*Bt+bt*.5,pn=ot(1,0,(Qt-ln)/Ot,(Rt-Bt)/Et),mn=ot((Qt-ln)/Ot,(Rt-Bt)/Et,(-Qt-ln)/Ot,(-Rt-Bt)/Et);kt===0&&mn>0?mn-=2*Pt:kt===1&&mn<0&&(mn+=2*Pt);for(var gn=Math.ceil(Math.abs(mn/Pt*2)),yn=[],vn=mn/gn,wn=8/3*Math.sin(vn/4)*Math.sin(vn/4)/Math.sin(vn/2),xn=pn+vn,_n=0;_n<gn;_n++)yn[_n]=ft(pn,xn,Lt,Nt,Ot,Et,cn,dn,wn,Wt,Xt),Wt=yn[_n][5],Xt=yn[_n][6],pn=xn,xn+=vn;return yn}function ot(xt,bt,Ot,Et){var $t=Math.atan2(bt,xt),kt=Math.atan2(Et,Ot);return kt>=$t?kt-$t:2*Math.PI-($t-kt)}function rt(xt,bt,Ot,Et,$t,kt,Ct,Pt){var jt;if(_e.cachesBoundsOfCurve&&(jt=ut.call(arguments),_e.boundsOfCurveCache[jt]))return _e.boundsOfCurveCache[jt];var Nt=Math.sqrt,Lt=Math.min,Wt=Math.max,Xt=Math.abs,Qt=[],Rt=[[],[]],At,zt,Ut,It,Vt,qt,hn,ln;zt=6*xt-12*Ot+6*$t,At=-3*xt+9*Ot-9*$t+3*Ct,Ut=3*Ot-3*xt;for(var Bt=0;Bt<2;++Bt){if(Bt>0&&(zt=6*bt-12*Et+6*kt,At=-3*bt+9*Et-9*kt+3*Pt,Ut=3*Et-3*bt),Xt(At)<1e-12){if(Xt(zt)<1e-12)continue;It=-Ut/zt,0<It&&It<1&&Qt.push(It);continue}hn=zt*zt-4*Ut*At,!(hn<0)&&(ln=Nt(hn),Vt=(-zt+ln)/(2*At),0<Vt&&Vt<1&&Qt.push(Vt),qt=(-zt-ln)/(2*At),0<qt&&qt<1&&Qt.push(qt))}for(var cn,dn,pn=Qt.length,mn=pn,gn;pn--;)It=Qt[pn],gn=1-It,cn=gn*gn*gn*xt+3*gn*gn*It*Ot+3*gn*It*It*$t+It*It*It*Ct,Rt[0][pn]=cn,dn=gn*gn*gn*bt+3*gn*gn*It*Et+3*gn*It*It*kt+It*It*It*Pt,Rt[1][pn]=dn;Rt[0][mn]=xt,Rt[1][mn]=bt,Rt[0][mn+1]=Ct,Rt[1][mn+1]=Pt;var yn=[{x:Lt.apply(null,Rt[0]),y:Lt.apply(null,Rt[1])},{x:Wt.apply(null,Rt[0]),y:Wt.apply(null,Rt[1])}];return _e.cachesBoundsOfCurve&&(_e.boundsOfCurveCache[jt]=yn),yn}function st(xt,bt,Ot){for(var Et=Ot[1],$t=Ot[2],kt=Ot[3],Ct=Ot[4],Pt=Ot[5],jt=Ot[6],Nt=Ot[7],Lt=it(jt-xt,Nt-bt,Et,$t,Ct,Pt,kt),Wt=0,Xt=Lt.length;Wt<Xt;Wt++)Lt[Wt][1]+=xt,Lt[Wt][2]+=bt,Lt[Wt][3]+=xt,Lt[Wt][4]+=bt,Lt[Wt][5]+=xt,Lt[Wt][6]+=bt;return Lt}function ht(xt){var bt=0,Ot=0,Et=xt.length,$t=0,kt=0,Ct,Pt,jt,Nt=[],Lt,Wt,Xt;for(Pt=0;Pt<Et;++Pt){switch(jt=!1,Ct=xt[Pt].slice(0),Ct[0]){case"l":Ct[0]="L",Ct[1]+=bt,Ct[2]+=Ot;case"L":bt=Ct[1],Ot=Ct[2];break;case"h":Ct[1]+=bt;case"H":Ct[0]="L",Ct[2]=Ot,bt=Ct[1];break;case"v":Ct[1]+=Ot;case"V":Ct[0]="L",Ot=Ct[1],Ct[1]=bt,Ct[2]=Ot;break;case"m":Ct[0]="M",Ct[1]+=bt,Ct[2]+=Ot;case"M":bt=Ct[1],Ot=Ct[2],$t=Ct[1],kt=Ct[2];break;case"c":Ct[0]="C",Ct[1]+=bt,Ct[2]+=Ot,Ct[3]+=bt,Ct[4]+=Ot,Ct[5]+=bt,Ct[6]+=Ot;case"C":Wt=Ct[3],Xt=Ct[4],bt=Ct[5],Ot=Ct[6];break;case"s":Ct[0]="S",Ct[1]+=bt,Ct[2]+=Ot,Ct[3]+=bt,Ct[4]+=Ot;case"S":Lt==="C"?(Wt=2*bt-Wt,Xt=2*Ot-Xt):(Wt=bt,Xt=Ot),bt=Ct[3],Ot=Ct[4],Ct[0]="C",Ct[5]=Ct[3],Ct[6]=Ct[4],Ct[3]=Ct[1],Ct[4]=Ct[2],Ct[1]=Wt,Ct[2]=Xt,Wt=Ct[3],Xt=Ct[4];break;case"q":Ct[0]="Q",Ct[1]+=bt,Ct[2]+=Ot,Ct[3]+=bt,Ct[4]+=Ot;case"Q":Wt=Ct[1],Xt=Ct[2],bt=Ct[3],Ot=Ct[4];break;case"t":Ct[0]="T",Ct[1]+=bt,Ct[2]+=Ot;case"T":Lt==="Q"?(Wt=2*bt-Wt,Xt=2*Ot-Xt):(Wt=bt,Xt=Ot),Ct[0]="Q",bt=Ct[1],Ot=Ct[2],Ct[1]=Wt,Ct[2]=Xt,Ct[3]=bt,Ct[4]=Ot;break;case"a":Ct[0]="A",Ct[6]+=bt,Ct[7]+=Ot;case"A":jt=!0,Nt=Nt.concat(st(bt,Ot,Ct)),bt=Ct[6],Ot=Ct[7];break;case"z":case"Z":bt=$t,Ot=kt;break}jt||Nt.push(Ct),Lt=Ct[0]}return Nt}function at(xt,bt,Ot,Et){return Math.sqrt((Ot-xt)*(Ot-xt)+(Et-bt)*(Et-bt))}function dt(xt){return xt*xt*xt}function gt(xt){return 3*xt*xt*(1-xt)}function mt(xt){return 3*xt*(1-xt)*(1-xt)}function yt(xt){return(1-xt)*(1-xt)*(1-xt)}function _t(xt,bt,Ot,Et,$t,kt,Ct,Pt){return function(jt){var Nt=dt(jt),Lt=gt(jt),Wt=mt(jt),Xt=yt(jt);return{x:Ct*Nt+$t*Lt+Ot*Wt+xt*Xt,y:Pt*Nt+kt*Lt+Et*Wt+bt*Xt}}}function wt(xt,bt,Ot,Et,$t,kt,Ct,Pt){return function(jt){var Nt=1-jt,Lt=3*Nt*Nt*(Ot-xt)+6*Nt*jt*($t-Ot)+3*jt*jt*(Ct-$t),Wt=3*Nt*Nt*(Et-bt)+6*Nt*jt*(kt-Et)+3*jt*jt*(Pt-kt);return Math.atan2(Wt,Lt)}}function St(xt){return xt*xt}function Tt(xt){return 2*xt*(1-xt)}function Dt(xt){return(1-xt)*(1-xt)}function Mt(xt,bt,Ot,Et,$t,kt){return function(Ct){var Pt=St(Ct),jt=Tt(Ct),Nt=Dt(Ct);return{x:$t*Pt+Ot*jt+xt*Nt,y:kt*Pt+Et*jt+bt*Nt}}}function Ht(xt,bt,Ot,Et,$t,kt){return function(Ct){var Pt=1-Ct,jt=2*Pt*(Ot-xt)+2*Ct*($t-Ot),Nt=2*Pt*(Et-bt)+2*Ct*(kt-Et);return Math.atan2(Nt,jt)}}function Gt(xt,bt,Ot){var Et={x:bt,y:Ot},$t,kt=0,Ct;for(Ct=1;Ct<=100;Ct+=1)$t=xt(Ct/100),kt+=at(Et.x,Et.y,$t.x,$t.y),Et=$t;return kt}function Zt(xt,bt){for(var Ot=0,Et=0,$t=xt.iterator,kt={x:xt.x,y:xt.y},Ct,Pt,jt=.01,Nt=xt.angleFinder,Lt;Et<bt&&jt>1e-4;)Ct=$t(Ot),Lt=Ot,Pt=at(kt.x,kt.y,Ct.x,Ct.y),Pt+Et>bt?(Ot-=jt,jt/=2):(kt=Ct,Ot+=jt,Et+=Pt);return Ct.angle=Nt(Lt),Ct}function Yt(xt){for(var bt=0,Ot=xt.length,Et,$t=0,kt=0,Ct=0,Pt=0,jt=[],Nt,Lt,Wt,Xt=0;Xt<Ot;Xt++){switch(Et=xt[Xt],Lt={x:$t,y:kt,command:Et[0]},Et[0]){case"M":Lt.length=0,Ct=$t=Et[1],Pt=kt=Et[2];break;case"L":Lt.length=at($t,kt,Et[1],Et[2]),$t=Et[1],kt=Et[2];break;case"C":Nt=_t($t,kt,Et[1],Et[2],Et[3],Et[4],Et[5],Et[6]),Wt=wt($t,kt,Et[1],Et[2],Et[3],Et[4],Et[5],Et[6]),Lt.iterator=Nt,Lt.angleFinder=Wt,Lt.length=Gt(Nt,$t,kt),$t=Et[5],kt=Et[6];break;case"Q":Nt=Mt($t,kt,Et[1],Et[2],Et[3],Et[4]),Wt=Ht($t,kt,Et[1],Et[2],Et[3],Et[4]),Lt.iterator=Nt,Lt.angleFinder=Wt,Lt.length=Gt(Nt,$t,kt),$t=Et[3],kt=Et[4];break;case"Z":case"z":Lt.destX=Ct,Lt.destY=Pt,Lt.length=at($t,kt,Ct,Pt),$t=Ct,kt=Pt;break}bt+=Lt.length,jt.push(Lt)}return jt.push({length:bt,x:$t,y:kt}),jt}function Kt(xt,bt,Ot){Ot||(Ot=Yt(xt));for(var Et=0;bt-Ot[Et].length>0&&Et<Ot.length-2;)bt-=Ot[Et].length,Et++;var $t=Ot[Et],kt=bt/$t.length,Ct=$t.command,Pt=xt[Et],jt;switch(Ct){case"M":return{x:$t.x,y:$t.y,angle:0};case"Z":case"z":return jt=new _e.Point($t.x,$t.y).lerp(new _e.Point($t.destX,$t.destY),kt),jt.angle=Math.atan2($t.destY-$t.y,$t.destX-$t.x),jt;case"L":return jt=new _e.Point($t.x,$t.y).lerp(new _e.Point(Pt[1],Pt[2]),kt),jt.angle=Math.atan2(Pt[2]-$t.y,Pt[1]-$t.x),jt;case"C":return Zt($t,bt);case"Q":return Zt($t,bt)}}function Jt(xt){var bt=[],Ot=[],Et,$t,kt=_e.rePathCommand,Ct="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Pt="("+Ct+")"+_e.commaWsp,jt="([01])"+_e.commaWsp+"?",Nt=Pt+"?"+Pt+"?"+Pt+jt+jt+Pt+"?("+Ct+")",Lt=new RegExp(Nt,"g"),Wt,Xt,Qt;if(!xt||!xt.match)return bt;Qt=xt.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Rt=0,At,zt=Qt.length;Rt<zt;Rt++){Et=Qt[Rt],Xt=Et.slice(1).trim(),Ot.length=0;var Ut=Et.charAt(0);if(At=[Ut],Ut.toLowerCase()==="a")for(var It;It=Lt.exec(Xt);)for(var Vt=1;Vt<It.length;Vt++)Ot.push(It[Vt]);else for(;Wt=kt.exec(Xt);)Ot.push(Wt[0]);for(var Vt=0,qt=Ot.length;Vt<qt;Vt++)$t=parseFloat(Ot[Vt]),isNaN($t)||At.push($t);var hn=nt[Ut.toLowerCase()],ln=lt[Ut]||Ut;if(At.length-1>hn)for(var Bt=1,cn=At.length;Bt<cn;Bt+=hn)bt.push([Ut].concat(At.slice(Bt,Bt+hn))),Ut=ln;else bt.push(At)}return bt}function sn(xt,bt){var Ot=[],Et,$t=new _e.Point(xt[0].x,xt[0].y),kt=new _e.Point(xt[1].x,xt[1].y),Ct=xt.length,Pt=1,jt=0,Nt=Ct>2;for(bt=bt||0,Nt&&(Pt=xt[2].x<kt.x?-1:xt[2].x===kt.x?0:1,jt=xt[2].y<kt.y?-1:xt[2].y===kt.y?0:1),Ot.push(["M",$t.x-Pt*bt,$t.y-jt*bt]),Et=1;Et<Ct;Et++){if(!$t.eq(kt)){var Lt=$t.midPointFrom(kt);Ot.push(["Q",$t.x,$t.y,Lt.x,Lt.y])}$t=xt[Et],Et+1<xt.length&&(kt=xt[Et+1])}return Nt&&(Pt=$t.x>xt[Et-2].x?1:$t.x===xt[Et-2].x?0:-1,jt=$t.y>xt[Et-2].y?1:$t.y===xt[Et-2].y?0:-1),Ot.push(["L",$t.x+Pt*bt,$t.y+jt*bt]),Ot}function Ft(xt,bt,Ot){return Ot&&(bt=_e.util.multiplyTransformMatrices(bt,[1,0,0,1,-Ot.x,-Ot.y])),xt.map(function(Et){for(var $t=Et.slice(0),kt={},Ct=1;Ct<Et.length-1;Ct+=2)kt.x=Et[Ct],kt.y=Et[Ct+1],kt=_e.util.transformPoint(kt,bt),$t[Ct]=kt.x,$t[Ct+1]=kt.y;return $t})}_e.util.joinPath=function(xt){return xt.map(function(bt){return bt.join(" ")}).join(" ")},_e.util.parsePath=Jt,_e.util.makePathSimpler=ht,_e.util.getSmoothPathFromPoints=sn,_e.util.getPathSegmentsInfo=Yt,_e.util.getBoundsOfCurve=rt,_e.util.getPointOnPath=Kt,_e.util.transformPath=Ft}(),function(){var ut=Array.prototype.slice;function nt(rt,st){for(var ht=ut.call(arguments,2),at=[],dt=0,gt=rt.length;dt<gt;dt++)at[dt]=ht.length?rt[dt][st].apply(rt[dt],ht):rt[dt][st].call(rt[dt]);return at}function lt(rt,st){return ot(rt,st,function(ht,at){return ht>=at})}function ft(rt,st){return ot(rt,st,function(ht,at){return ht<at})}function it(rt,st){for(var ht=rt.length;ht--;)rt[ht]=st;return rt}function ot(rt,st,ht){if(!(!rt||rt.length===0)){var at=rt.length-1,dt=st?rt[at][st]:rt[at];if(st)for(;at--;)ht(rt[at][st],dt)&&(dt=rt[at][st]);else for(;at--;)ht(rt[at],dt)&&(dt=rt[at]);return dt}}_e.util.array={fill:it,invoke:nt,min:ft,max:lt}}(),function(){function ut(lt,ft,it){if(it)if(!_e.isLikelyNode&&ft instanceof Element)lt=ft;else if(ft instanceof Array){lt=[];for(var ot=0,rt=ft.length;ot<rt;ot++)lt[ot]=ut({},ft[ot],it)}else if(ft&&typeof ft=="object")for(var st in ft)st==="canvas"||st==="group"?lt[st]=null:ft.hasOwnProperty(st)&&(lt[st]=ut({},ft[st],it));else lt=ft;else for(var st in ft)lt[st]=ft[st];return lt}function nt(lt,ft){return ut({},lt,ft)}_e.util.object={extend:ut,clone:nt},_e.util.object.extend(_e.util,_e.Observable)}(),function(){function ut(ot){return ot.replace(/-+(.)?/g,function(rt,st){return st?st.toUpperCase():""})}function nt(ot,rt){return ot.charAt(0).toUpperCase()+(rt?ot.slice(1):ot.slice(1).toLowerCase())}function lt(ot){return ot.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ft(ot){var rt=0,st,ht=[];for(rt=0,st;rt<ot.length;rt++)(st=it(ot,rt))!==!1&&ht.push(st);return ht}function it(ot,rt){var st=ot.charCodeAt(rt);if(isNaN(st))return"";if(st<55296||st>57343)return ot.charAt(rt);if(55296<=st&&st<=56319){if(ot.length<=rt+1)throw"High surrogate without following low surrogate";var ht=ot.charCodeAt(rt+1);if(56320>ht||ht>57343)throw"High surrogate without following low surrogate";return ot.charAt(rt)+ot.charAt(rt+1)}if(rt===0)throw"Low surrogate without preceding high surrogate";var at=ot.charCodeAt(rt-1);if(55296>at||at>56319)throw"Low surrogate without preceding high surrogate";return!1}_e.util.string={camelize:ut,capitalize:nt,escapeXml:lt,graphemeSplit:ft}}(),function(){var ut=Array.prototype.slice,nt=function(){},lt=function(){for(var st in{toString:1})if(st==="toString")return!1;return!0}(),ft=function(st,ht,at){for(var dt in ht)dt in st.prototype&&typeof st.prototype[dt]=="function"&&(ht[dt]+"").indexOf("callSuper")>-1?st.prototype[dt]=function(gt){return function(){var mt=this.constructor.superclass;this.constructor.superclass=at;var yt=ht[gt].apply(this,arguments);if(this.constructor.superclass=mt,gt!=="initialize")return yt}}(dt):st.prototype[dt]=ht[dt],lt&&(ht.toString!==Object.prototype.toString&&(st.prototype.toString=ht.toString),ht.valueOf!==Object.prototype.valueOf&&(st.prototype.valueOf=ht.valueOf))};function it(){}function ot(st){for(var ht=null,at=this;at.constructor.superclass;){var dt=at.constructor.superclass.prototype[st];if(at[st]!==dt){ht=dt;break}at=at.constructor.superclass.prototype}return ht?arguments.length>1?ht.apply(this,ut.call(arguments,1)):ht.call(this):console.log("tried to callSuper "+st+", method not found in prototype chain",this)}function rt(){var st=null,ht=ut.call(arguments,0);typeof ht[0]=="function"&&(st=ht.shift());function at(){this.initialize.apply(this,arguments)}at.superclass=st,at.subclasses=[],st&&(it.prototype=st.prototype,at.prototype=new it,st.subclasses.push(at));for(var dt=0,gt=ht.length;dt<gt;dt++)ft(at,ht[dt],st);return at.prototype.initialize||(at.prototype.initialize=nt),at.prototype.constructor=at,at.prototype.callSuper=ot,at}_e.util.createClass=rt}(),function(){var ut=!!_e.document.createElement("div").attachEvent,nt=["touchstart","touchmove","touchend"];_e.util.addListener=function(ft,it,ot,rt){ft&&ft.addEventListener(it,ot,ut?!1:rt)},_e.util.removeListener=function(ft,it,ot,rt){ft&&ft.removeEventListener(it,ot,ut?!1:rt)};function lt(ft){var it=ft.changedTouches;return it&&it[0]?it[0]:ft}_e.util.getPointer=function(ft){var it=ft.target,ot=_e.util.getScrollLeftTop(it),rt=lt(ft);return{x:rt.clientX+ot.left,y:rt.clientY+ot.top}},_e.util.isTouchEvent=function(ft){return nt.indexOf(ft.type)>-1||ft.pointerType==="touch"}}(),function(){function ut(rt,st){var ht=rt.style;if(!ht)return rt;if(typeof st=="string")return rt.style.cssText+=";"+st,st.indexOf("opacity")>-1?ot(rt,st.match(/opacity:\s*(\d?\.?\d*)/)[1]):rt;for(var at in st)if(at==="opacity")ot(rt,st[at]);else{var dt=at==="float"||at==="cssFloat"?typeof ht.styleFloat>"u"?"cssFloat":"styleFloat":at;ht.setProperty(dt,st[at])}return rt}var nt=_e.document.createElement("div"),lt=typeof nt.style.opacity=="string",ft=typeof nt.style.filter=="string",it=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,ot=function(rt){return rt};lt?ot=function(rt,st){return rt.style.opacity=st,rt}:ft&&(ot=function(rt,st){var ht=rt.style;return rt.currentStyle&&!rt.currentStyle.hasLayout&&(ht.zoom=1),it.test(ht.filter)?(st=st>=.9999?"":"alpha(opacity="+st*100+")",ht.filter=ht.filter.replace(it,st)):ht.filter+=" alpha(opacity="+st*100+")",rt}),_e.util.setStyle=ut}(),function(){var ut=Array.prototype.slice;function nt(yt){return typeof yt=="string"?_e.document.getElementById(yt):yt}var lt,ft=function(yt){return ut.call(yt,0)};try{lt=ft(_e.document.childNodes)instanceof Array}catch{}lt||(ft=function(yt){for(var _t=new Array(yt.length),wt=yt.length;wt--;)_t[wt]=yt[wt];return _t});function it(yt,_t){var wt=_e.document.createElement(yt);for(var St in _t)St==="class"?wt.className=_t[St]:St==="for"?wt.htmlFor=_t[St]:wt.setAttribute(St,_t[St]);return wt}function ot(yt,_t){yt&&(" "+yt.className+" ").indexOf(" "+_t+" ")===-1&&(yt.className+=(yt.className?" ":"")+_t)}function rt(yt,_t,wt){return typeof _t=="string"&&(_t=it(_t,wt)),yt.parentNode&&yt.parentNode.replaceChild(_t,yt),_t.appendChild(yt),_t}function st(yt){for(var _t=0,wt=0,St=_e.document.documentElement,Tt=_e.document.body||{scrollLeft:0,scrollTop:0};yt&&(yt.parentNode||yt.host)&&(yt=yt.parentNode||yt.host,yt===_e.document?(_t=Tt.scrollLeft||St.scrollLeft||0,wt=Tt.scrollTop||St.scrollTop||0):(_t+=yt.scrollLeft||0,wt+=yt.scrollTop||0),!(yt.nodeType===1&&yt.style.position==="fixed")););return{left:_t,top:wt}}function ht(yt){var _t,wt=yt&&yt.ownerDocument,St={left:0,top:0},Tt={left:0,top:0},Dt,Mt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!wt)return Tt;for(var Ht in Mt)Tt[Mt[Ht]]+=parseInt(at(yt,Ht),10)||0;return _t=wt.documentElement,typeof yt.getBoundingClientRect<"u"&&(St=yt.getBoundingClientRect()),Dt=st(yt),{left:St.left+Dt.left-(_t.clientLeft||0)+Tt.left,top:St.top+Dt.top-(_t.clientTop||0)+Tt.top}}var at;_e.document.defaultView&&_e.document.defaultView.getComputedStyle?at=function(yt,_t){var wt=_e.document.defaultView.getComputedStyle(yt,null);return wt?wt[_t]:void 0}:at=function(yt,_t){var wt=yt.style[_t];return!wt&&yt.currentStyle&&(wt=yt.currentStyle[_t]),wt},function(){var yt=_e.document.documentElement.style,_t="userSelect"in yt?"userSelect":"MozUserSelect"in yt?"MozUserSelect":"WebkitUserSelect"in yt?"WebkitUserSelect":"KhtmlUserSelect"in yt?"KhtmlUserSelect":"";function wt(Tt){return typeof Tt.onselectstart<"u"&&(Tt.onselectstart=_e.util.falseFunction),_t?Tt.style[_t]="none":typeof Tt.unselectable=="string"&&(Tt.unselectable="on"),Tt}function St(Tt){return typeof Tt.onselectstart<"u"&&(Tt.onselectstart=null),_t?Tt.style[_t]="":typeof Tt.unselectable=="string"&&(Tt.unselectable=""),Tt}_e.util.makeElementUnselectable=wt,_e.util.makeElementSelectable=St}();function dt(yt){var _t=_e.jsdomImplForWrapper(yt);return _t._canvas||_t._image}function gt(yt){if(_e.isLikelyNode){var _t=_e.jsdomImplForWrapper(yt);_t&&(_t._image=null,_t._canvas=null,_t._currentSrc=null,_t._attributes=null,_t._classList=null)}}function mt(yt,_t){yt.imageSmoothingEnabled=yt.imageSmoothingEnabled||yt.webkitImageSmoothingEnabled||yt.mozImageSmoothingEnabled||yt.msImageSmoothingEnabled||yt.oImageSmoothingEnabled,yt.imageSmoothingEnabled=_t}_e.util.setImageSmoothing=mt,_e.util.getById=nt,_e.util.toArray=ft,_e.util.addClass=ot,_e.util.makeElement=it,_e.util.wrapElement=rt,_e.util.getScrollLeftTop=st,_e.util.getElementOffset=ht,_e.util.getNodeCanvas=dt,_e.util.cleanUpJsdomNode=gt}(),function(){function ut(ft,it){return ft+(/\?/.test(ft)?"&":"?")+it}function nt(){}function lt(ft,it){it||(it={});var ot=it.method?it.method.toUpperCase():"GET",rt=it.onComplete||function(){},st=new _e.window.XMLHttpRequest,ht=it.body||it.parameters;return st.onreadystatechange=function(){st.readyState===4&&(rt(st),st.onreadystatechange=nt)},ot==="GET"&&(ht=null,typeof it.parameters=="string"&&(ft=ut(ft,it.parameters))),st.open(ot,ft,!0),(ot==="POST"||ot==="PUT")&&st.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),st.send(ht),st}_e.util.request=lt}(),_e.log=console.log,_e.warn=console.warn,function(){var ut=_e.util.object.extend,nt=_e.util.object.clone,lt=[];_e.util.object.extend(lt,{cancelAll:function(){var dt=this.splice(0);return dt.forEach(function(gt){gt.cancel()}),dt},cancelByCanvas:function(dt){if(!dt)return[];var gt=this.filter(function(mt){return typeof mt.target=="object"&&mt.target.canvas===dt});return gt.forEach(function(mt){mt.cancel()}),gt},cancelByTarget:function(dt){var gt=this.findAnimationsByTarget(dt);return gt.forEach(function(mt){mt.cancel()}),gt},findAnimationIndex:function(dt){return this.indexOf(this.findAnimation(dt))},findAnimation:function(dt){return this.find(function(gt){return gt.cancel===dt})},findAnimationsByTarget:function(dt){return dt?this.filter(function(gt){return gt.target===dt}):[]}});function ft(){return!1}function it(dt,gt,mt,yt){return-mt*Math.cos(dt/yt*(Math.PI/2))+mt+gt}function ot(dt){dt||(dt={});var gt=!1,mt,yt=function(){var _t=_e.runningAnimations.indexOf(mt);return _t>-1&&_e.runningAnimations.splice(_t,1)[0]};return mt=ut(nt(dt),{cancel:function(){return gt=!0,yt()},currentValue:"startValue"in dt?dt.startValue:0,completionRate:0,durationRate:0}),_e.runningAnimations.push(mt),ht(function(_t){var wt=_t||+new Date,St=dt.duration||500,Tt=wt+St,Dt,Mt=dt.onChange||ft,Ht=dt.abort||ft,Gt=dt.onComplete||ft,Zt=dt.easing||it,Yt="startValue"in dt?dt.startValue.length>0:!1,Kt="startValue"in dt?dt.startValue:0,Jt="endValue"in dt?dt.endValue:100,sn=dt.byValue||(Yt?Kt.map(function(Ft,xt){return Jt[xt]-Kt[xt]}):Jt-Kt);dt.onStart&&dt.onStart(),function Ft(xt){Dt=xt||+new Date;var bt=Dt>Tt?St:Dt-wt,Ot=bt/St,Et=Yt?Kt.map(function(kt,Ct){return Zt(bt,Kt[Ct],sn[Ct],St)}):Zt(bt,Kt,sn,St),$t=Math.abs(Yt?(Et[0]-Kt[0])/sn[0]:(Et-Kt)/sn);if(mt.currentValue=Yt?Et.slice():Et,mt.completionRate=$t,mt.durationRate=Ot,!gt){if(Ht(Et,$t,Ot)){yt();return}if(Dt>Tt){mt.currentValue=Yt?Jt.slice():Jt,mt.completionRate=1,mt.durationRate=1,Mt(Yt?Jt.slice():Jt,1,1),Gt(Jt,1,1),yt();return}else Mt(Et,$t,Ot),ht(Ft)}}(wt)}),mt.cancel}var rt=_e.window.requestAnimationFrame||_e.window.webkitRequestAnimationFrame||_e.window.mozRequestAnimationFrame||_e.window.oRequestAnimationFrame||_e.window.msRequestAnimationFrame||function(dt){return _e.window.setTimeout(dt,1e3/60)},st=_e.window.cancelAnimationFrame||_e.window.clearTimeout;function ht(){return rt.apply(_e.window,arguments)}function at(){return st.apply(_e.window,arguments)}_e.util.animate=ot,_e.util.requestAnimFrame=ht,_e.util.cancelAnimFrame=at,_e.runningAnimations=lt}(),function(){function ut(lt,ft,it){var ot="rgba("+parseInt(lt[0]+it*(ft[0]-lt[0]),10)+","+parseInt(lt[1]+it*(ft[1]-lt[1]),10)+","+parseInt(lt[2]+it*(ft[2]-lt[2]),10);return ot+=","+(lt&&ft?parseFloat(lt[3]+it*(ft[3]-lt[3])):1),ot+=")",ot}function nt(lt,ft,it,ot){var rt=new _e.Color(lt).getSource(),st=new _e.Color(ft).getSource(),ht=ot.onComplete,at=ot.onChange;return ot=ot||{},_e.util.animate(_e.util.object.extend(ot,{duration:it||500,startValue:rt,endValue:st,byValue:st,easing:function(dt,gt,mt,yt){var _t=ot.colorEasing?ot.colorEasing(dt,yt):1-Math.cos(dt/yt*(Math.PI/2));return ut(gt,mt,_t)},onComplete:function(dt,gt,mt){if(ht)return ht(ut(st,st,0),gt,mt)},onChange:function(dt,gt,mt){if(at){if(Array.isArray(dt))return at(ut(dt,dt,0),gt,mt);at(dt,gt,mt)}}}))}_e.util.animateColor=nt}(),function(){function ut(xt,bt,Ot,Et){return xt<Math.abs(bt)?(xt=bt,Et=Ot/4):bt===0&&xt===0?Et=Ot/(2*Math.PI)*Math.asin(1):Et=Ot/(2*Math.PI)*Math.asin(bt/xt),{a:xt,c:bt,p:Ot,s:Et}}function nt(xt,bt,Ot){return xt.a*Math.pow(2,10*(bt-=1))*Math.sin((bt*Ot-xt.s)*(2*Math.PI)/xt.p)}function lt(xt,bt,Ot,Et){return Ot*((xt=xt/Et-1)*xt*xt+1)+bt}function ft(xt,bt,Ot,Et){return xt/=Et/2,xt<1?Ot/2*xt*xt*xt+bt:Ot/2*((xt-=2)*xt*xt+2)+bt}function it(xt,bt,Ot,Et){return Ot*(xt/=Et)*xt*xt*xt+bt}function ot(xt,bt,Ot,Et){return-Ot*((xt=xt/Et-1)*xt*xt*xt-1)+bt}function rt(xt,bt,Ot,Et){return xt/=Et/2,xt<1?Ot/2*xt*xt*xt*xt+bt:-Ot/2*((xt-=2)*xt*xt*xt-2)+bt}function st(xt,bt,Ot,Et){return Ot*(xt/=Et)*xt*xt*xt*xt+bt}function ht(xt,bt,Ot,Et){return Ot*((xt=xt/Et-1)*xt*xt*xt*xt+1)+bt}function at(xt,bt,Ot,Et){return xt/=Et/2,xt<1?Ot/2*xt*xt*xt*xt*xt+bt:Ot/2*((xt-=2)*xt*xt*xt*xt+2)+bt}function dt(xt,bt,Ot,Et){return-Ot*Math.cos(xt/Et*(Math.PI/2))+Ot+bt}function gt(xt,bt,Ot,Et){return Ot*Math.sin(xt/Et*(Math.PI/2))+bt}function mt(xt,bt,Ot,Et){return-Ot/2*(Math.cos(Math.PI*xt/Et)-1)+bt}function yt(xt,bt,Ot,Et){return xt===0?bt:Ot*Math.pow(2,10*(xt/Et-1))+bt}function _t(xt,bt,Ot,Et){return xt===Et?bt+Ot:Ot*(-Math.pow(2,-10*xt/Et)+1)+bt}function wt(xt,bt,Ot,Et){return xt===0?bt:xt===Et?bt+Ot:(xt/=Et/2,xt<1?Ot/2*Math.pow(2,10*(xt-1))+bt:Ot/2*(-Math.pow(2,-10*--xt)+2)+bt)}function St(xt,bt,Ot,Et){return-Ot*(Math.sqrt(1-(xt/=Et)*xt)-1)+bt}function Tt(xt,bt,Ot,Et){return Ot*Math.sqrt(1-(xt=xt/Et-1)*xt)+bt}function Dt(xt,bt,Ot,Et){return xt/=Et/2,xt<1?-Ot/2*(Math.sqrt(1-xt*xt)-1)+bt:Ot/2*(Math.sqrt(1-(xt-=2)*xt)+1)+bt}function Mt(xt,bt,Ot,Et){var $t=1.70158,kt=0,Ct=Ot;if(xt===0)return bt;if(xt/=Et,xt===1)return bt+Ot;kt||(kt=Et*.3);var Pt=ut(Ct,Ot,kt,$t);return-nt(Pt,xt,Et)+bt}function Ht(xt,bt,Ot,Et){var $t=1.70158,kt=0,Ct=Ot;if(xt===0)return bt;if(xt/=Et,xt===1)return bt+Ot;kt||(kt=Et*.3);var Pt=ut(Ct,Ot,kt,$t);return Pt.a*Math.pow(2,-10*xt)*Math.sin((xt*Et-Pt.s)*(2*Math.PI)/Pt.p)+Pt.c+bt}function Gt(xt,bt,Ot,Et){var $t=1.70158,kt=0,Ct=Ot;if(xt===0)return bt;if(xt/=Et/2,xt===2)return bt+Ot;kt||(kt=Et*(.3*1.5));var Pt=ut(Ct,Ot,kt,$t);return xt<1?-.5*nt(Pt,xt,Et)+bt:Pt.a*Math.pow(2,-10*(xt-=1))*Math.sin((xt*Et-Pt.s)*(2*Math.PI)/Pt.p)*.5+Pt.c+bt}function Zt(xt,bt,Ot,Et,$t){return $t===void 0&&($t=1.70158),Ot*(xt/=Et)*xt*(($t+1)*xt-$t)+bt}function Yt(xt,bt,Ot,Et,$t){return $t===void 0&&($t=1.70158),Ot*((xt=xt/Et-1)*xt*(($t+1)*xt+$t)+1)+bt}function Kt(xt,bt,Ot,Et,$t){return $t===void 0&&($t=1.70158),xt/=Et/2,xt<1?Ot/2*(xt*xt*((($t*=1.525)+1)*xt-$t))+bt:Ot/2*((xt-=2)*xt*((($t*=1.525)+1)*xt+$t)+2)+bt}function Jt(xt,bt,Ot,Et){return Ot-sn(Et-xt,0,Ot,Et)+bt}function sn(xt,bt,Ot,Et){return(xt/=Et)<1/2.75?Ot*(7.5625*xt*xt)+bt:xt<2/2.75?Ot*(7.5625*(xt-=1.5/2.75)*xt+.75)+bt:xt<2.5/2.75?Ot*(7.5625*(xt-=2.25/2.75)*xt+.9375)+bt:Ot*(7.5625*(xt-=2.625/2.75)*xt+.984375)+bt}function Ft(xt,bt,Ot,Et){return xt<Et/2?Jt(xt*2,0,Ot,Et)*.5+bt:sn(xt*2-Et,0,Ot,Et)*.5+Ot*.5+bt}_e.util.ease={easeInQuad:function(xt,bt,Ot,Et){return Ot*(xt/=Et)*xt+bt},easeOutQuad:function(xt,bt,Ot,Et){return-Ot*(xt/=Et)*(xt-2)+bt},easeInOutQuad:function(xt,bt,Ot,Et){return xt/=Et/2,xt<1?Ot/2*xt*xt+bt:-Ot/2*(--xt*(xt-2)-1)+bt},easeInCubic:function(xt,bt,Ot,Et){return Ot*(xt/=Et)*xt*xt+bt},easeOutCubic:lt,easeInOutCubic:ft,easeInQuart:it,easeOutQuart:ot,easeInOutQuart:rt,easeInQuint:st,easeOutQuint:ht,easeInOutQuint:at,easeInSine:dt,easeOutSine:gt,easeInOutSine:mt,easeInExpo:yt,easeOutExpo:_t,easeInOutExpo:wt,easeInCirc:St,easeOutCirc:Tt,easeInOutCirc:Dt,easeInElastic:Mt,easeOutElastic:Ht,easeInOutElastic:Gt,easeInBack:Zt,easeOutBack:Yt,easeInOutBack:Kt,easeInBounce:Jt,easeOutBounce:sn,easeInOutBounce:Ft}}(),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.util.object.clone,it=nt.util.toFixed,ot=nt.util.parseUnit,rt=nt.util.multiplyTransformMatrices,st=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],ht=["symbol","image","marker","pattern","view","svg"],at=["pattern","defs","symbol","metadata","clipPath","mask","desc"],dt=["symbol","g","a","svg","clipPath","defs"],gt={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},mt={stroke:"strokeOpacity",fill:"fillOpacity"},yt="font-size",_t="clip-path";nt.svgValidTagNamesRegEx=Tt(st),nt.svgViewBoxElementsRegEx=Tt(ht),nt.svgInvalidAncestorsRegEx=Tt(at),nt.svgValidParentsRegEx=Tt(dt),nt.cssRules={},nt.gradientDefs={},nt.clipPaths={};function wt(kt){return kt in gt?gt[kt]:kt}function St(kt,Ct,Pt,jt){var Nt=Array.isArray(Ct),Lt;if((kt==="fill"||kt==="stroke")&&Ct==="none")Ct="";else{if(kt==="strokeUniform")return Ct==="non-scaling-stroke";if(kt==="strokeDashArray")Ct==="none"?Ct=null:Ct=Ct.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(kt==="transformMatrix")Pt&&Pt.transformMatrix?Ct=rt(Pt.transformMatrix,nt.parseTransformAttribute(Ct)):Ct=nt.parseTransformAttribute(Ct);else if(kt==="visible")Ct=Ct!=="none"&&Ct!=="hidden",Pt&&Pt.visible===!1&&(Ct=!1);else if(kt==="opacity")Ct=parseFloat(Ct),Pt&&typeof Pt.opacity<"u"&&(Ct*=Pt.opacity);else if(kt==="textAnchor")Ct=Ct==="start"?"left":Ct==="end"?"right":"center";else if(kt==="charSpacing")Lt=ot(Ct,jt)/jt*1e3;else if(kt==="paintFirst"){var Wt=Ct.indexOf("fill"),Xt=Ct.indexOf("stroke"),Ct="fill";(Wt>-1&&Xt>-1&&Xt<Wt||Wt===-1&&Xt>-1)&&(Ct="stroke")}else{if(kt==="href"||kt==="xlink:href"||kt==="font")return Ct;if(kt==="imageSmoothing")return Ct==="optimizeQuality";Lt=Nt?Ct.map(ot):ot(Ct,jt)}}return!Nt&&isNaN(Lt)?Ct:Lt}function Tt(kt){return new RegExp("^("+kt.join("|")+")\\b","i")}function Dt(kt){for(var Ct in mt)if(!(typeof kt[mt[Ct]]>"u"||kt[Ct]==="")){if(typeof kt[Ct]>"u"){if(!nt.Object.prototype[Ct])continue;kt[Ct]=nt.Object.prototype[Ct]}if(kt[Ct].indexOf("url(")!==0){var Pt=new nt.Color(kt[Ct]);kt[Ct]=Pt.setAlpha(it(Pt.getAlpha()*kt[mt[Ct]],2)).toRgba()}}return kt}function Mt(kt,Ct){var Pt,jt=[],Nt,Lt,Wt;for(Lt=0,Wt=Ct.length;Lt<Wt;Lt++)Pt=Ct[Lt],Nt=kt.getElementsByTagName(Pt),jt=jt.concat(Array.prototype.slice.call(Nt));return jt}nt.parseTransformAttribute=function(){function kt(Bt,cn){var dn=nt.util.cos(cn[0]),pn=nt.util.sin(cn[0]),mn=0,gn=0;cn.length===3&&(mn=cn[1],gn=cn[2]),Bt[0]=dn,Bt[1]=pn,Bt[2]=-pn,Bt[3]=dn,Bt[4]=mn-(dn*mn-pn*gn),Bt[5]=gn-(pn*mn+dn*gn)}function Ct(Bt,cn){var dn=cn[0],pn=cn.length===2?cn[1]:cn[0];Bt[0]=dn,Bt[3]=pn}function Pt(Bt,cn,dn){Bt[dn]=Math.tan(nt.util.degreesToRadians(cn[0]))}function jt(Bt,cn){Bt[4]=cn[0],cn.length===2&&(Bt[5]=cn[1])}var Nt=nt.iMatrix,Lt=nt.reNum,Wt=nt.commaWsp,Xt="(?:(skewX)\\s*\\(\\s*("+Lt+")\\s*\\))",Qt="(?:(skewY)\\s*\\(\\s*("+Lt+")\\s*\\))",Rt="(?:(rotate)\\s*\\(\\s*("+Lt+")(?:"+Wt+"("+Lt+")"+Wt+"("+Lt+"))?\\s*\\))",At="(?:(scale)\\s*\\(\\s*("+Lt+")(?:"+Wt+"("+Lt+"))?\\s*\\))",zt="(?:(translate)\\s*\\(\\s*("+Lt+")(?:"+Wt+"("+Lt+"))?\\s*\\))",Ut="(?:(matrix)\\s*\\(\\s*("+Lt+")"+Wt+"("+Lt+")"+Wt+"("+Lt+")"+Wt+"("+Lt+")"+Wt+"("+Lt+")"+Wt+"("+Lt+")\\s*\\))",It="(?:"+Ut+"|"+zt+"|"+At+"|"+Rt+"|"+Xt+"|"+Qt+")",Vt="(?:"+It+"(?:"+Wt+"*"+It+")*)",qt="^\\s*(?:"+Vt+"?)\\s*$",hn=new RegExp(qt),ln=new RegExp(It,"g");return function(Bt){var cn=Nt.concat(),dn=[];if(!Bt||Bt&&!hn.test(Bt))return cn;Bt.replace(ln,function(mn){var gn=new RegExp(It).exec(mn).filter(function(wn){return!!wn}),yn=gn[1],vn=gn.slice(2).map(parseFloat);switch(yn){case"translate":jt(cn,vn);break;case"rotate":vn[0]=nt.util.degreesToRadians(vn[0]),kt(cn,vn);break;case"scale":Ct(cn,vn);break;case"skewX":Pt(cn,vn,2);break;case"skewY":Pt(cn,vn,1);break;case"matrix":cn=vn;break}dn.push(cn.concat()),cn=Nt.concat()});for(var pn=dn[0];dn.length>1;)dn.shift(),pn=nt.util.multiplyTransformMatrices(pn,dn[0]);return pn}}();function Ht(kt,Ct){var Pt,jt;kt.replace(/;\s*$/,"").split(";").forEach(function(Nt){var Lt=Nt.split(":");Pt=Lt[0].trim().toLowerCase(),jt=Lt[1].trim(),Ct[Pt]=jt})}function Gt(kt,Ct){var Pt,jt;for(var Nt in kt)typeof kt[Nt]>"u"||(Pt=Nt.toLowerCase(),jt=kt[Nt],Ct[Pt]=jt)}function Zt(kt,Ct){var Pt={};for(var jt in nt.cssRules[Ct])if(Yt(kt,jt.split(" ")))for(var Nt in nt.cssRules[Ct][jt])Pt[Nt]=nt.cssRules[Ct][jt][Nt];return Pt}function Yt(kt,Ct){var Pt,jt=!0;return Pt=Jt(kt,Ct.pop()),Pt&&Ct.length&&(jt=Kt(kt,Ct)),Pt&&jt&&Ct.length===0}function Kt(kt,Ct){for(var Pt,jt=!0;kt.parentNode&&kt.parentNode.nodeType===1&&Ct.length;)jt&&(Pt=Ct.pop()),kt=kt.parentNode,jt=Jt(kt,Pt);return Ct.length===0}function Jt(kt,Ct){var Pt=kt.nodeName,jt=kt.getAttribute("class"),Nt=kt.getAttribute("id"),Lt,Wt;if(Lt=new RegExp("^"+Pt,"i"),Ct=Ct.replace(Lt,""),Nt&&Ct.length&&(Lt=new RegExp("#"+Nt+"(?![a-zA-Z\\-]+)","i"),Ct=Ct.replace(Lt,"")),jt&&Ct.length)for(jt=jt.split(" "),Wt=jt.length;Wt--;)Lt=new RegExp("\\."+jt[Wt]+"(?![a-zA-Z\\-]+)","i"),Ct=Ct.replace(Lt,"");return Ct.length===0}function sn(kt,Ct){var Pt;if(kt.getElementById&&(Pt=kt.getElementById(Ct)),Pt)return Pt;var jt,Nt,Lt,Wt=kt.getElementsByTagName("*");for(Nt=0,Lt=Wt.length;Nt<Lt;Nt++)if(jt=Wt[Nt],Ct===jt.getAttribute("id"))return jt}function Ft(kt){for(var Ct=Mt(kt,["use","svg:use"]),Pt=0;Ct.length&&Pt<Ct.length;){var jt=Ct[Pt],Nt=jt.getAttribute("xlink:href")||jt.getAttribute("href");if(Nt===null)return;var Lt=Nt.slice(1),Wt=jt.getAttribute("x")||0,Xt=jt.getAttribute("y")||0,Qt=sn(kt,Lt).cloneNode(!0),Rt=(Qt.getAttribute("transform")||"")+" translate("+Wt+", "+Xt+")",At,zt=Ct.length,Ut,It,Vt,qt,hn=nt.svgNS;if(bt(Qt),/^svg$/i.test(Qt.nodeName)){var ln=Qt.ownerDocument.createElementNS(hn,"g");for(It=0,Vt=Qt.attributes,qt=Vt.length;It<qt;It++)Ut=Vt.item(It),ln.setAttributeNS(hn,Ut.nodeName,Ut.nodeValue);for(;Qt.firstChild;)ln.appendChild(Qt.firstChild);Qt=ln}for(It=0,Vt=jt.attributes,qt=Vt.length;It<qt;It++)Ut=Vt.item(It),!(Ut.nodeName==="x"||Ut.nodeName==="y"||Ut.nodeName==="xlink:href"||Ut.nodeName==="href")&&(Ut.nodeName==="transform"?Rt=Ut.nodeValue+" "+Rt:Qt.setAttribute(Ut.nodeName,Ut.nodeValue));Qt.setAttribute("transform",Rt),Qt.setAttribute("instantiated_by_use","1"),Qt.removeAttribute("id"),At=jt.parentNode,At.replaceChild(Qt,jt),Ct.length===zt&&Pt++}}var xt=new RegExp("^\\s*("+nt.reNum+"+)\\s*,?\\s*("+nt.reNum+"+)\\s*,?\\s*("+nt.reNum+"+)\\s*,?\\s*("+nt.reNum+"+)\\s*$");function bt(kt){if(!nt.svgViewBoxElementsRegEx.test(kt.nodeName))return{};var Ct=kt.getAttribute("viewBox"),Pt=1,jt=1,Nt=0,Lt=0,Wt,Xt,Qt,Rt,At=kt.getAttribute("width"),zt=kt.getAttribute("height"),Ut=kt.getAttribute("x")||0,It=kt.getAttribute("y")||0,Vt=kt.getAttribute("preserveAspectRatio")||"",qt=!Ct||!(Ct=Ct.match(xt)),hn=!At||!zt||At==="100%"||zt==="100%",ln=qt&&hn,Bt={},cn="",dn=0,pn=0;if(Bt.width=0,Bt.height=0,Bt.toBeParsed=ln,qt&&(Ut||It)&&kt.parentNode&&kt.parentNode.nodeName!=="#document"&&(cn=" translate("+ot(Ut)+" "+ot(It)+") ",Qt=(kt.getAttribute("transform")||"")+cn,kt.setAttribute("transform",Qt),kt.removeAttribute("x"),kt.removeAttribute("y")),ln)return Bt;if(qt)return Bt.width=ot(At),Bt.height=ot(zt),Bt;if(Nt=-parseFloat(Ct[1]),Lt=-parseFloat(Ct[2]),Wt=parseFloat(Ct[3]),Xt=parseFloat(Ct[4]),Bt.minX=Nt,Bt.minY=Lt,Bt.viewBoxWidth=Wt,Bt.viewBoxHeight=Xt,hn?(Bt.width=Wt,Bt.height=Xt):(Bt.width=ot(At),Bt.height=ot(zt),Pt=Bt.width/Wt,jt=Bt.height/Xt),Vt=nt.util.parsePreserveAspectRatioAttribute(Vt),Vt.alignX!=="none"&&(Vt.meetOrSlice==="meet"&&(jt=Pt=Pt>jt?jt:Pt),Vt.meetOrSlice==="slice"&&(jt=Pt=Pt>jt?Pt:jt),dn=Bt.width-Wt*Pt,pn=Bt.height-Xt*Pt,Vt.alignX==="Mid"&&(dn/=2),Vt.alignY==="Mid"&&(pn/=2),Vt.alignX==="Min"&&(dn=0),Vt.alignY==="Min"&&(pn=0)),Pt===1&&jt===1&&Nt===0&&Lt===0&&Ut===0&&It===0)return Bt;if((Ut||It)&&kt.parentNode.nodeName!=="#document"&&(cn=" translate("+ot(Ut)+" "+ot(It)+") "),Qt=cn+" matrix("+Pt+" 0 0 "+jt+" "+(Nt*Pt+dn)+" "+(Lt*jt+pn)+") ",kt.nodeName==="svg"){for(Rt=kt.ownerDocument.createElementNS(nt.svgNS,"g");kt.firstChild;)Rt.appendChild(kt.firstChild);kt.appendChild(Rt)}else Rt=kt,Rt.removeAttribute("x"),Rt.removeAttribute("y"),Qt=Rt.getAttribute("transform")+Qt;return Rt.setAttribute("transform",Qt),Bt}function Ot(kt,Ct){for(;kt&&(kt=kt.parentNode);)if(kt.nodeName&&Ct.test(kt.nodeName.replace("svg:",""))&&!kt.getAttribute("instantiated_by_use"))return!0;return!1}nt.parseSVGDocument=function(kt,Ct,Pt,jt){if(kt){Ft(kt);var Nt=nt.Object.__uid++,Lt,Wt,Xt=bt(kt),Qt=nt.util.toArray(kt.getElementsByTagName("*"));if(Xt.crossOrigin=jt&&jt.crossOrigin,Xt.svgUid=Nt,Qt.length===0&&nt.isLikelyNode){Qt=kt.selectNodes('//*[name(.)!="svg"]');var Rt=[];for(Lt=0,Wt=Qt.length;Lt<Wt;Lt++)Rt[Lt]=Qt[Lt];Qt=Rt}var At=Qt.filter(function(Ut){return bt(Ut),nt.svgValidTagNamesRegEx.test(Ut.nodeName.replace("svg:",""))&&!Ot(Ut,nt.svgInvalidAncestorsRegEx)});if(!At||At&&!At.length){Ct&&Ct([],{});return}var zt={};Qt.filter(function(Ut){return Ut.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Ut){var It=Ut.getAttribute("id");zt[It]=nt.util.toArray(Ut.getElementsByTagName("*")).filter(function(Vt){return nt.svgValidTagNamesRegEx.test(Vt.nodeName.replace("svg:",""))})}),nt.gradientDefs[Nt]=nt.getGradientDefs(kt),nt.cssRules[Nt]=nt.getCSSRules(kt),nt.clipPaths[Nt]=zt,nt.parseElements(At,function(Ut,It){Ct&&(Ct(Ut,Xt,It,Qt),delete nt.gradientDefs[Nt],delete nt.cssRules[Nt],delete nt.clipPaths[Nt])},ft(Xt),Pt,jt)}};function Et(kt,Ct){var Pt=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],jt="xlink:href",Nt=Ct.getAttribute(jt).slice(1),Lt=sn(kt,Nt);if(Lt&&Lt.getAttribute(jt)&&Et(kt,Lt),Pt.forEach(function(Xt){Lt&&!Ct.hasAttribute(Xt)&&Lt.hasAttribute(Xt)&&Ct.setAttribute(Xt,Lt.getAttribute(Xt))}),!Ct.children.length)for(var Wt=Lt.cloneNode(!0);Wt.firstChild;)Ct.appendChild(Wt.firstChild);Ct.removeAttribute(jt)}var $t=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+nt.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+nt.reNum+"))?\\s+(.*)");lt(nt,{parseFontDeclaration:function(kt,Ct){var Pt=kt.match($t);if(Pt){var jt=Pt[1],Nt=Pt[3],Lt=Pt[4],Wt=Pt[5],Xt=Pt[6];jt&&(Ct.fontStyle=jt),Nt&&(Ct.fontWeight=isNaN(parseFloat(Nt))?Nt:parseFloat(Nt)),Lt&&(Ct.fontSize=ot(Lt)),Xt&&(Ct.fontFamily=Xt),Wt&&(Ct.lineHeight=Wt==="normal"?1:Wt)}},getGradientDefs:function(kt){var Ct=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],Pt=Mt(kt,Ct),jt,Nt=0,Lt={};for(Nt=Pt.length;Nt--;)jt=Pt[Nt],jt.getAttribute("xlink:href")&&Et(kt,jt),Lt[jt.getAttribute("id")]=jt;return Lt},parseAttributes:function(kt,Ct,Pt){if(kt){var jt,Nt={},Lt,Wt;typeof Pt>"u"&&(Pt=kt.getAttribute("svgUid")),kt.parentNode&&nt.svgValidParentsRegEx.test(kt.parentNode.nodeName)&&(Nt=nt.parseAttributes(kt.parentNode,Ct,Pt));var Xt=Ct.reduce(function(Vt,qt){return jt=kt.getAttribute(qt),jt&&(Vt[qt]=jt),Vt},{}),Qt=lt(Zt(kt,Pt),nt.parseStyleAttribute(kt));Xt=lt(Xt,Qt),Qt[_t]&&kt.setAttribute(_t,Qt[_t]),Lt=Wt=Nt.fontSize||nt.Text.DEFAULT_SVG_FONT_SIZE,Xt[yt]&&(Xt[yt]=Lt=ot(Xt[yt],Wt));var Rt,At,zt={};for(var Ut in Xt)Rt=wt(Ut),At=St(Rt,Xt[Ut],Nt,Lt),zt[Rt]=At;zt&&zt.font&&nt.parseFontDeclaration(zt.font,zt);var It=lt(Nt,zt);return nt.svgValidParentsRegEx.test(kt.nodeName)?It:Dt(It)}},parseElements:function(kt,Ct,Pt,jt,Nt){new nt.ElementsParser(kt,Ct,Pt,jt,Nt).parse()},parseStyleAttribute:function(kt){var Ct={},Pt=kt.getAttribute("style");return Pt&&(typeof Pt=="string"?Ht(Pt,Ct):Gt(Pt,Ct)),Ct},parsePointsAttribute:function(kt){if(!kt)return null;kt=kt.replace(/,/g," ").trim(),kt=kt.split(/\s+/);var Ct=[],Pt,jt;for(Pt=0,jt=kt.length;Pt<jt;Pt+=2)Ct.push({x:parseFloat(kt[Pt]),y:parseFloat(kt[Pt+1])});return Ct},getCSSRules:function(kt){var Ct=kt.getElementsByTagName("style"),Pt,jt,Nt={},Lt;for(Pt=0,jt=Ct.length;Pt<jt;Pt++){var Wt=Ct[Pt].textContent;Wt=Wt.replace(/\/\*[\s\S]*?\*\//g,""),Wt.trim()!==""&&(Lt=Wt.split("}"),Lt=Lt.filter(function(Xt){return Xt.trim()}),Lt.forEach(function(Xt){var Qt=Xt.split("{"),Rt={},At=Qt[1].trim(),zt=At.split(";").filter(function(qt){return qt.trim()});for(Pt=0,jt=zt.length;Pt<jt;Pt++){var Ut=zt[Pt].split(":"),It=Ut[0].trim(),Vt=Ut[1].trim();Rt[It]=Vt}Xt=Qt[0].trim(),Xt.split(",").forEach(function(qt){qt=qt.replace(/^svg/i,"").trim(),qt!==""&&(Nt[qt]?nt.util.object.extend(Nt[qt],Rt):Nt[qt]=nt.util.object.clone(Rt))})}))}return Nt},loadSVGFromURL:function(kt,Ct,Pt,jt){kt=kt.replace(/^\n\s*/,"").trim(),new nt.util.request(kt,{method:"get",onComplete:Nt});function Nt(Lt){var Wt=Lt.responseXML;if(!Wt||!Wt.documentElement)return Ct&&Ct(null),!1;nt.parseSVGDocument(Wt.documentElement,function(Xt,Qt,Rt,At){Ct&&Ct(Xt,Qt,Rt,At)},Pt,jt)}},loadSVGFromString:function(kt,Ct,Pt,jt){var Nt=new nt.window.DOMParser,Lt=Nt.parseFromString(kt.trim(),"text/xml");nt.parseSVGDocument(Lt.documentElement,function(Wt,Xt,Qt,Rt){Ct(Wt,Xt,Qt,Rt)},Pt,jt)}})}($),_e.ElementsParser=function(ut,nt,lt,ft,it,ot){this.elements=ut,this.callback=nt,this.options=lt,this.reviver=ft,this.svgUid=lt&&lt.svgUid||0,this.parsingOptions=it,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=ot},function(ut){ut.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},ut.createObjects=function(){var nt=this;this.elements.forEach(function(lt,ft){lt.setAttribute("svgUid",nt.svgUid),nt.createObject(lt,ft)})},ut.findTag=function(nt){return _e[_e.util.string.capitalize(nt.tagName.replace("svg:",""))]},ut.createObject=function(nt,lt){var ft=this.findTag(nt);if(ft&&ft.fromElement)try{ft.fromElement(nt,this.createCallback(lt,nt),this.options)}catch(it){_e.log(it)}else this.checkIfDone()},ut.createCallback=function(nt,lt){var ft=this;return function(it){var ot;ft.resolveGradient(it,lt,"fill"),ft.resolveGradient(it,lt,"stroke"),it instanceof _e.Image&&it._originalElement&&(ot=it.parsePreserveAspectRatioAttribute(lt)),it._removeTransformMatrix(ot),ft.resolveClipPath(it,lt),ft.reviver&&ft.reviver(lt,it),ft.instances[nt]=it,ft.checkIfDone()}},ut.extractPropertyDefinition=function(nt,lt,ft){var it=nt[lt],ot=this.regexUrl;if(ot.test(it)){ot.lastIndex=0;var rt=ot.exec(it)[1];return ot.lastIndex=0,_e[ft][this.svgUid][rt]}},ut.resolveGradient=function(nt,lt,ft){var it=this.extractPropertyDefinition(nt,ft,"gradientDefs");if(it){var ot=lt.getAttribute(ft+"-opacity"),rt=_e.Gradient.fromElement(it,nt,ot,this.options);nt.set(ft,rt)}},ut.createClipPathCallback=function(nt,lt){return function(ft){ft._removeTransformMatrix(),ft.fillRule=ft.clipRule,lt.push(ft)}},ut.resolveClipPath=function(nt,lt){var ft=this.extractPropertyDefinition(nt,"clipPath","clipPaths"),it,ot,rt,st,ht,at;if(ft){st=[],rt=_e.util.invertTransform(nt.calcTransformMatrix());for(var dt=ft[0].parentNode,gt=lt;gt.parentNode&&gt.getAttribute("clip-path")!==nt.clipPath;)gt=gt.parentNode;gt.parentNode.appendChild(dt);for(var mt=0;mt<ft.length;mt++)it=ft[mt],ot=this.findTag(it),ot.fromElement(it,this.createClipPathCallback(nt,st),this.options);st.length===1?ft=st[0]:ft=new _e.Group(st),ht=_e.util.multiplyTransformMatrices(rt,ft.calcTransformMatrix()),ft.clipPath&&this.resolveClipPath(ft,gt);var at=_e.util.qrDecompose(ht);ft.flipX=!1,ft.flipY=!1,ft.set("scaleX",at.scaleX),ft.set("scaleY",at.scaleY),ft.angle=at.angle,ft.skewX=at.skewX,ft.skewY=0,ft.setPositionByOrigin({x:at.translateX,y:at.translateY},"center","center"),nt.clipPath=ft}else delete nt.clipPath},ut.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(nt){return nt!=null}),this.callback(this.instances,this.elements))}}(_e.ElementsParser.prototype),function(ut){var nt=ut.fabric||(ut.fabric={});if(nt.Point){nt.warn("fabric.Point is already defined");return}nt.Point=lt;function lt(ft,it){this.x=ft,this.y=it}lt.prototype={type:"point",constructor:lt,add:function(ft){return new lt(this.x+ft.x,this.y+ft.y)},addEquals:function(ft){return this.x+=ft.x,this.y+=ft.y,this},scalarAdd:function(ft){return new lt(this.x+ft,this.y+ft)},scalarAddEquals:function(ft){return this.x+=ft,this.y+=ft,this},subtract:function(ft){return new lt(this.x-ft.x,this.y-ft.y)},subtractEquals:function(ft){return this.x-=ft.x,this.y-=ft.y,this},scalarSubtract:function(ft){return new lt(this.x-ft,this.y-ft)},scalarSubtractEquals:function(ft){return this.x-=ft,this.y-=ft,this},multiply:function(ft){return new lt(this.x*ft,this.y*ft)},multiplyEquals:function(ft){return this.x*=ft,this.y*=ft,this},divide:function(ft){return new lt(this.x/ft,this.y/ft)},divideEquals:function(ft){return this.x/=ft,this.y/=ft,this},eq:function(ft){return this.x===ft.x&&this.y===ft.y},lt:function(ft){return this.x<ft.x&&this.y<ft.y},lte:function(ft){return this.x<=ft.x&&this.y<=ft.y},gt:function(ft){return this.x>ft.x&&this.y>ft.y},gte:function(ft){return this.x>=ft.x&&this.y>=ft.y},lerp:function(ft,it){return typeof it>"u"&&(it=.5),it=Math.max(Math.min(1,it),0),new lt(this.x+(ft.x-this.x)*it,this.y+(ft.y-this.y)*it)},distanceFrom:function(ft){var it=this.x-ft.x,ot=this.y-ft.y;return Math.sqrt(it*it+ot*ot)},midPointFrom:function(ft){return this.lerp(ft)},min:function(ft){return new lt(Math.min(this.x,ft.x),Math.min(this.y,ft.y))},max:function(ft){return new lt(Math.max(this.x,ft.x),Math.max(this.y,ft.y))},toString:function(){return this.x+","+this.y},setXY:function(ft,it){return this.x=ft,this.y=it,this},setX:function(ft){return this.x=ft,this},setY:function(ft){return this.y=ft,this},setFromPoint:function(ft){return this.x=ft.x,this.y=ft.y,this},swap:function(ft){var it=this.x,ot=this.y;this.x=ft.x,this.y=ft.y,ft.x=it,ft.y=ot},clone:function(){return new lt(this.x,this.y)}}}($),function(ut){var nt=ut.fabric||(ut.fabric={});if(nt.Intersection){nt.warn("fabric.Intersection is already defined");return}function lt(ft){this.status=ft,this.points=[]}nt.Intersection=lt,nt.Intersection.prototype={constructor:lt,appendPoint:function(ft){return this.points.push(ft),this},appendPoints:function(ft){return this.points=this.points.concat(ft),this}},nt.Intersection.intersectLineLine=function(ft,it,ot,rt){var st,ht=(rt.x-ot.x)*(ft.y-ot.y)-(rt.y-ot.y)*(ft.x-ot.x),at=(it.x-ft.x)*(ft.y-ot.y)-(it.y-ft.y)*(ft.x-ot.x),dt=(rt.y-ot.y)*(it.x-ft.x)-(rt.x-ot.x)*(it.y-ft.y);if(dt!==0){var gt=ht/dt,mt=at/dt;0<=gt&&gt<=1&&0<=mt&&mt<=1?(st=new lt("Intersection"),st.appendPoint(new nt.Point(ft.x+gt*(it.x-ft.x),ft.y+gt*(it.y-ft.y)))):st=new lt}else ht===0||at===0?st=new lt("Coincident"):st=new lt("Parallel");return st},nt.Intersection.intersectLinePolygon=function(ft,it,ot){var rt=new lt,st=ot.length,ht,at,dt,gt;for(gt=0;gt<st;gt++)ht=ot[gt],at=ot[(gt+1)%st],dt=lt.intersectLineLine(ft,it,ht,at),rt.appendPoints(dt.points);return rt.points.length>0&&(rt.status="Intersection"),rt},nt.Intersection.intersectPolygonPolygon=function(ft,it){var ot=new lt,rt=ft.length,st;for(st=0;st<rt;st++){var ht=ft[st],at=ft[(st+1)%rt],dt=lt.intersectLinePolygon(ht,at,it);ot.appendPoints(dt.points)}return ot.points.length>0&&(ot.status="Intersection"),ot},nt.Intersection.intersectPolygonRectangle=function(ft,it,ot){var rt=it.min(ot),st=it.max(ot),ht=new nt.Point(st.x,rt.y),at=new nt.Point(rt.x,st.y),dt=lt.intersectLinePolygon(rt,ht,ft),gt=lt.intersectLinePolygon(ht,st,ft),mt=lt.intersectLinePolygon(st,at,ft),yt=lt.intersectLinePolygon(at,rt,ft),_t=new lt;return _t.appendPoints(dt.points),_t.appendPoints(gt.points),_t.appendPoints(mt.points),_t.appendPoints(yt.points),_t.points.length>0&&(_t.status="Intersection"),_t}}($),function(ut){var nt=ut.fabric||(ut.fabric={});if(nt.Color){nt.warn("fabric.Color is already defined.");return}function lt(it){it?this._tryParsingColor(it):this.setSource([0,0,0,1])}nt.Color=lt,nt.Color.prototype={_tryParsingColor:function(it){var ot;it in lt.colorNameMap&&(it=lt.colorNameMap[it]),it==="transparent"&&(ot=[255,255,255,0]),ot||(ot=lt.sourceFromHex(it)),ot||(ot=lt.sourceFromRgb(it)),ot||(ot=lt.sourceFromHsl(it)),ot||(ot=[0,0,0,1]),ot&&this.setSource(ot)},_rgbToHsl:function(it,ot,rt){it/=255,ot/=255,rt/=255;var st,ht,at,dt=nt.util.array.max([it,ot,rt]),gt=nt.util.array.min([it,ot,rt]);if(at=(dt+gt)/2,dt===gt)st=ht=0;else{var mt=dt-gt;switch(ht=at>.5?mt/(2-dt-gt):mt/(dt+gt),dt){case it:st=(ot-rt)/mt+(ot<rt?6:0);break;case ot:st=(rt-it)/mt+2;break;case rt:st=(it-ot)/mt+4;break}st/=6}return[Math.round(st*360),Math.round(ht*100),Math.round(at*100)]},getSource:function(){return this._source},setSource:function(it){this._source=it},toRgb:function(){var it=this.getSource();return"rgb("+it[0]+","+it[1]+","+it[2]+")"},toRgba:function(){var it=this.getSource();return"rgba("+it[0]+","+it[1]+","+it[2]+","+it[3]+")"},toHsl:function(){var it=this.getSource(),ot=this._rgbToHsl(it[0],it[1],it[2]);return"hsl("+ot[0]+","+ot[1]+"%,"+ot[2]+"%)"},toHsla:function(){var it=this.getSource(),ot=this._rgbToHsl(it[0],it[1],it[2]);return"hsla("+ot[0]+","+ot[1]+"%,"+ot[2]+"%,"+it[3]+")"},toHex:function(){var it=this.getSource(),ot,rt,st;return ot=it[0].toString(16),ot=ot.length===1?"0"+ot:ot,rt=it[1].toString(16),rt=rt.length===1?"0"+rt:rt,st=it[2].toString(16),st=st.length===1?"0"+st:st,ot.toUpperCase()+rt.toUpperCase()+st.toUpperCase()},toHexa:function(){var it=this.getSource(),ot;return ot=Math.round(it[3]*255),ot=ot.toString(16),ot=ot.length===1?"0"+ot:ot,this.toHex()+ot.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(it){var ot=this.getSource();return ot[3]=it,this.setSource(ot),this},toGrayscale:function(){var it=this.getSource(),ot=parseInt((it[0]*.3+it[1]*.59+it[2]*.11).toFixed(0),10),rt=it[3];return this.setSource([ot,ot,ot,rt]),this},toBlackWhite:function(it){var ot=this.getSource(),rt=(ot[0]*.3+ot[1]*.59+ot[2]*.11).toFixed(0),st=ot[3];return it=it||127,rt=Number(rt)<Number(it)?0:255,this.setSource([rt,rt,rt,st]),this},overlayWith:function(it){it instanceof lt||(it=new lt(it));var ot=[],rt=this.getAlpha(),st=.5,ht=this.getSource(),at=it.getSource(),dt;for(dt=0;dt<3;dt++)ot.push(Math.round(ht[dt]*(1-st)+at[dt]*st));return ot[3]=rt,this.setSource(ot),this}},nt.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,nt.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,nt.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,nt.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function ft(it,ot,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?it+(ot-it)*6*rt:rt<1/2?ot:rt<2/3?it+(ot-it)*(2/3-rt)*6:it}nt.Color.fromRgb=function(it){return lt.fromSource(lt.sourceFromRgb(it))},nt.Color.sourceFromRgb=function(it){var ot=it.match(lt.reRGBa);if(ot){var rt=parseInt(ot[1],10)/(/%$/.test(ot[1])?100:1)*(/%$/.test(ot[1])?255:1),st=parseInt(ot[2],10)/(/%$/.test(ot[2])?100:1)*(/%$/.test(ot[2])?255:1),ht=parseInt(ot[3],10)/(/%$/.test(ot[3])?100:1)*(/%$/.test(ot[3])?255:1);return[parseInt(rt,10),parseInt(st,10),parseInt(ht,10),ot[4]?parseFloat(ot[4]):1]}},nt.Color.fromRgba=lt.fromRgb,nt.Color.fromHsl=function(it){return lt.fromSource(lt.sourceFromHsl(it))},nt.Color.sourceFromHsl=function(it){var ot=it.match(lt.reHSLa);if(ot){var rt=(parseFloat(ot[1])%360+360)%360/360,st=parseFloat(ot[2])/(/%$/.test(ot[2])?100:1),ht=parseFloat(ot[3])/(/%$/.test(ot[3])?100:1),at,dt,gt;if(st===0)at=dt=gt=ht;else{var mt=ht<=.5?ht*(st+1):ht+st-ht*st,yt=ht*2-mt;at=ft(yt,mt,rt+1/3),dt=ft(yt,mt,rt),gt=ft(yt,mt,rt-1/3)}return[Math.round(at*255),Math.round(dt*255),Math.round(gt*255),ot[4]?parseFloat(ot[4]):1]}},nt.Color.fromHsla=lt.fromHsl,nt.Color.fromHex=function(it){return lt.fromSource(lt.sourceFromHex(it))},nt.Color.sourceFromHex=function(it){if(it.match(lt.reHex)){var ot=it.slice(it.indexOf("#")+1),rt=ot.length===3||ot.length===4,st=ot.length===8||ot.length===4,ht=rt?ot.charAt(0)+ot.charAt(0):ot.substring(0,2),at=rt?ot.charAt(1)+ot.charAt(1):ot.substring(2,4),dt=rt?ot.charAt(2)+ot.charAt(2):ot.substring(4,6),gt=st?rt?ot.charAt(3)+ot.charAt(3):ot.substring(6,8):"FF";return[parseInt(ht,16),parseInt(at,16),parseInt(dt,16),parseFloat((parseInt(gt,16)/255).toFixed(2))]}},nt.Color.fromSource=function(it){var ot=new lt;return ot.setSource(it),ot}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=["e","se","s","sw","w","nw","n","ne","e"],ft=["ns","nesw","ew","nwse"],it={},ot="left",rt="top",st="right",ht="bottom",at="center",dt={top:ht,bottom:rt,left:st,right:ot,center:at},gt=nt.util.radiansToDegrees,mt=Math.sign||function(Rt){return(Rt>0)-(Rt<0)||+Rt};function yt(Rt,At){var zt=Rt.angle+gt(Math.atan2(At.y,At.x))+360;return Math.round(zt%360/45)}function _t(Rt,At){var zt=At.transform.target,Ut=zt.canvas,It=nt.util.object.clone(At);It.target=zt,Ut&&Ut.fire("object:"+Rt,It),zt.fire(Rt,At)}function wt(Rt,At){var zt=At.canvas,Ut=zt.uniScaleKey,It=Rt[Ut];return zt.uniformScaling&&!It||!zt.uniformScaling&&It}function St(Rt){return Rt.originX===at&&Rt.originY===at}function Tt(Rt,At,zt){var Ut=Rt.lockScalingX,It=Rt.lockScalingY;return!!(Ut&&It||!At&&(Ut||It)&&zt||Ut&&At==="x"||It&&At==="y")}function Dt(Rt,At,zt){var Ut="not-allowed",It=wt(Rt,zt),Vt="";if(At.x!==0&&At.y===0?Vt="x":At.x===0&&At.y!==0&&(Vt="y"),Tt(zt,Vt,It))return Ut;var qt=yt(zt,At);return lt[qt]+"-resize"}function Mt(Rt,At,zt){var Ut="not-allowed";if(At.x!==0&&zt.lockSkewingY||At.y!==0&&zt.lockSkewingX)return Ut;var It=yt(zt,At)%4;return ft[It]+"-resize"}function Ht(Rt,At,zt){return Rt[zt.canvas.altActionKey]?it.skewCursorStyleHandler(Rt,At,zt):it.scaleCursorStyleHandler(Rt,At,zt)}function Gt(Rt,At,zt){var Ut=Rt[zt.canvas.altActionKey];if(At.x===0)return Ut?"skewX":"scaleY";if(At.y===0)return Ut?"skewY":"scaleX"}function Zt(Rt,At,zt){return zt.lockRotation?"not-allowed":At.cursorStyle}function Yt(Rt,At,zt,Ut){return{e:Rt,transform:At,pointer:{x:zt,y:Ut}}}function Kt(Rt){return function(At,zt,Ut,It){var Vt=zt.target,qt=Vt.getCenterPoint(),hn=Vt.translateToOriginPoint(qt,zt.originX,zt.originY),ln=Rt(At,zt,Ut,It);return Vt.setPositionByOrigin(hn,zt.originX,zt.originY),ln}}function Jt(Rt,At){return function(zt,Ut,It,Vt){var qt=At(zt,Ut,It,Vt);return qt&&_t(Rt,Yt(zt,Ut,It,Vt)),qt}}function sn(Rt,At,zt,Ut,It){var Vt=Rt.target,qt=Vt.controls[Rt.corner],hn=Vt.canvas.getZoom(),ln=Vt.padding/hn,Bt=Vt.toLocalPoint(new nt.Point(Ut,It),At,zt);return Bt.x>=ln&&(Bt.x-=ln),Bt.x<=-ln&&(Bt.x+=ln),Bt.y>=ln&&(Bt.y-=ln),Bt.y<=ln&&(Bt.y+=ln),Bt.x-=qt.offsetX,Bt.y-=qt.offsetY,Bt}function Ft(Rt){return Rt.flipX!==Rt.flipY}function xt(Rt,At,zt,Ut,It){if(Rt[At]!==0){var Vt=Rt._getTransformedDimensions()[Ut],qt=It/Vt*Rt[zt];Rt.set(zt,qt)}}function bt(Rt,At,zt,Ut){var It=At.target,Vt=It._getTransformedDimensions(0,It.skewY),qt=sn(At,At.originX,At.originY,zt,Ut),hn=Math.abs(qt.x*2)-Vt.x,ln=It.skewX,Bt;hn<2?Bt=0:(Bt=gt(Math.atan2(hn/It.scaleX,Vt.y/It.scaleY)),At.originX===ot&&At.originY===ht&&(Bt=-Bt),At.originX===st&&At.originY===rt&&(Bt=-Bt),Ft(It)&&(Bt=-Bt));var cn=ln!==Bt;if(cn){var dn=It._getTransformedDimensions().y;It.set("skewX",Bt),xt(It,"skewY","scaleY","y",dn)}return cn}function Ot(Rt,At,zt,Ut){var It=At.target,Vt=It._getTransformedDimensions(It.skewX,0),qt=sn(At,At.originX,At.originY,zt,Ut),hn=Math.abs(qt.y*2)-Vt.y,ln=It.skewY,Bt;hn<2?Bt=0:(Bt=gt(Math.atan2(hn/It.scaleY,Vt.x/It.scaleX)),At.originX===ot&&At.originY===ht&&(Bt=-Bt),At.originX===st&&At.originY===rt&&(Bt=-Bt),Ft(It)&&(Bt=-Bt));var cn=ln!==Bt;if(cn){var dn=It._getTransformedDimensions().x;It.set("skewY",Bt),xt(It,"skewX","scaleX","x",dn)}return cn}function Et(Rt,At,zt,Ut){var It=At.target,Vt=It.skewX,qt,hn=At.originY;if(It.lockSkewingX)return!1;if(Vt===0){var ln=sn(At,at,at,zt,Ut);ln.x>0?qt=ot:qt=st}else Vt>0&&(qt=hn===rt?ot:st),Vt<0&&(qt=hn===rt?st:ot),Ft(It)&&(qt=qt===ot?st:ot);At.originX=qt;var Bt=Jt("skewing",Kt(bt));return Bt(Rt,At,zt,Ut)}function $t(Rt,At,zt,Ut){var It=At.target,Vt=It.skewY,qt,hn=At.originX;if(It.lockSkewingY)return!1;if(Vt===0){var ln=sn(At,at,at,zt,Ut);ln.y>0?qt=rt:qt=ht}else Vt>0&&(qt=hn===ot?rt:ht),Vt<0&&(qt=hn===ot?ht:rt),Ft(It)&&(qt=qt===rt?ht:rt);At.originY=qt;var Bt=Jt("skewing",Kt(Ot));return Bt(Rt,At,zt,Ut)}function kt(Rt,At,zt,Ut){var It=At,Vt=It.target,qt=Vt.translateToOriginPoint(Vt.getCenterPoint(),It.originX,It.originY);if(Vt.lockRotation)return!1;var hn=Math.atan2(It.ey-qt.y,It.ex-qt.x),ln=Math.atan2(Ut-qt.y,zt-qt.x),Bt=gt(ln-hn+It.theta),cn=!0;if(Vt.snapAngle>0){var dn=Vt.snapAngle,pn=Vt.snapThreshold||dn,mn=Math.ceil(Bt/dn)*dn,gn=Math.floor(Bt/dn)*dn;Math.abs(Bt-gn)<pn?Bt=gn:Math.abs(Bt-mn)<pn&&(Bt=mn)}return Bt<0&&(Bt=360+Bt),Bt%=360,cn=Vt.angle!==Bt,Vt.angle=Bt,cn}function Ct(Rt,At,zt,Ut,It){It=It||{};var Vt=At.target,qt=Vt.lockScalingX,hn=Vt.lockScalingY,ln=It.by,Bt,cn,dn,pn,mn=wt(Rt,Vt),gn=Tt(Vt,ln,mn),yn,vn,wn=At.gestureScale;if(gn)return!1;if(wn)cn=At.scaleX*wn,dn=At.scaleY*wn;else{if(Bt=sn(At,At.originX,At.originY,zt,Ut),yn=ln!=="y"?mt(Bt.x):1,vn=ln!=="x"?mt(Bt.y):1,At.signX||(At.signX=yn),At.signY||(At.signY=vn),Vt.lockScalingFlip&&(At.signX!==yn||At.signY!==vn))return!1;if(pn=Vt._getTransformedDimensions(),mn&&!ln){var xn=Math.abs(Bt.x)+Math.abs(Bt.y),_n=At.original,Cn=Math.abs(pn.x*_n.scaleX/Vt.scaleX)+Math.abs(pn.y*_n.scaleY/Vt.scaleY),Sn=xn/Cn;cn=_n.scaleX*Sn,dn=_n.scaleY*Sn}else cn=Math.abs(Bt.x*Vt.scaleX/pn.x),dn=Math.abs(Bt.y*Vt.scaleY/pn.y);St(At)&&(cn*=2,dn*=2),At.signX!==yn&&ln!=="y"&&(At.originX=dt[At.originX],cn*=-1,At.signX=yn),At.signY!==vn&&ln!=="x"&&(At.originY=dt[At.originY],dn*=-1,At.signY=vn)}var bn=Vt.scaleX,Tn=Vt.scaleY;return ln?(ln==="x"&&Vt.set("scaleX",cn),ln==="y"&&Vt.set("scaleY",dn)):(!qt&&Vt.set("scaleX",cn),!hn&&Vt.set("scaleY",dn)),bn!==Vt.scaleX||Tn!==Vt.scaleY}function Pt(Rt,At,zt,Ut){return Ct(Rt,At,zt,Ut)}function jt(Rt,At,zt,Ut){return Ct(Rt,At,zt,Ut,{by:"x"})}function Nt(Rt,At,zt,Ut){return Ct(Rt,At,zt,Ut,{by:"y"})}function Lt(Rt,At,zt,Ut){return Rt[At.target.canvas.altActionKey]?it.skewHandlerX(Rt,At,zt,Ut):it.scalingY(Rt,At,zt,Ut)}function Wt(Rt,At,zt,Ut){return Rt[At.target.canvas.altActionKey]?it.skewHandlerY(Rt,At,zt,Ut):it.scalingX(Rt,At,zt,Ut)}function Xt(Rt,At,zt,Ut){var It=At.target,Vt=sn(At,At.originX,At.originY,zt,Ut),qt=It.strokeWidth/(It.strokeUniform?It.scaleX:1),hn=St(At)?2:1,ln=It.width,Bt=Math.abs(Vt.x*hn/It.scaleX)-qt;return It.set("width",Math.max(Bt,0)),ln!==Bt}function Qt(Rt,At,zt,Ut){var It=At.target,Vt=zt-At.offsetX,qt=Ut-At.offsetY,hn=!It.get("lockMovementX")&&It.left!==Vt,ln=!It.get("lockMovementY")&&It.top!==qt;return hn&&It.set("left",Vt),ln&&It.set("top",qt),(hn||ln)&&_t("moving",Yt(Rt,At,zt,Ut)),hn||ln}it.scaleCursorStyleHandler=Dt,it.skewCursorStyleHandler=Mt,it.scaleSkewCursorStyleHandler=Ht,it.rotationWithSnapping=Jt("rotating",Kt(kt)),it.scalingEqually=Jt("scaling",Kt(Pt)),it.scalingX=Jt("scaling",Kt(jt)),it.scalingY=Jt("scaling",Kt(Nt)),it.scalingYOrSkewingX=Lt,it.scalingXOrSkewingY=Wt,it.changeWidth=Jt("resizing",Kt(Xt)),it.skewHandlerX=Et,it.skewHandlerY=$t,it.dragHandler=Qt,it.scaleOrSkewActionName=Gt,it.rotationStyleHandler=Zt,it.fireEvent=_t,it.wrapWithFixedAnchor=Kt,it.wrapWithFireEvent=Jt,it.getLocalPoint=sn,nt.controlsUtils=it}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.degreesToRadians,ft=nt.controlsUtils;function it(rt,st,ht,at,dt){at=at||{};var gt=this.sizeX||at.cornerSize||dt.cornerSize,mt=this.sizeY||at.cornerSize||dt.cornerSize,yt=typeof at.transparentCorners<"u"?at.transparentCorners:dt.transparentCorners,_t=yt?"stroke":"fill",wt=!yt&&(at.cornerStrokeColor||dt.cornerStrokeColor),St=st,Tt=ht,Dt;rt.save(),rt.fillStyle=at.cornerColor||dt.cornerColor,rt.strokeStyle=at.cornerStrokeColor||dt.cornerStrokeColor,gt>mt?(Dt=gt,rt.scale(1,mt/gt),Tt=ht*gt/mt):mt>gt?(Dt=mt,rt.scale(gt/mt,1),St=st*mt/gt):Dt=gt,rt.lineWidth=1,rt.beginPath(),rt.arc(St,Tt,Dt/2,0,2*Math.PI,!1),rt[_t](),wt&&rt.stroke(),rt.restore()}function ot(rt,st,ht,at,dt){at=at||{};var gt=this.sizeX||at.cornerSize||dt.cornerSize,mt=this.sizeY||at.cornerSize||dt.cornerSize,yt=typeof at.transparentCorners<"u"?at.transparentCorners:dt.transparentCorners,_t=yt?"stroke":"fill",wt=!yt&&(at.cornerStrokeColor||dt.cornerStrokeColor),St=gt/2,Tt=mt/2;rt.save(),rt.fillStyle=at.cornerColor||dt.cornerColor,rt.strokeStyle=at.cornerStrokeColor||dt.cornerStrokeColor,rt.lineWidth=1,rt.translate(st,ht),rt.rotate(lt(dt.angle)),rt[_t+"Rect"](-St,-Tt,gt,mt),wt&&rt.strokeRect(-St,-Tt,gt,mt),rt.restore()}ft.renderCircleControl=it,ft.renderSquareControl=ot}($),function(ut){var nt=ut.fabric||(ut.fabric={});function lt(ft){for(var it in ft)this[it]=ft[it]}nt.Control=lt,nt.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(ft,it){return it.cursorStyle},getActionName:function(ft,it){return it.actionName},getVisibility:function(ft,it){var ot=ft._controlsVisibility;return ot&&typeof ot[it]<"u"?ot[it]:this.visible},setVisibility:function(ft){this.visible=ft},positionHandler:function(ft,it){var ot=nt.util.transformPoint({x:this.x*ft.x+this.offsetX,y:this.y*ft.y+this.offsetY},it);return ot},calcCornerCoords:function(ft,it,ot,rt,st){var ht,at,dt,gt,mt=st?this.touchSizeX:this.sizeX,yt=st?this.touchSizeY:this.sizeY;if(mt&&yt&&mt!==yt){var _t=Math.atan2(yt,mt),wt=Math.sqrt(mt*mt+yt*yt)/2,St=_t-nt.util.degreesToRadians(ft),Tt=Math.PI/2-_t-nt.util.degreesToRadians(ft);ht=wt*nt.util.cos(St),at=wt*nt.util.sin(St),dt=wt*nt.util.cos(Tt),gt=wt*nt.util.sin(Tt)}else{var Dt=mt&&yt?mt:it;wt=Dt*.7071067812;var St=nt.util.degreesToRadians(45-ft);ht=dt=wt*nt.util.cos(St),at=gt=wt*nt.util.sin(St)}return{tl:{x:ot-gt,y:rt-dt},tr:{x:ot+ht,y:rt-at},bl:{x:ot-ht,y:rt+at},br:{x:ot+gt,y:rt+dt}}},render:function(ft,it,ot,rt,st){switch(rt=rt||{},rt.cornerStyle||st.cornerStyle){case"circle":nt.controlsUtils.renderCircleControl.call(this,ft,it,ot,rt,st);break;default:nt.controlsUtils.renderSquareControl.call(this,ft,it,ot,rt,st)}}}}($),function(){function ut(ot,rt){var st=ot.getAttribute("style"),ht=ot.getAttribute("offset")||0,at,dt,gt,mt;if(ht=parseFloat(ht)/(/%$/.test(ht)?100:1),ht=ht<0?0:ht>1?1:ht,st){var yt=st.split(/\s*;\s*/);for(yt[yt.length-1]===""&&yt.pop(),mt=yt.length;mt--;){var _t=yt[mt].split(/\s*:\s*/),wt=_t[0].trim(),St=_t[1].trim();wt==="stop-color"?at=St:wt==="stop-opacity"&&(gt=St)}}return at||(at=ot.getAttribute("stop-color")||"rgb(0,0,0)"),gt||(gt=ot.getAttribute("stop-opacity")),at=new _e.Color(at),dt=at.getAlpha(),gt=isNaN(parseFloat(gt))?1:parseFloat(gt),gt*=dt*rt,{offset:ht,color:at.toRgb(),opacity:gt}}function nt(ot){return{x1:ot.getAttribute("x1")||0,y1:ot.getAttribute("y1")||0,x2:ot.getAttribute("x2")||"100%",y2:ot.getAttribute("y2")||0}}function lt(ot){return{x1:ot.getAttribute("fx")||ot.getAttribute("cx")||"50%",y1:ot.getAttribute("fy")||ot.getAttribute("cy")||"50%",r1:0,x2:ot.getAttribute("cx")||"50%",y2:ot.getAttribute("cy")||"50%",r2:ot.getAttribute("r")||"50%"}}var ft=_e.util.object.clone;_e.Gradient=_e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(ot){ot||(ot={}),ot.coords||(ot.coords={});var rt,st=this;Object.keys(ot).forEach(function(ht){st[ht]=ot[ht]}),this.id?this.id+="_"+_e.Object.__uid++:this.id=_e.Object.__uid++,rt={x1:ot.coords.x1||0,y1:ot.coords.y1||0,x2:ot.coords.x2||0,y2:ot.coords.y2||0},this.type==="radial"&&(rt.r1=ot.coords.r1||0,rt.r2=ot.coords.r2||0),this.coords=rt,this.colorStops=ot.colorStops.slice()},addColorStop:function(ot){for(var rt in ot){var st=new _e.Color(ot[rt]);this.colorStops.push({offset:parseFloat(rt),color:st.toRgb(),opacity:st.getAlpha()})}return this},toObject:function(ot){var rt={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return _e.util.populateWithProperties(this,rt,ot),rt},toSVG:function(ot,dt){var st=ft(this.coords,!0),ht,at,dt=dt||{},gt,mt,yt=ft(this.colorStops,!0),_t=st.r1>st.r2,wt=this.gradientTransform?this.gradientTransform.concat():_e.iMatrix.concat(),St=-this.offsetX,Tt=-this.offsetY,Dt=!!dt.additionalTransform,Mt=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(yt.sort(function(Kt,Jt){return Kt.offset-Jt.offset}),Mt==="objectBoundingBox"?(St/=ot.width,Tt/=ot.height):(St+=ot.width/2,Tt+=ot.height/2),ot.type==="path"&&this.gradientUnits!=="percentage"&&(St-=ot.pathOffset.x,Tt-=ot.pathOffset.y),wt[4]-=St,wt[5]-=Tt,mt='id="SVGID_'+this.id+'" gradientUnits="'+Mt+'"',mt+=' gradientTransform="'+(Dt?dt.additionalTransform+" ":"")+_e.util.matrixToSVG(wt)+'" ',this.type==="linear"?gt=["<linearGradient ",mt,' x1="',st.x1,'" y1="',st.y1,'" x2="',st.x2,'" y2="',st.y2,`">
`]:this.type==="radial"&&(gt=["<radialGradient ",mt,' cx="',_t?st.x1:st.x2,'" cy="',_t?st.y1:st.y2,'" r="',_t?st.r1:st.r2,'" fx="',_t?st.x2:st.x1,'" fy="',_t?st.y2:st.y1,`">
`]),this.type==="radial"){if(_t)for(yt=yt.concat(),yt.reverse(),ht=0,at=yt.length;ht<at;ht++)yt[ht].offset=1-yt[ht].offset;var Ht=Math.min(st.r1,st.r2);if(Ht>0){var Gt=Math.max(st.r1,st.r2),Zt=Ht/Gt;for(ht=0,at=yt.length;ht<at;ht++)yt[ht].offset+=Zt*(1-yt[ht].offset)}}for(ht=0,at=yt.length;ht<at;ht++){var Yt=yt[ht];gt.push("<stop ",'offset="',Yt.offset*100+"%",'" style="stop-color:',Yt.color,typeof Yt.opacity<"u"?";stop-opacity: "+Yt.opacity:";",`"/>
`)}return gt.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),gt.join("")},toLive:function(ot){var rt,st=_e.util.object.clone(this.coords),ht,at;if(this.type){for(this.type==="linear"?rt=ot.createLinearGradient(st.x1,st.y1,st.x2,st.y2):this.type==="radial"&&(rt=ot.createRadialGradient(st.x1,st.y1,st.r1,st.x2,st.y2,st.r2)),ht=0,at=this.colorStops.length;ht<at;ht++){var dt=this.colorStops[ht].color,gt=this.colorStops[ht].opacity,mt=this.colorStops[ht].offset;typeof gt<"u"&&(dt=new _e.Color(dt).setAlpha(gt).toRgba()),rt.addColorStop(mt,dt)}return rt}}}),_e.util.object.extend(_e.Gradient,{fromElement:function(ot,rt,st,ht){var at=parseFloat(st)/(/%$/.test(st)?100:1);at=at<0?0:at>1?1:at,isNaN(at)&&(at=1);var dt=ot.getElementsByTagName("stop"),gt,mt=ot.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",yt=ot.getAttribute("gradientTransform")||"",_t=[],wt,St,Tt=0,Dt=0,Mt;for(ot.nodeName==="linearGradient"||ot.nodeName==="LINEARGRADIENT"?(gt="linear",wt=nt(ot)):(gt="radial",wt=lt(ot)),St=dt.length;St--;)_t.push(ut(dt[St],at));Mt=_e.parseTransformAttribute(yt),it(rt,wt,ht,mt),mt==="pixels"&&(Tt=-rt.left,Dt=-rt.top);var Ht=new _e.Gradient({id:ot.getAttribute("id"),type:gt,coords:wt,colorStops:_t,gradientUnits:mt,gradientTransform:Mt,offsetX:Tt,offsetY:Dt});return Ht}});function it(ot,rt,st,ht){var at,dt;Object.keys(rt).forEach(function(gt){at=rt[gt],at==="Infinity"?dt=1:at==="-Infinity"?dt=0:(dt=parseFloat(rt[gt],10),typeof at=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(at)&&(dt*=.01,ht==="pixels"&&((gt==="x1"||gt==="x2"||gt==="r2")&&(dt*=st.viewBoxWidth||st.width),(gt==="y1"||gt==="y2")&&(dt*=st.viewBoxHeight||st.height)))),rt[gt]=dt})}}(),function(){var ut=_e.util.toFixed;_e.Pattern=_e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(nt,lt){if(nt||(nt={}),this.id=_e.Object.__uid++,this.setOptions(nt),!nt.source||nt.source&&typeof nt.source!="string"){lt&&lt(this);return}else{var ft=this;this.source=_e.util.createImage(),_e.util.loadImage(nt.source,function(it,ot){ft.source=it,lt&&lt(ft,ot)},null,this.crossOrigin)}},toObject:function(nt){var lt=_e.Object.NUM_FRACTION_DIGITS,ft,it;return typeof this.source.src=="string"?ft=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(ft=this.source.toDataURL()),it={type:"pattern",source:ft,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:ut(this.offsetX,lt),offsetY:ut(this.offsetY,lt),patternTransform:this.patternTransform?this.patternTransform.concat():null},_e.util.populateWithProperties(this,it,nt),it},toSVG:function(nt){var lt=typeof this.source=="function"?this.source():this.source,ft=lt.width/nt.width,it=lt.height/nt.height,ot=this.offsetX/nt.width,rt=this.offsetY/nt.height,st="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(it=1,rt&&(it+=Math.abs(rt))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(ft=1,ot&&(ft+=Math.abs(ot))),lt.src?st=lt.src:lt.toDataURL&&(st=lt.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+ot+'" y="'+rt+'" width="'+ft+'" height="'+it+`">
<image x="0" y="0" width="`+lt.width+'" height="'+lt.height+'" xlink:href="'+st+`"></image>
</pattern>
`},setOptions:function(nt){for(var lt in nt)this[lt]=nt[lt]},toLive:function(nt){var lt=this.source;return!lt||typeof lt.src<"u"&&(!lt.complete||lt.naturalWidth===0||lt.naturalHeight===0)?"":nt.createPattern(lt,this.repeat)}})}(),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.toFixed;if(nt.Shadow){nt.warn("fabric.Shadow is already defined.");return}nt.Shadow=nt.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(ft){typeof ft=="string"&&(ft=this._parseShadow(ft));for(var it in ft)this[it]=ft[it];this.id=nt.Object.__uid++},_parseShadow:function(ft){var it=ft.trim(),ot=nt.Shadow.reOffsetsAndBlur.exec(it)||[],rt=it.replace(nt.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:rt.trim(),offsetX:parseFloat(ot[1],10)||0,offsetY:parseFloat(ot[2],10)||0,blur:parseFloat(ot[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(ft){var it=40,ot=40,rt=nt.Object.NUM_FRACTION_DIGITS,st=nt.util.rotateVector({x:this.offsetX,y:this.offsetY},nt.util.degreesToRadians(-ft.angle)),ht=20,at=new nt.Color(this.color);return ft.width&&ft.height&&(it=lt((Math.abs(st.x)+this.blur)/ft.width,rt)*100+ht,ot=lt((Math.abs(st.y)+this.blur)/ft.height,rt)*100+ht),ft.flipX&&(st.x*=-1),ft.flipY&&(st.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+ot+'%" height="'+(100+2*ot)+'%" x="-'+it+'%" width="'+(100+2*it)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+lt(this.blur?this.blur/2:0,rt)+`"></feGaussianBlur>
	<feOffset dx="`+lt(st.x,rt)+'" dy="'+lt(st.y,rt)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+at.toRgb()+'" flood-opacity="'+at.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var ft={},it=nt.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(ot){this[ot]!==it[ot]&&(ft[ot]=this[ot])},this),ft}}),nt.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}($),function(){if(_e.StaticCanvas){_e.warn("fabric.StaticCanvas is already defined.");return}var ut=_e.util.object.extend,nt=_e.util.getElementOffset,lt=_e.util.removeFromArray,ft=_e.util.toFixed,it=_e.util.transformPoint,ot=_e.util.invertTransform,rt=_e.util.getNodeCanvas,st=_e.util.createCanvasElement,ht=new Error("Could not initialize `canvas` element");_e.StaticCanvas=_e.util.createClass(_e.CommonMethods,{initialize:function(at,dt){dt||(dt={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(at,dt)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:_e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(at,dt){var gt=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(at),this._initOptions(dt),this.interactive||this._initRetinaScaling(),dt.overlayImage&&this.setOverlayImage(dt.overlayImage,gt),dt.backgroundImage&&this.setBackgroundImage(dt.backgroundImage,gt),dt.backgroundColor&&this.setBackgroundColor(dt.backgroundColor,gt),dt.overlayColor&&this.setOverlayColor(dt.overlayColor,gt),this.calcOffset()},_isRetinaScaling:function(){return _e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,_e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var at=_e.devicePixelRatio;this.__initRetinaScaling(at,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(at,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(at,dt,gt){dt.setAttribute("width",this.width*at),dt.setAttribute("height",this.height*at),gt.scale(at,at)},calcOffset:function(){return this._offset=nt(this.lowerCanvasEl),this},setOverlayImage:function(at,dt,gt){return this.__setBgOverlayImage("overlayImage",at,dt,gt)},setBackgroundImage:function(at,dt,gt){return this.__setBgOverlayImage("backgroundImage",at,dt,gt)},setOverlayColor:function(at,dt){return this.__setBgOverlayColor("overlayColor",at,dt)},setBackgroundColor:function(at,dt){return this.__setBgOverlayColor("backgroundColor",at,dt)},__setBgOverlayImage:function(at,dt,gt,mt){return typeof dt=="string"?_e.util.loadImage(dt,function(yt,_t){if(yt){var wt=new _e.Image(yt,mt);this[at]=wt,wt.canvas=this}gt&&gt(yt,_t)},this,mt&&mt.crossOrigin):(mt&&dt.setOptions(mt),this[at]=dt,dt&&(dt.canvas=this),gt&&gt(dt,!1)),this},__setBgOverlayColor:function(at,dt,gt){return this[at]=dt,this._initGradient(dt,at),this._initPattern(dt,at,gt),this},_createCanvasElement:function(){var at=st();if(!at||(at.style||(at.style={}),typeof at.getContext>"u"))throw ht;return at},_initOptions:function(at){var dt=this.lowerCanvasEl;this._setOptions(at),this.width=this.width||parseInt(dt.width,10)||0,this.height=this.height||parseInt(dt.height,10)||0,this.lowerCanvasEl.style&&(dt.width=this.width,dt.height=this.height,dt.style.width=this.width+"px",dt.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(at){at&&at.getContext?this.lowerCanvasEl=at:this.lowerCanvasEl=_e.util.getById(at)||this._createCanvasElement(),_e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(at,dt){return this.setDimensions({width:at},dt)},setHeight:function(at,dt){return this.setDimensions({height:at},dt)},setDimensions:function(at,dt){var gt;dt=dt||{};for(var mt in at)gt=at[mt],dt.cssOnly||(this._setBackstoreDimension(mt,at[mt]),gt+="px",this.hasLostContext=!0),dt.backstoreOnly||this._setCssDimension(mt,gt);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),dt.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(at,dt){return this.lowerCanvasEl[at]=dt,this.upperCanvasEl&&(this.upperCanvasEl[at]=dt),this.cacheCanvasEl&&(this.cacheCanvasEl[at]=dt),this[at]=dt,this},_setCssDimension:function(at,dt){return this.lowerCanvasEl.style[at]=dt,this.upperCanvasEl&&(this.upperCanvasEl.style[at]=dt),this.wrapperEl&&(this.wrapperEl.style[at]=dt),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(at){var dt=this._activeObject,gt=this.backgroundImage,mt=this.overlayImage,yt,_t,wt;for(this.viewportTransform=at,_t=0,wt=this._objects.length;_t<wt;_t++)yt=this._objects[_t],yt.group||yt.setCoords(!0);return dt&&dt.setCoords(),gt&&gt.setCoords(!0),mt&&mt.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(at,dt){var gt=at,mt=this.viewportTransform.slice(0);at=it(at,ot(this.viewportTransform)),mt[0]=dt,mt[3]=dt;var yt=it(at,mt);return mt[4]+=gt.x-yt.x,mt[5]+=gt.y-yt.y,this.setViewportTransform(mt)},setZoom:function(at){return this.zoomToPoint(new _e.Point(0,0),at),this},absolutePan:function(at){var dt=this.viewportTransform.slice(0);return dt[4]=-at.x,dt[5]=-at.y,this.setViewportTransform(dt)},relativePan:function(at){return this.absolutePan(new _e.Point(-at.x-this.viewportTransform[4],-at.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(at){this.stateful&&at.setupState(),at._set("canvas",this),at.setCoords(),this.fire("object:added",{target:at}),at.fire("added")},_onObjectRemoved:function(at){this.fire("object:removed",{target:at}),at.fire("removed"),delete at.canvas},clearContext:function(at){return at.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var at=this.contextContainer;return this.renderCanvas(at,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=_e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var at={},dt=this.width,gt=this.height,mt=ot(this.viewportTransform);return at.tl=it({x:0,y:0},mt),at.br=it({x:dt,y:gt},mt),at.tr=new _e.Point(at.br.x,at.tl.y),at.bl=new _e.Point(at.tl.x,at.br.y),this.vptCoords=at,at},cancelRequestedRender:function(){this.isRendering&&(_e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(at,dt){var gt=this.viewportTransform,mt=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(at),_e.util.setImageSmoothing(at,this.imageSmoothingEnabled),this.fire("before:render",{ctx:at}),this._renderBackground(at),at.save(),at.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),this._renderObjects(at,dt),at.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(at),mt&&(mt.canvas=this,mt.shouldCache(),mt._transformDone=!0,mt.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(at)),this._renderOverlay(at),this.controlsAboveOverlay&&this.interactive&&this.drawControls(at),this.fire("after:render",{ctx:at})},drawClipPathOnCanvas:function(at){var dt=this.viewportTransform,gt=this.clipPath;at.save(),at.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),at.globalCompositeOperation="destination-in",gt.transform(at),at.scale(1/gt.zoomX,1/gt.zoomY),at.drawImage(gt._cacheCanvas,-gt.cacheTranslationX,-gt.cacheTranslationY),at.restore()},_renderObjects:function(at,dt){var gt,mt;for(gt=0,mt=dt.length;gt<mt;++gt)dt[gt]&&dt[gt].render(at)},_renderBackgroundOrOverlay:function(at,dt){var gt=this[dt+"Color"],mt=this[dt+"Image"],yt=this.viewportTransform,_t=this[dt+"Vpt"];if(!(!gt&&!mt)){if(gt){at.save(),at.beginPath(),at.moveTo(0,0),at.lineTo(this.width,0),at.lineTo(this.width,this.height),at.lineTo(0,this.height),at.closePath(),at.fillStyle=gt.toLive?gt.toLive(at,this):gt,_t&&at.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]),at.transform(1,0,0,1,gt.offsetX||0,gt.offsetY||0);var wt=gt.gradientTransform||gt.patternTransform;wt&&at.transform(wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]),at.fill(),at.restore()}mt&&(at.save(),_t&&at.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5]),mt.render(at),at.restore())}},_renderBackground:function(at){this._renderBackgroundOrOverlay(at,"background")},_renderOverlay:function(at){this._renderBackgroundOrOverlay(at,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new _e.Point(this.width/2,this.height/2)},centerObjectH:function(at){return this._centerObject(at,new _e.Point(this.getCenterPoint().x,at.getCenterPoint().y))},centerObjectV:function(at){return this._centerObject(at,new _e.Point(at.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(at){var dt=this.getCenterPoint();return this._centerObject(at,dt)},viewportCenterObject:function(at){var dt=this.getVpCenter();return this._centerObject(at,dt)},viewportCenterObjectH:function(at){var dt=this.getVpCenter();return this._centerObject(at,new _e.Point(dt.x,at.getCenterPoint().y)),this},viewportCenterObjectV:function(at){var dt=this.getVpCenter();return this._centerObject(at,new _e.Point(at.getCenterPoint().x,dt.y))},getVpCenter:function(){var at=this.getCenterPoint(),dt=ot(this.viewportTransform);return it(at,dt)},_centerObject:function(at,dt){return at.setPositionByOrigin(dt,"center","center"),at.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(at){return this.toDatalessObject(at)},toObject:function(at){return this._toObjectMethod("toObject",at)},toDatalessObject:function(at){return this._toObjectMethod("toDatalessObject",at)},_toObjectMethod:function(at,dt){var gt=this.clipPath,mt={version:_e.version,objects:this._toObjects(at,dt)};return gt&&!gt.excludeFromExport&&(mt.clipPath=this._toObject(this.clipPath,at,dt)),ut(mt,this.__serializeBgOverlay(at,dt)),_e.util.populateWithProperties(this,mt,dt),mt},_toObjects:function(at,dt){return this._objects.filter(function(gt){return!gt.excludeFromExport}).map(function(gt){return this._toObject(gt,at,dt)},this)},_toObject:function(at,dt,gt){var mt;this.includeDefaultValues||(mt=at.includeDefaultValues,at.includeDefaultValues=!1);var yt=at[dt](gt);return this.includeDefaultValues||(at.includeDefaultValues=mt),yt},__serializeBgOverlay:function(at,dt){var gt={},mt=this.backgroundImage,yt=this.overlayImage,_t=this.backgroundColor,wt=this.overlayColor;return _t&&_t.toObject?_t.excludeFromExport||(gt.background=_t.toObject(dt)):_t&&(gt.background=_t),wt&&wt.toObject?wt.excludeFromExport||(gt.overlay=wt.toObject(dt)):wt&&(gt.overlay=wt),mt&&!mt.excludeFromExport&&(gt.backgroundImage=this._toObject(mt,at,dt)),yt&&!yt.excludeFromExport&&(gt.overlayImage=this._toObject(yt,at,dt)),gt},svgViewportTransformation:!0,toSVG:function(at,dt){at||(at={}),at.reviver=dt;var gt=[];return this._setSVGPreamble(gt,at),this._setSVGHeader(gt,at),this.clipPath&&gt.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(gt,"background"),this._setSVGBgOverlayImage(gt,"backgroundImage",dt),this._setSVGObjects(gt,dt),this.clipPath&&gt.push(`</g>
`),this._setSVGBgOverlayColor(gt,"overlay"),this._setSVGBgOverlayImage(gt,"overlayImage",dt),gt.push("</svg>"),gt.join("")},_setSVGPreamble:function(at,dt){dt.suppressPreamble||at.push('<?xml version="1.0" encoding="',dt.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(at,dt){var gt=dt.width||this.width,mt=dt.height||this.height,yt,_t='viewBox="0 0 '+this.width+" "+this.height+'" ',wt=_e.Object.NUM_FRACTION_DIGITS;dt.viewBox?_t='viewBox="'+dt.viewBox.x+" "+dt.viewBox.y+" "+dt.viewBox.width+" "+dt.viewBox.height+'" ':this.svgViewportTransformation&&(yt=this.viewportTransform,_t='viewBox="'+ft(-yt[4]/yt[0],wt)+" "+ft(-yt[5]/yt[3],wt)+" "+ft(this.width/yt[0],wt)+" "+ft(this.height/yt[3],wt)+'" '),at.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',gt,'" ','height="',mt,'" ',_t,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",_e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(dt),`</defs>
`)},createSVGClipPathMarkup:function(at){var dt=this.clipPath;return dt?(dt.clipPathId="CLIPPATH_"+_e.Object.__uid++,'<clipPath id="'+dt.clipPathId+`" >
`+this.clipPath.toClipPathSVG(at.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var at=this,dt=["background","overlay"].map(function(gt){var mt=at[gt+"Color"];if(mt&&mt.toLive){var yt=at[gt+"Vpt"],_t=at.viewportTransform,wt={width:at.width/(yt?_t[0]:1),height:at.height/(yt?_t[3]:1)};return mt.toSVG(wt,{additionalTransform:yt?_e.util.matrixToSVG(_t):""})}});return dt.join("")},createSVGFontFacesMarkup:function(){var at="",dt={},gt,mt,yt,_t,wt,St,Tt,Dt,Mt,Ht=_e.fontPaths,Gt=[];for(this._objects.forEach(function Yt(Kt){Gt.push(Kt),Kt._objects&&Kt._objects.forEach(Yt)}),Dt=0,Mt=Gt.length;Dt<Mt;Dt++)if(gt=Gt[Dt],mt=gt.fontFamily,!(gt.type.indexOf("text")===-1||dt[mt]||!Ht[mt])&&(dt[mt]=!0,!!gt.styles)){yt=gt.styles;for(wt in yt){_t=yt[wt];for(Tt in _t)St=_t[Tt],mt=St.fontFamily,!dt[mt]&&Ht[mt]&&(dt[mt]=!0)}}for(var Zt in dt)at+=[`		@font-face {
`,"			font-family: '",Zt,`';
`,"			src: url('",Ht[Zt],`');
`,`		}
`].join("");return at&&(at=['	<style type="text/css">',`<![CDATA[
`,at,"]]>",`</style>
`].join("")),at},_setSVGObjects:function(at,dt){var gt,mt,yt,_t=this._objects;for(mt=0,yt=_t.length;mt<yt;mt++)gt=_t[mt],!gt.excludeFromExport&&this._setSVGObject(at,gt,dt)},_setSVGObject:function(at,dt,gt){at.push(dt.toSVG(gt))},_setSVGBgOverlayImage:function(at,dt,gt){this[dt]&&!this[dt].excludeFromExport&&this[dt].toSVG&&at.push(this[dt].toSVG(gt))},_setSVGBgOverlayColor:function(at,dt){var gt=this[dt+"Color"],mt=this.viewportTransform,yt=this.width,_t=this.height;if(gt)if(gt.toLive){var wt=gt.repeat,St=_e.util.invertTransform(mt),Tt=this[dt+"Vpt"],Dt=Tt?_e.util.matrixToSVG(St):"";at.push('<rect transform="'+Dt+" translate(",yt/2,",",_t/2,')"',' x="',gt.offsetX-yt/2,'" y="',gt.offsetY-_t/2,'" ','width="',wt==="repeat-y"||wt==="no-repeat"?gt.source.width:yt,'" height="',wt==="repeat-x"||wt==="no-repeat"?gt.source.height:_t,'" fill="url(#SVGID_'+gt.id+')"',`></rect>
`)}else at.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',gt,'"',`></rect>
`)},sendToBack:function(at){if(!at)return this;var dt=this._activeObject,gt,mt,yt;if(at===dt&&at.type==="activeSelection")for(yt=dt._objects,gt=yt.length;gt--;)mt=yt[gt],lt(this._objects,mt),this._objects.unshift(mt);else lt(this._objects,at),this._objects.unshift(at);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(at){if(!at)return this;var dt=this._activeObject,gt,mt,yt;if(at===dt&&at.type==="activeSelection")for(yt=dt._objects,gt=0;gt<yt.length;gt++)mt=yt[gt],lt(this._objects,mt),this._objects.push(mt);else lt(this._objects,at),this._objects.push(at);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(at,dt){if(!at)return this;var gt=this._activeObject,mt,yt,_t,wt,St,Tt=0;if(at===gt&&at.type==="activeSelection")for(St=gt._objects,mt=0;mt<St.length;mt++)yt=St[mt],_t=this._objects.indexOf(yt),_t>0+Tt&&(wt=_t-1,lt(this._objects,yt),this._objects.splice(wt,0,yt)),Tt++;else _t=this._objects.indexOf(at),_t!==0&&(wt=this._findNewLowerIndex(at,_t,dt),lt(this._objects,at),this._objects.splice(wt,0,at));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(at,dt,gt){var mt,yt;if(gt)for(mt=dt,yt=dt-1;yt>=0;--yt){var _t=at.intersectsWithObject(this._objects[yt])||at.isContainedWithinObject(this._objects[yt])||this._objects[yt].isContainedWithinObject(at);if(_t){mt=yt;break}}else mt=dt-1;return mt},bringForward:function(at,dt){if(!at)return this;var gt=this._activeObject,mt,yt,_t,wt,St,Tt=0;if(at===gt&&at.type==="activeSelection")for(St=gt._objects,mt=St.length;mt--;)yt=St[mt],_t=this._objects.indexOf(yt),_t<this._objects.length-1-Tt&&(wt=_t+1,lt(this._objects,yt),this._objects.splice(wt,0,yt)),Tt++;else _t=this._objects.indexOf(at),_t!==this._objects.length-1&&(wt=this._findNewUpperIndex(at,_t,dt),lt(this._objects,at),this._objects.splice(wt,0,at));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(at,dt,gt){var mt,yt,_t;if(gt)for(mt=dt,yt=dt+1,_t=this._objects.length;yt<_t;++yt){var wt=at.intersectsWithObject(this._objects[yt])||at.isContainedWithinObject(this._objects[yt])||this._objects[yt].isContainedWithinObject(at);if(wt){mt=yt;break}}else mt=dt+1;return mt},moveTo:function(at,dt){return lt(this._objects,at),this._objects.splice(dt,0,at),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(_e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(at){at.dispose&&at.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),_e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),_e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),ut(_e.StaticCanvas.prototype,_e.Observable),ut(_e.StaticCanvas.prototype,_e.Collection),ut(_e.StaticCanvas.prototype,_e.DataURLExporter),ut(_e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(at){var dt=st();if(!dt||!dt.getContext)return null;var gt=dt.getContext("2d");if(!gt)return null;switch(at){case"setLineDash":return typeof gt.setLineDash<"u";default:return null}}}),_e.StaticCanvas.prototype.toJSON=_e.StaticCanvas.prototype.toObject,_e.isLikelyNode&&(_e.StaticCanvas.prototype.createPNGStream=function(){var at=rt(this.lowerCanvasEl);return at&&at.createPNGStream()},_e.StaticCanvas.prototype.createJPEGStream=function(at){var dt=rt(this.lowerCanvasEl);return dt&&dt.createJPEGStream(at)})}(),_e.BaseBrush=_e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(ut){ut.strokeStyle=this.color,ut.lineWidth=this.width,ut.lineCap=this.strokeLineCap,ut.miterLimit=this.strokeMiterLimit,ut.lineJoin=this.strokeLineJoin,ut.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(ut){var nt=this.canvas.viewportTransform;ut.save(),ut.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5])},_setShadow:function(){if(this.shadow){var ut=this.canvas,nt=this.shadow,lt=ut.contextTop,ft=ut.getZoom();ut&&ut._isRetinaScaling()&&(ft*=_e.devicePixelRatio),lt.shadowColor=nt.color,lt.shadowBlur=nt.blur*ft,lt.shadowOffsetX=nt.offsetX*ft,lt.shadowOffsetY=nt.offsetY*ft}},needsFullRender:function(){var ut=new _e.Color(this.color);return ut.getAlpha()<1||!!this.shadow},_resetShadow:function(){var ut=this.canvas.contextTop;ut.shadowColor="",ut.shadowBlur=ut.shadowOffsetX=ut.shadowOffsetY=0},_isOutSideCanvas:function(ut){return ut.x<0||ut.x>this.canvas.getWidth()||ut.y<0||ut.y>this.canvas.getHeight()}}),function(){_e.PencilBrush=_e.util.createClass(_e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(ut){this.canvas=ut,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(ut,nt,lt){var ft=nt.midPointFrom(lt);return ut.quadraticCurveTo(nt.x,nt.y,ft.x,ft.y),ft},onMouseDown:function(ut,nt){this.canvas._isMainEvent(nt.e)&&(this.drawStraightLine=nt.e[this.straightLineKey],this._prepareForDrawing(ut),this._captureDrawingPath(ut),this._render())},onMouseMove:function(ut,nt){if(this.canvas._isMainEvent(nt.e)&&(this.drawStraightLine=nt.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(ut))&&this._captureDrawingPath(ut)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var lt=this._points,ft=lt.length,it=this.canvas.contextTop;this._saveAndTransform(it),this.oldEnd&&(it.beginPath(),it.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(it,lt[ft-2],lt[ft-1],!0),it.stroke(),it.restore()}},onMouseUp:function(ut){return this.canvas._isMainEvent(ut.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(ut){var nt=new _e.Point(ut.x,ut.y);this._reset(),this._addPoint(nt),this.canvas.contextTop.moveTo(nt.x,nt.y)},_addPoint:function(ut){return this._points.length>1&&ut.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(ut),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(ut){var nt=new _e.Point(ut.x,ut.y);return this._addPoint(nt)},_render:function(ut){var nt,lt,ft=this._points[0],it=this._points[1];if(ut=ut||this.canvas.contextTop,this._saveAndTransform(ut),ut.beginPath(),this._points.length===2&&ft.x===it.x&&ft.y===it.y){var ot=this.width/1e3;ft=new _e.Point(ft.x,ft.y),it=new _e.Point(it.x,it.y),ft.x-=ot,it.x+=ot}for(ut.moveTo(ft.x,ft.y),nt=1,lt=this._points.length;nt<lt;nt++)this._drawSegment(ut,ft,it),ft=this._points[nt],it=this._points[nt+1];ut.lineTo(ft.x,ft.y),ut.stroke(),ut.restore()},convertPointsToSVGPath:function(ut){var nt=this.width/1e3;return _e.util.getSmoothPathFromPoints(ut,nt)},_isEmptySVGPath:function(ut){var nt=_e.util.joinPath(ut);return nt==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(ut){var nt=new _e.Path(ut,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,nt.shadow=new _e.Shadow(this.shadow)),nt},decimatePoints:function(ut,nt){if(ut.length<=2)return ut;var lt=this.canvas.getZoom(),ft=Math.pow(nt/lt,2),it,ot=ut.length-1,rt=ut[0],st=[rt],ht;for(it=1;it<ot-1;it++)ht=Math.pow(rt.x-ut[it].x,2)+Math.pow(rt.y-ut[it].y,2),ht>=ft&&(rt=ut[it],st.push(rt));return st.push(ut[ot]),st},_finalizeAndAddPath:function(){var ut=this.canvas.contextTop;ut.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var nt=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(nt)){this.canvas.requestRenderAll();return}var lt=this.createPath(nt);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:lt}),this.canvas.add(lt),this.canvas.requestRenderAll(),lt.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:lt})}})}(),_e.CircleBrush=_e.util.createClass(_e.BaseBrush,{width:10,initialize:function(ut){this.canvas=ut,this.points=[]},drawDot:function(ut){var nt=this.addPoint(ut),lt=this.canvas.contextTop;this._saveAndTransform(lt),this.dot(lt,nt),lt.restore()},dot:function(ut,nt){ut.fillStyle=nt.fill,ut.beginPath(),ut.arc(nt.x,nt.y,nt.radius,0,Math.PI*2,!1),ut.closePath(),ut.fill()},onMouseDown:function(ut){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(ut)},_render:function(){var ut=this.canvas.contextTop,nt,lt,ft=this.points;for(this._saveAndTransform(ut),nt=0,lt=ft.length;nt<lt;nt++)this.dot(ut,ft[nt]);ut.restore()},onMouseMove:function(ut){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(ut)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(ut),this._render()):this.drawDot(ut))},onMouseUp:function(){var ut=this.canvas.renderOnAddRemove,nt,lt;this.canvas.renderOnAddRemove=!1;var ft=[];for(nt=0,lt=this.points.length;nt<lt;nt++){var it=this.points[nt],ot=new _e.Circle({radius:it.radius,left:it.x,top:it.y,originX:"center",originY:"center",fill:it.fill});this.shadow&&(ot.shadow=new _e.Shadow(this.shadow)),ft.push(ot)}var rt=new _e.Group(ft);rt.canvas=this.canvas,this.canvas.fire("before:path:created",{path:rt}),this.canvas.add(rt),this.canvas.fire("path:created",{path:rt}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=ut,this.canvas.requestRenderAll()},addPoint:function(ut){var nt=new _e.Point(ut.x,ut.y),lt=_e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,ft=new _e.Color(this.color).setAlpha(_e.util.getRandomInt(0,100)/100).toRgba();return nt.radius=lt,nt.fill=ft,this.points.push(nt),nt}}),_e.SprayBrush=_e.util.createClass(_e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(ut){this.canvas=ut,this.sprayChunks=[]},onMouseDown:function(ut){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(ut),this.render(this.sprayChunkPoints)},onMouseMove:function(ut){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(ut)||(this.addSprayChunk(ut),this.render(this.sprayChunkPoints))},onMouseUp:function(){var ut=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var nt=[],lt=0,ft=this.sprayChunks.length;lt<ft;lt++)for(var it=this.sprayChunks[lt],ot=0,rt=it.length;ot<rt;ot++){var st=new _e.Rect({width:it[ot].width,height:it[ot].width,left:it[ot].x+1,top:it[ot].y+1,originX:"center",originY:"center",fill:this.color});nt.push(st)}this.optimizeOverlapping&&(nt=this._getOptimizedRects(nt));var ht=new _e.Group(nt);this.shadow&&ht.set("shadow",new _e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:ht}),this.canvas.add(ht),this.canvas.fire("path:created",{path:ht}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=ut,this.canvas.requestRenderAll()},_getOptimizedRects:function(ut){var nt={},lt,ft,it;for(ft=0,it=ut.length;ft<it;ft++)lt=ut[ft].left+""+ut[ft].top,nt[lt]||(nt[lt]=ut[ft]);var ot=[];for(lt in nt)ot.push(nt[lt]);return ot},render:function(ut){var nt=this.canvas.contextTop,lt,ft;for(nt.fillStyle=this.color,this._saveAndTransform(nt),lt=0,ft=ut.length;lt<ft;lt++){var it=ut[lt];typeof it.opacity<"u"&&(nt.globalAlpha=it.opacity),nt.fillRect(it.x,it.y,it.width,it.width)}nt.restore()},_render:function(){var ut=this.canvas.contextTop,nt,lt;for(ut.fillStyle=this.color,this._saveAndTransform(ut),nt=0,lt=this.sprayChunks.length;nt<lt;nt++)this.render(this.sprayChunks[nt]);ut.restore()},addSprayChunk:function(ut){this.sprayChunkPoints=[];var nt,lt,ft,it=this.width/2,ot;for(ot=0;ot<this.density;ot++){nt=_e.util.getRandomInt(ut.x-it,ut.x+it),lt=_e.util.getRandomInt(ut.y-it,ut.y+it),this.dotWidthVariance?ft=_e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):ft=this.dotWidth;var rt=new _e.Point(nt,lt);rt.width=ft,this.randomOpacity&&(rt.opacity=_e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(rt)}this.sprayChunks.push(this.sprayChunkPoints)}}),_e.PatternBrush=_e.util.createClass(_e.PencilBrush,{getPatternSrc:function(){var ut=20,nt=5,lt=_e.util.createCanvasElement(),ft=lt.getContext("2d");return lt.width=lt.height=ut+nt,ft.fillStyle=this.color,ft.beginPath(),ft.arc(ut/2,ut/2,ut/2,0,Math.PI*2,!1),ft.closePath(),ft.fill(),lt},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(ut){return ut.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(ut){this.callSuper("_setBrushStyles",ut),ut.strokeStyle=this.getPattern(ut)},createPath:function(ut){var nt=this.callSuper("createPath",ut),lt=nt._getLeftTopCoords().scalarAdd(nt.strokeWidth/2);return nt.stroke=new _e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-lt.x,offsetY:-lt.y}),nt}}),function(){var ut=_e.util.getPointer,nt=_e.util.degreesToRadians,lt=_e.util.isTouchEvent;_e.Canvas=_e.util.createClass(_e.StaticCanvas,{initialize:function(it,ot){ot||(ot={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(it,ot),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=_e.PencilBrush&&new _e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var it=this.getActiveObjects(),ot,rt,st;if(it.length>0&&!this.preserveObjectStacking){rt=[],st=[];for(var ht=0,at=this._objects.length;ht<at;ht++)ot=this._objects[ht],it.indexOf(ot)===-1?rt.push(ot):st.push(ot);it.length>1&&(this._activeObject._objects=st),rt.push.apply(rt,st)}else rt=this._objects;return rt},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var it=this.contextContainer;return this.renderCanvas(it,this._chooseObjectsToRender()),this},renderTopLayer:function(it){it.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(it),this.contextTopDirty=!0),it.restore()},renderTop:function(){var it=this.contextTop;return this.clearContext(it),this.renderTopLayer(it),this.fire("after:render"),this},_normalizePointer:function(it,ot){var rt=it.calcTransformMatrix(),st=_e.util.invertTransform(rt),ht=this.restorePointerVpt(ot);return _e.util.transformPoint(ht,st)},isTargetTransparent:function(it,ot,rt){if(it.shouldCache()&&it._cacheCanvas&&it!==this._activeObject){var st=this._normalizePointer(it,{x:ot,y:rt}),ht=Math.max(it.cacheTranslationX+st.x*it.zoomX,0),at=Math.max(it.cacheTranslationY+st.y*it.zoomY,0),yt=_e.util.isTransparent(it._cacheContext,Math.round(ht),Math.round(at),this.targetFindTolerance);return yt}var dt=this.contextCache,gt=it.selectionBackgroundColor,mt=this.viewportTransform;it.selectionBackgroundColor="",this.clearContext(dt),dt.save(),dt.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5]),it.render(dt),dt.restore(),it.selectionBackgroundColor=gt;var yt=_e.util.isTransparent(dt,ot,rt,this.targetFindTolerance);return yt},_isSelectionKeyPressed:function(it){var ot=!1;return Array.isArray(this.selectionKey)?ot=!!this.selectionKey.find(function(rt){return it[rt]===!0}):ot=it[this.selectionKey],ot},_shouldClearSelection:function(it,ot){var rt=this.getActiveObjects(),st=this._activeObject;return!ot||ot&&st&&rt.length>1&&rt.indexOf(ot)===-1&&st!==ot&&!this._isSelectionKeyPressed(it)||ot&&!ot.evented||ot&&!ot.selectable&&st&&st!==ot},_shouldCenterTransform:function(it,ot,rt){if(it){var st;return ot==="scale"||ot==="scaleX"||ot==="scaleY"||ot==="resizing"?st=this.centeredScaling||it.centeredScaling:ot==="rotate"&&(st=this.centeredRotation||it.centeredRotation),st?!rt:rt}},_getOriginFromCorner:function(it,ot){var rt={x:it.originX,y:it.originY};return ot==="ml"||ot==="tl"||ot==="bl"?rt.x="right":(ot==="mr"||ot==="tr"||ot==="br")&&(rt.x="left"),ot==="tl"||ot==="mt"||ot==="tr"?rt.y="bottom":(ot==="bl"||ot==="mb"||ot==="br")&&(rt.y="top"),rt},_getActionFromCorner:function(it,ot,rt,st){if(!ot||!it)return"drag";var ht=st.controls[ot];return ht.getActionName(rt,ht,st)},_setupCurrentTransform:function(it,ot,rt){if(ot){var st=this.getPointer(it),ht=ot.__corner,at=ot.controls[ht],dt=rt&&ht?at.getActionHandler(it,ot,at):_e.controlsUtils.dragHandler,gt=this._getActionFromCorner(rt,ht,it,ot),mt=this._getOriginFromCorner(ot,ht),yt=it[this.centeredKey],_t={target:ot,action:gt,actionHandler:dt,corner:ht,scaleX:ot.scaleX,scaleY:ot.scaleY,skewX:ot.skewX,skewY:ot.skewY,offsetX:st.x-ot.left,offsetY:st.y-ot.top,originX:mt.x,originY:mt.y,ex:st.x,ey:st.y,lastX:st.x,lastY:st.y,theta:nt(ot.angle),width:ot.width*ot.scaleX,shiftKey:it.shiftKey,altKey:yt,original:_e.util.saveObjectTransform(ot)};this._shouldCenterTransform(ot,gt,yt)&&(_t.originX="center",_t.originY="center"),_t.original.originX=mt.x,_t.original.originY=mt.y,this._currentTransform=_t,this._beforeTransform(it)}},setCursor:function(it){this.upperCanvasEl.style.cursor=it},_drawSelection:function(it){var ot=this._groupSelector,rt=new _e.Point(ot.ex,ot.ey),st=_e.util.transformPoint(rt,this.viewportTransform),ht=new _e.Point(ot.ex+ot.left,ot.ey+ot.top),at=_e.util.transformPoint(ht,this.viewportTransform),dt=Math.min(st.x,at.x),gt=Math.min(st.y,at.y),mt=Math.max(st.x,at.x),yt=Math.max(st.y,at.y),_t=this.selectionLineWidth/2;this.selectionColor&&(it.fillStyle=this.selectionColor,it.fillRect(dt,gt,mt-dt,yt-gt)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(it.lineWidth=this.selectionLineWidth,it.strokeStyle=this.selectionBorderColor,dt+=_t,gt+=_t,mt-=_t,yt-=_t,_e.Object.prototype._setLineDash.call(this,it,this.selectionDashArray),it.strokeRect(dt,gt,mt-dt,yt-gt))},findTarget:function(it,ot){if(!this.skipTargetFind){var rt=!0,st=this.getPointer(it,rt),ht=this._activeObject,at=this.getActiveObjects(),dt,gt,mt=lt(it),yt=at.length>1&&!ot||at.length===1;if(this.targets=[],yt&&ht._findTargetCorner(st,mt)||at.length>1&&!ot&&ht===this._searchPossibleTargets([ht],st))return ht;if(at.length===1&&ht===this._searchPossibleTargets([ht],st))if(this.preserveObjectStacking)dt=ht,gt=this.targets,this.targets=[];else return ht;var _t=this._searchPossibleTargets(this._objects,st);return it[this.altSelectionKey]&&_t&&dt&&_t!==dt&&(_t=dt,this.targets=gt),_t}},_checkTarget:function(it,ot,rt){if(ot&&ot.visible&&ot.evented&&ot.containsPoint(it))if((this.perPixelTargetFind||ot.perPixelTargetFind)&&!ot.isEditing){var st=this.isTargetTransparent(ot,rt.x,rt.y);if(!st)return!0}else return!0},_searchPossibleTargets:function(it,ot){for(var rt,st=it.length,ht;st--;){var at=it[st],dt=at.group?this._normalizePointer(at.group,ot):ot;if(this._checkTarget(dt,at,ot)){rt=it[st],rt.subTargetCheck&&rt instanceof _e.Group&&(ht=this._searchPossibleTargets(rt._objects,ot),ht&&this.targets.push(ht));break}}return rt},restorePointerVpt:function(it){return _e.util.transformPoint(it,_e.util.invertTransform(this.viewportTransform))},getPointer:function(it,ot){if(this._absolutePointer&&!ot)return this._absolutePointer;if(this._pointer&&ot)return this._pointer;var rt=ut(it),st=this.upperCanvasEl,ht=st.getBoundingClientRect(),at=ht.width||0,dt=ht.height||0,gt;(!at||!dt)&&("top"in ht&&"bottom"in ht&&(dt=Math.abs(ht.top-ht.bottom)),"right"in ht&&"left"in ht&&(at=Math.abs(ht.right-ht.left))),this.calcOffset(),rt.x=rt.x-this._offset.left,rt.y=rt.y-this._offset.top,ot||(rt=this.restorePointerVpt(rt));var mt=this.getRetinaScaling();return mt!==1&&(rt.x/=mt,rt.y/=mt),at===0||dt===0?gt={width:1,height:1}:gt={width:st.width/at,height:st.height/dt},{x:rt.x*gt.width,y:rt.y*gt.height}},_createUpperCanvas:function(){var it=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),ot=this.lowerCanvasEl,rt=this.upperCanvasEl;rt?rt.className="":(rt=this._createCanvasElement(),this.upperCanvasEl=rt),_e.util.addClass(rt,"upper-canvas "+it),this.wrapperEl.appendChild(rt),this._copyCanvasStyle(ot,rt),this._applyCanvasStyle(rt),this.contextTop=rt.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=_e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),_e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),_e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(it){var ot=this.width||it.width,rt=this.height||it.height;_e.util.setStyle(it,{position:"absolute",width:ot+"px",height:rt+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),it.width=ot,it.height=rt,_e.util.makeElementUnselectable(it)},_copyCanvasStyle:function(it,ot){ot.style.cssText=it.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var it=this._activeObject;return it?it.type==="activeSelection"&&it._objects?it._objects.slice(0):[it]:[]},_onObjectRemoved:function(it){it===this._activeObject&&(this.fire("before:selection:cleared",{target:it}),this._discardActiveObject(),this.fire("selection:cleared",{target:it}),it.fire("deselected")),it===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",it)},_fireSelectionEvents:function(it,ot){var rt=!1,st=this.getActiveObjects(),ht=[],at=[];it.forEach(function(dt){st.indexOf(dt)===-1&&(rt=!0,dt.fire("deselected",{e:ot,target:dt}),at.push(dt))}),st.forEach(function(dt){it.indexOf(dt)===-1&&(rt=!0,dt.fire("selected",{e:ot,target:dt}),ht.push(dt))}),it.length>0&&st.length>0?rt&&this.fire("selection:updated",{e:ot,selected:ht,deselected:at}):st.length>0?this.fire("selection:created",{e:ot,selected:ht}):it.length>0&&this.fire("selection:cleared",{e:ot,deselected:at})},setActiveObject:function(it,ot){var rt=this.getActiveObjects();return this._setActiveObject(it,ot),this._fireSelectionEvents(rt,ot),this},_setActiveObject:function(it,ot){return this._activeObject===it||!this._discardActiveObject(ot,it)||it.onSelect({e:ot})?!1:(this._activeObject=it,!0)},_discardActiveObject:function(it,ot){var rt=this._activeObject;if(rt){if(rt.onDeselect({e:it,object:ot}))return!1;this._activeObject=null}return!0},discardActiveObject:function(it){var ot=this.getActiveObjects(),rt=this.getActiveObject();return ot.length&&this.fire("before:selection:cleared",{target:rt,e:it}),this._discardActiveObject(it),this._fireSelectionEvents(ot,it),this},dispose:function(){var it=this.wrapperEl;return this.removeListeners(),it.removeChild(this.upperCanvasEl),it.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(ot){_e.util.cleanUpJsdomNode(this[ot]),this[ot]=void 0}.bind(this)),it.parentNode&&it.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,_e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(it){var ot=this._activeObject;ot&&ot._renderControls(it)},_toObject:function(it,ot,rt){var st=this._realizeGroupTransformOnObject(it),ht=this.callSuper("_toObject",it,ot,rt);return this._unwindGroupTransformOnObject(it,st),ht},_realizeGroupTransformOnObject:function(it){if(it.group&&it.group.type==="activeSelection"&&this._activeObject===it.group){var ot=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],rt={};return ot.forEach(function(st){rt[st]=it[st]}),_e.util.addTransformToObject(it,this._activeObject.calcOwnMatrix()),rt}else return null},_unwindGroupTransformOnObject:function(it,ot){ot&&it.set(ot)},_setSVGObject:function(it,ot,rt){var st=this._realizeGroupTransformOnObject(ot);this.callSuper("_setSVGObject",it,ot,rt),this._unwindGroupTransformOnObject(ot,st)},setViewportTransform:function(it){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),_e.StaticCanvas.prototype.setViewportTransform.call(this,it)}});for(var ft in _e.StaticCanvas)ft!=="prototype"&&(_e.Canvas[ft]=_e.StaticCanvas[ft])}(),function(){var ut=_e.util.addListener,nt=_e.util.removeListener,lt=3,ft=2,it=1,ot={passive:!1};function rt(st,ht){return st.button&&st.button===ht-1}_e.util.object.extend(_e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(ut,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(st,ht){var at=this.upperCanvasEl,dt=this._getEventPrefix();st(_e.window,"resize",this._onResize),st(at,dt+"down",this._onMouseDown),st(at,dt+"move",this._onMouseMove,ot),st(at,dt+"out",this._onMouseOut),st(at,dt+"enter",this._onMouseEnter),st(at,"wheel",this._onMouseWheel),st(at,"contextmenu",this._onContextMenu),st(at,"dblclick",this._onDoubleClick),st(at,"dragover",this._onDragOver),st(at,"dragenter",this._onDragEnter),st(at,"dragleave",this._onDragLeave),st(at,"drop",this._onDrop),this.enablePointerEvents||st(at,"touchstart",this._onTouchStart,ot),typeof eventjs<"u"&&ht in eventjs&&(eventjs[ht](at,"gesture",this._onGesture),eventjs[ht](at,"drag",this._onDrag),eventjs[ht](at,"orientation",this._onOrientationChange),eventjs[ht](at,"shake",this._onShake),eventjs[ht](at,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(nt,"remove");var st=this._getEventPrefix();nt(_e.document,st+"up",this._onMouseUp),nt(_e.document,"touchend",this._onTouchEnd,ot),nt(_e.document,st+"move",this._onMouseMove,ot),nt(_e.document,"touchmove",this._onMouseMove,ot)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(st,ht){this.__onTransformGesture&&this.__onTransformGesture(st,ht)},_onDrag:function(st,ht){this.__onDrag&&this.__onDrag(st,ht)},_onMouseWheel:function(st){this.__onMouseWheel(st)},_onMouseOut:function(st){var ht=this._hoveredTarget;this.fire("mouse:out",{target:ht,e:st}),this._hoveredTarget=null,ht&&ht.fire("mouseout",{e:st});var at=this;this._hoveredTargets.forEach(function(dt){at.fire("mouse:out",{target:ht,e:st}),dt&&ht.fire("mouseout",{e:st})}),this._hoveredTargets=[]},_onMouseEnter:function(st){!this._currentTransform&&!this.findTarget(st)&&(this.fire("mouse:over",{target:null,e:st}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(st,ht){this.__onOrientationChange&&this.__onOrientationChange(st,ht)},_onShake:function(st,ht){this.__onShake&&this.__onShake(st,ht)},_onLongPress:function(st,ht){this.__onLongPress&&this.__onLongPress(st,ht)},_onDragOver:function(st){st.preventDefault();var ht=this._simpleEventHandler("dragover",st);this._fireEnterLeaveEvents(ht,st)},_onDrop:function(st){return this._simpleEventHandler("drop:before",st),this._simpleEventHandler("drop",st)},_onContextMenu:function(st){return this.stopContextMenu&&(st.stopPropagation(),st.preventDefault()),!1},_onDoubleClick:function(st){this._cacheTransformEventData(st),this._handleEvent(st,"dblclick"),this._resetTransformEventData(st)},getPointerId:function(st){var ht=st.changedTouches;return ht?ht[0]&&ht[0].identifier:this.enablePointerEvents?st.pointerId:-1},_isMainEvent:function(st){return st.isPrimary===!0?!0:st.isPrimary===!1?!1:st.type==="touchend"&&st.touches.length===0?!0:st.changedTouches?st.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(st){st.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(st)),this.__onMouseDown(st),this._resetTransformEventData();var ht=this.upperCanvasEl,at=this._getEventPrefix();ut(_e.document,"touchend",this._onTouchEnd,ot),ut(_e.document,"touchmove",this._onMouseMove,ot),nt(ht,at+"down",this._onMouseDown)},_onMouseDown:function(st){this.__onMouseDown(st),this._resetTransformEventData();var ht=this.upperCanvasEl,at=this._getEventPrefix();nt(ht,at+"move",this._onMouseMove,ot),ut(_e.document,at+"up",this._onMouseUp),ut(_e.document,at+"move",this._onMouseMove,ot)},_onTouchEnd:function(st){if(!(st.touches.length>0)){this.__onMouseUp(st),this._resetTransformEventData(),this.mainTouchId=null;var ht=this._getEventPrefix();nt(_e.document,"touchend",this._onTouchEnd,ot),nt(_e.document,"touchmove",this._onMouseMove,ot);var at=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){ut(at.upperCanvasEl,ht+"down",at._onMouseDown),at._willAddMouseDown=0},400)}},_onMouseUp:function(st){this.__onMouseUp(st),this._resetTransformEventData();var ht=this.upperCanvasEl,at=this._getEventPrefix();this._isMainEvent(st)&&(nt(_e.document,at+"up",this._onMouseUp),nt(_e.document,at+"move",this._onMouseMove,ot),ut(ht,at+"move",this._onMouseMove,ot))},_onMouseMove:function(st){!this.allowTouchScrolling&&st.preventDefault&&st.preventDefault(),this.__onMouseMove(st)},_onResize:function(){this.calcOffset()},_shouldRender:function(st){var ht=this._activeObject;return!!ht!=!!st||ht&&st&&ht!==st?!0:(ht&&ht.isEditing,!1)},__onMouseUp:function(st){var ht,at=this._currentTransform,dt=this._groupSelector,gt=!1,mt=!dt||dt.left===0&&dt.top===0;if(this._cacheTransformEventData(st),ht=this._target,this._handleEvent(st,"up:before"),rt(st,lt)){this.fireRightClick&&this._handleEvent(st,"up",lt,mt);return}if(rt(st,ft)){this.fireMiddleClick&&this._handleEvent(st,"up",ft,mt),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(st);return}if(this._isMainEvent(st)){if(at&&(this._finalizeCurrentTransform(st),gt=at.actionPerformed),!mt){var yt=ht===this._activeObject;this._maybeGroupObjects(st),gt||(gt=this._shouldRender(ht)||!yt&&ht===this._activeObject)}var _t,wt;if(ht){if(_t=ht._findTargetCorner(this.getPointer(st,!0),_e.util.isTouchEvent(st)),ht.selectable&&ht!==this._activeObject&&ht.activeOn==="up")this.setActiveObject(ht,st),gt=!0;else{var St=ht.controls[_t],Tt=St&&St.getMouseUpHandler(st,ht,St);Tt&&(wt=this.getPointer(st),Tt(st,at,wt.x,wt.y))}ht.isMoving=!1}if(at&&(at.target!==ht||at.corner!==_t)){var Dt=at.target&&at.target.controls[at.corner],Mt=Dt&&Dt.getMouseUpHandler(st,ht,St);wt=wt||this.getPointer(st),Mt&&Mt(st,at,wt.x,wt.y)}this._setCursorFromEvent(st,ht),this._handleEvent(st,"up",it,mt),this._groupSelector=null,this._currentTransform=null,ht&&(ht.__corner=0),gt?this.requestRenderAll():mt||this.renderTop()}},_simpleEventHandler:function(st,ht){var at=this.findTarget(ht),dt=this.targets,gt={e:ht,target:at,subTargets:dt};if(this.fire(st,gt),at&&at.fire(st,gt),!dt)return at;for(var mt=0;mt<dt.length;mt++)dt[mt].fire(st,gt);return at},_handleEvent:function(st,ht,at,dt){var gt=this._target,mt=this.targets||[],yt={e:st,target:gt,subTargets:mt,button:at||it,isClick:dt||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};ht==="up"&&(yt.currentTarget=this.findTarget(st),yt.currentSubTargets=this.targets),this.fire("mouse:"+ht,yt),gt&&gt.fire("mouse"+ht,yt);for(var _t=0;_t<mt.length;_t++)mt[_t].fire("mouse"+ht,yt)},_finalizeCurrentTransform:function(st){var ht=this._currentTransform,at=ht.target,dt={e:st,target:at,transform:ht,action:ht.action};at._scaling&&(at._scaling=!1),at.setCoords(),(ht.actionPerformed||this.stateful&&at.hasStateChanged())&&this._fire("modified",dt)},_onMouseDownInDrawingMode:function(st){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(st).requestRenderAll();var ht=this.getPointer(st);this.freeDrawingBrush.onMouseDown(ht,{e:st,pointer:ht}),this._handleEvent(st,"down")},_onMouseMoveInDrawingMode:function(st){if(this._isCurrentlyDrawing){var ht=this.getPointer(st);this.freeDrawingBrush.onMouseMove(ht,{e:st,pointer:ht})}this.setCursor(this.freeDrawingCursor),this._handleEvent(st,"move")},_onMouseUpInDrawingMode:function(st){var ht=this.getPointer(st);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:st,pointer:ht}),this._handleEvent(st,"up")},__onMouseDown:function(st){this._cacheTransformEventData(st),this._handleEvent(st,"down:before");var ht=this._target;if(rt(st,lt)){this.fireRightClick&&this._handleEvent(st,"down",lt);return}if(rt(st,ft)){this.fireMiddleClick&&this._handleEvent(st,"down",ft);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(st);return}if(this._isMainEvent(st)&&!this._currentTransform){var at=this._pointer;this._previousPointer=at;var dt=this._shouldRender(ht),gt=this._shouldGroup(st,ht);if(this._shouldClearSelection(st,ht)?this.discardActiveObject(st):gt&&(this._handleGrouping(st,ht),ht=this._activeObject),this.selection&&(!ht||!ht.selectable&&!ht.isEditing&&ht!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),ht){var mt=ht===this._activeObject;ht.selectable&&ht.activeOn==="down"&&this.setActiveObject(ht,st);var yt=ht._findTargetCorner(this.getPointer(st,!0),_e.util.isTouchEvent(st));if(ht.__corner=yt,ht===this._activeObject&&(yt||!gt)){this._setupCurrentTransform(st,ht,mt);var _t=ht.controls[yt],at=this.getPointer(st),wt=_t&&_t.getMouseDownHandler(st,ht,_t);wt&&wt(st,this._currentTransform,at.x,at.y)}}this._handleEvent(st,"down"),(dt||gt)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(st){this._resetTransformEventData(),this._pointer=this.getPointer(st,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(st)||null},_beforeTransform:function(st){var ht=this._currentTransform;this.stateful&&ht.target.saveState(),this.fire("before:transform",{e:st,transform:ht})},__onMouseMove:function(st){this._handleEvent(st,"move:before"),this._cacheTransformEventData(st);var ht,at;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(st);return}if(this._isMainEvent(st)){var dt=this._groupSelector;dt?(at=this._absolutePointer,dt.left=at.x-dt.ex,dt.top=at.y-dt.ey,this.renderTop()):this._currentTransform?this._transformObject(st):(ht=this.findTarget(st)||null,this._setCursorFromEvent(st,ht),this._fireOverOutEvents(ht,st)),this._handleEvent(st,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(st,ht){var at=this._hoveredTarget,dt=this._hoveredTargets,gt=this.targets,mt=Math.max(dt.length,gt.length);this.fireSyntheticInOutEvents(st,ht,{oldTarget:at,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var yt=0;yt<mt;yt++)this.fireSyntheticInOutEvents(gt[yt],ht,{oldTarget:dt[yt],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=st,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(st,ht){var at=this._draggedoverTarget,dt=this._hoveredTargets,gt=this.targets,mt=Math.max(dt.length,gt.length);this.fireSyntheticInOutEvents(st,ht,{oldTarget:at,evtOut:"dragleave",evtIn:"dragenter"});for(var yt=0;yt<mt;yt++)this.fireSyntheticInOutEvents(gt[yt],ht,{oldTarget:dt[yt],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=st},fireSyntheticInOutEvents:function(st,ht,at){var dt,gt,mt=at.oldTarget,yt,_t,wt=mt!==st,St=at.canvasEvtIn,Tt=at.canvasEvtOut;wt&&(dt={e:ht,target:st,previousTarget:mt},gt={e:ht,target:mt,nextTarget:st}),_t=st&&wt,yt=mt&&wt,yt&&(Tt&&this.fire(Tt,gt),mt.fire(at.evtOut,gt)),_t&&(St&&this.fire(St,dt),st.fire(at.evtIn,dt))},__onMouseWheel:function(st){this._cacheTransformEventData(st),this._handleEvent(st,"wheel"),this._resetTransformEventData()},_transformObject:function(st){var ht=this.getPointer(st),at=this._currentTransform;at.reset=!1,at.shiftKey=st.shiftKey,at.altKey=st[this.centeredKey],this._performTransformAction(st,at,ht),at.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(st,ht,at){var dt=at.x,gt=at.y,mt=ht.action,yt=!1,_t=ht.actionHandler;_t&&(yt=_t(st,ht,dt,gt)),mt==="drag"&&yt&&(ht.target.isMoving=!0,this.setCursor(ht.target.moveCursor||this.moveCursor)),ht.actionPerformed=ht.actionPerformed||yt},_fire:_e.controlsUtils.fireEvent,_setCursorFromEvent:function(st,ht){if(!ht)return this.setCursor(this.defaultCursor),!1;var at=ht.hoverCursor||this.hoverCursor,dt=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,gt=(!dt||!dt.contains(ht))&&ht._findTargetCorner(this.getPointer(st,!0));gt?this.setCursor(this.getCornerCursor(gt,ht,st)):(ht.subTargetCheck&&this.targets.concat().reverse().map(function(mt){at=mt.hoverCursor||at}),this.setCursor(at))},getCornerCursor:function(st,ht,at){var dt=ht.controls[st];return dt.cursorStyleHandler(at,dt,ht)}})}(),function(){var ut=Math.min,nt=Math.max;_e.util.object.extend(_e.Canvas.prototype,{_shouldGroup:function(lt,ft){var it=this._activeObject;return it&&this._isSelectionKeyPressed(lt)&&ft&&ft.selectable&&this.selection&&(it!==ft||it.type==="activeSelection")&&!ft.onSelect({e:lt})},_handleGrouping:function(lt,ft){var it=this._activeObject;it.__corner||ft===it&&(ft=this.findTarget(lt,!0),!ft||!ft.selectable)||(it&&it.type==="activeSelection"?this._updateActiveSelection(ft,lt):this._createActiveSelection(ft,lt))},_updateActiveSelection:function(lt,ft){var it=this._activeObject,ot=it._objects.slice(0);it.contains(lt)?(it.removeWithUpdate(lt),this._hoveredTarget=lt,this._hoveredTargets=this.targets.concat(),it.size()===1&&this._setActiveObject(it.item(0),ft)):(it.addWithUpdate(lt),this._hoveredTarget=it,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(ot,ft)},_createActiveSelection:function(lt,ft){var it=this.getActiveObjects(),ot=this._createGroup(lt);this._hoveredTarget=ot,this._setActiveObject(ot,ft),this._fireSelectionEvents(it,ft)},_createGroup:function(lt){var ft=this._objects,it=ft.indexOf(this._activeObject)<ft.indexOf(lt),ot=it?[this._activeObject,lt]:[lt,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new _e.ActiveSelection(ot,{canvas:this})},_groupSelectedObjects:function(lt){var ft=this._collectObjects(lt),it;ft.length===1?this.setActiveObject(ft[0],lt):ft.length>1&&(it=new _e.ActiveSelection(ft.reverse(),{canvas:this}),this.setActiveObject(it,lt))},_collectObjects:function(lt){for(var ft=[],it,ot=this._groupSelector.ex,rt=this._groupSelector.ey,st=ot+this._groupSelector.left,ht=rt+this._groupSelector.top,at=new _e.Point(ut(ot,st),ut(rt,ht)),dt=new _e.Point(nt(ot,st),nt(rt,ht)),gt=!this.selectionFullyContained,mt=ot===st&&rt===ht,yt=this._objects.length;yt--&&(it=this._objects[yt],!(!(!it||!it.selectable||!it.visible)&&(gt&&it.intersectsWithRect(at,dt,!0)||it.isContainedWithinRect(at,dt,!0)||gt&&it.containsPoint(at,null,!0)||gt&&it.containsPoint(dt,null,!0))&&(ft.push(it),mt))););return ft.length>1&&(ft=ft.filter(function(_t){return!_t.onSelect({e:lt})})),ft},_maybeGroupObjects:function(lt){this.selection&&this._groupSelector&&this._groupSelectedObjects(lt),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){_e.util.object.extend(_e.StaticCanvas.prototype,{toDataURL:function(ut){ut||(ut={});var nt=ut.format||"png",lt=ut.quality||1,ft=(ut.multiplier||1)*(ut.enableRetinaScaling?this.getRetinaScaling():1),it=this.toCanvasElement(ft,ut);return _e.util.toDataURL(it,nt,lt)},toCanvasElement:function(ut,nt){ut=ut||1,nt=nt||{};var lt=(nt.width||this.width)*ut,ft=(nt.height||this.height)*ut,it=this.getZoom(),ot=this.width,rt=this.height,st=it*ut,ht=this.viewportTransform,at=(ht[4]-(nt.left||0))*ut,dt=(ht[5]-(nt.top||0))*ut,gt=this.interactive,mt=[st,0,0,st,at,dt],yt=this.enableRetinaScaling,_t=_e.util.createCanvasElement(),wt=this.contextTop;return _t.width=lt,_t.height=ft,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=mt,this.width=lt,this.height=ft,this.calcViewportBoundaries(),this.renderCanvas(_t.getContext("2d"),this._objects),this.viewportTransform=ht,this.width=ot,this.height=rt,this.calcViewportBoundaries(),this.interactive=gt,this.enableRetinaScaling=yt,this.contextTop=wt,_t}})}(),_e.util.object.extend(_e.StaticCanvas.prototype,{loadFromJSON:function(ut,nt,lt){if(ut){var ft=typeof ut=="string"?JSON.parse(ut):_e.util.object.clone(ut),it=this,ot=ft.clipPath,rt=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete ft.clipPath,this._enlivenObjects(ft.objects,function(st){it.clear(),it._setBgOverlay(ft,function(){ot?it._enlivenObjects([ot],function(ht){it.clipPath=ht[0],it.__setupCanvas.call(it,ft,st,rt,nt)}):it.__setupCanvas.call(it,ft,st,rt,nt)})},lt),this}},__setupCanvas:function(ut,nt,lt,ft){var it=this;nt.forEach(function(ot,rt){it.insertAt(ot,rt)}),this.renderOnAddRemove=lt,delete ut.objects,delete ut.backgroundImage,delete ut.overlayImage,delete ut.background,delete ut.overlay,this._setOptions(ut),this.renderAll(),ft&&ft()},_setBgOverlay:function(ut,nt){var lt={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!ut.backgroundImage&&!ut.overlayImage&&!ut.background&&!ut.overlay){nt&&nt();return}var ft=function(){lt.backgroundImage&&lt.overlayImage&&lt.backgroundColor&&lt.overlayColor&&nt&&nt()};this.__setBgOverlay("backgroundImage",ut.backgroundImage,lt,ft),this.__setBgOverlay("overlayImage",ut.overlayImage,lt,ft),this.__setBgOverlay("backgroundColor",ut.background,lt,ft),this.__setBgOverlay("overlayColor",ut.overlay,lt,ft)},__setBgOverlay:function(ut,nt,lt,ft){var it=this;if(!nt){lt[ut]=!0,ft&&ft();return}ut==="backgroundImage"||ut==="overlayImage"?_e.util.enlivenObjects([nt],function(ot){it[ut]=ot[0],lt[ut]=!0,ft&&ft()}):this["set"+_e.util.string.capitalize(ut,!0)](nt,function(){lt[ut]=!0,ft&&ft()})},_enlivenObjects:function(ut,nt,lt){if(!ut||ut.length===0){nt&&nt([]);return}_e.util.enlivenObjects(ut,function(ft){nt&&nt(ft)},null,lt)},_toDataURL:function(ut,nt){this.clone(function(lt){nt(lt.toDataURL(ut))})},_toDataURLWithMultiplier:function(ut,nt,lt){this.clone(function(ft){lt(ft.toDataURLWithMultiplier(ut,nt))})},clone:function(ut,nt){var lt=JSON.stringify(this.toJSON(nt));this.cloneWithoutData(function(ft){ft.loadFromJSON(lt,function(){ut&&ut(ft)})})},cloneWithoutData:function(ut){var nt=_e.util.createCanvasElement();nt.width=this.width,nt.height=this.height;var lt=new _e.Canvas(nt);this.backgroundImage?(lt.setBackgroundImage(this.backgroundImage.src,function(){lt.renderAll(),ut&&ut(lt)}),lt.backgroundImageOpacity=this.backgroundImageOpacity,lt.backgroundImageStretch=this.backgroundImageStretch):ut&&ut(lt)}}),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.util.object.clone,it=nt.util.toFixed,ot=nt.util.string.capitalize,rt=nt.util.degreesToRadians,st=!nt.isLikelyNode,ht=2;nt.Object||(nt.Object=nt.util.createClass(nt.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:st,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(at){at&&this.setOptions(at)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=nt.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(at){var dt=nt.perfLimitSizeTotal,gt=at.width,mt=at.height,yt=nt.maxCacheSideLimit,_t=nt.minCacheSideLimit;if(gt<=yt&&mt<=yt&&gt*mt<=dt)return gt<_t&&(at.width=_t),mt<_t&&(at.height=_t),at;var wt=gt/mt,St=nt.util.limitDimsByArea(wt,dt),Tt=nt.util.capValue,Dt=Tt(_t,St.x,yt),Mt=Tt(_t,St.y,yt);return gt>Dt&&(at.zoomX/=gt/Dt,at.width=Dt,at.capped=!0),mt>Mt&&(at.zoomY/=mt/Mt,at.height=Mt,at.capped=!0),at},_getCacheCanvasDimensions:function(){var at=this.getTotalObjectScaling(),dt=this._getTransformedDimensions(0,0),gt=dt.x*at.scaleX/this.scaleX,mt=dt.y*at.scaleY/this.scaleY;return{width:gt+ht,height:mt+ht,zoomX:at.scaleX,zoomY:at.scaleY,x:gt,y:mt}},_updateCacheCanvas:function(){var at=this.canvas;if(this.noScaleCache&&at&&at._currentTransform){var dt=at._currentTransform.target,gt=at._currentTransform.action;if(this===dt&&gt.slice&&gt.slice(0,5)==="scale")return!1}var mt=this._cacheCanvas,yt=this._limitCacheSize(this._getCacheCanvasDimensions()),_t=nt.minCacheSideLimit,wt=yt.width,St=yt.height,Tt,Dt,Mt=yt.zoomX,Ht=yt.zoomY,Gt=wt!==this.cacheWidth||St!==this.cacheHeight,Zt=this.zoomX!==Mt||this.zoomY!==Ht,Yt=Gt||Zt,Kt=0,Jt=0,sn=!1;if(Gt){var Ft=this._cacheCanvas.width,xt=this._cacheCanvas.height,bt=wt>Ft||St>xt,Ot=(wt<Ft*.9||St<xt*.9)&&Ft>_t&&xt>_t;sn=bt||Ot,bt&&!yt.capped&&(wt>_t||St>_t)&&(Kt=wt*.1,Jt=St*.1)}return this instanceof nt.Text&&this.path&&(Yt=!0,sn=!0,Kt+=this.getHeightOfLine(0)*this.zoomX,Jt+=this.getHeightOfLine(0)*this.zoomY),Yt?(sn?(mt.width=Math.ceil(wt+Kt),mt.height=Math.ceil(St+Jt)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,mt.width,mt.height)),Tt=yt.x/2,Dt=yt.y/2,this.cacheTranslationX=Math.round(mt.width/2-Tt)+Tt,this.cacheTranslationY=Math.round(mt.height/2-Dt)+Dt,this.cacheWidth=wt,this.cacheHeight=St,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Mt,Ht),this.zoomX=Mt,this.zoomY=Ht,!0):!1},setOptions:function(at){this._setOptions(at),this._initGradient(at.fill,"fill"),this._initGradient(at.stroke,"stroke"),this._initPattern(at.fill,"fill"),this._initPattern(at.stroke,"stroke")},transform:function(at){var dt=this.group&&!this.group._transformDone||this.group&&this.canvas&&at===this.canvas.contextTop,gt=this.calcTransformMatrix(!dt);at.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5])},toObject:function(at){var dt=nt.Object.NUM_FRACTION_DIGITS,gt={type:this.type,version:nt.version,originX:this.originX,originY:this.originY,left:it(this.left,dt),top:it(this.top,dt),width:it(this.width,dt),height:it(this.height,dt),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:it(this.strokeWidth,dt),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:it(this.strokeMiterLimit,dt),scaleX:it(this.scaleX,dt),scaleY:it(this.scaleY,dt),angle:it(this.angle,dt),flipX:this.flipX,flipY:this.flipY,opacity:it(this.opacity,dt),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:it(this.skewX,dt),skewY:it(this.skewY,dt)};return this.clipPath&&!this.clipPath.excludeFromExport&&(gt.clipPath=this.clipPath.toObject(at),gt.clipPath.inverted=this.clipPath.inverted,gt.clipPath.absolutePositioned=this.clipPath.absolutePositioned),nt.util.populateWithProperties(this,gt,at),this.includeDefaultValues||(gt=this._removeDefaultValues(gt)),gt},toDatalessObject:function(at){return this.toObject(at)},_removeDefaultValues:function(at){var dt=nt.util.getKlass(at.type).prototype,gt=dt.stateProperties;return gt.forEach(function(mt){mt==="left"||mt==="top"||(at[mt]===dt[mt]&&delete at[mt],Array.isArray(at[mt])&&Array.isArray(dt[mt])&&at[mt].length===0&&dt[mt].length===0&&delete at[mt])}),at},toString:function(){return"#<fabric."+ot(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var at=nt.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(at.scaleX),scaleY:Math.abs(at.scaleY)}},getTotalObjectScaling:function(){var at=this.getObjectScaling(),dt=at.scaleX,gt=at.scaleY;if(this.canvas){var mt=this.canvas.getZoom(),yt=this.canvas.getRetinaScaling();dt*=mt*yt,gt*=mt*yt}return{scaleX:dt,scaleY:gt}},getObjectOpacity:function(){var at=this.opacity;return this.group&&(at*=this.group.getObjectOpacity()),at},_set:function(at,dt){var gt=at==="scaleX"||at==="scaleY",mt=this[at]!==dt,yt=!1;return gt&&(dt=this._constrainScale(dt)),at==="scaleX"&&dt<0?(this.flipX=!this.flipX,dt*=-1):at==="scaleY"&&dt<0?(this.flipY=!this.flipY,dt*=-1):at==="shadow"&&dt&&!(dt instanceof nt.Shadow)?dt=new nt.Shadow(dt):at==="dirty"&&this.group&&this.group.set("dirty",dt),this[at]=dt,mt&&(yt=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(at)>-1?(this.dirty=!0,yt&&this.group.set("dirty",!0)):yt&&this.stateProperties.indexOf(at)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:nt.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(at){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(at.save(),this._setupCompositeOperation(at),this.drawSelectionBackground(at),this.transform(at),this._setOpacity(at),this._setShadow(at,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(at)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(at),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),at.restore())},renderCache:function(at){at=at||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,at.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(at,dt){if(at.save(),dt.inverted?at.globalCompositeOperation="destination-out":at.globalCompositeOperation="destination-in",dt.absolutePositioned){var gt=nt.util.invertTransform(this.calcTransformMatrix());at.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5])}dt.transform(at),at.scale(1/dt.zoomX,1/dt.zoomY),at.drawImage(dt._cacheCanvas,-dt.cacheTranslationX,-dt.cacheTranslationY),at.restore()},drawObject:function(at,dt){var gt=this.fill,mt=this.stroke;dt?(this.fill="black",this.stroke="",this._setClippingProperties(at)):this._renderBackground(at),this._render(at),this._drawClipPath(at,this.clipPath),this.fill=gt,this.stroke=mt},_drawClipPath:function(at,dt){dt&&(dt.canvas=this.canvas,dt.shouldCache(),dt._transformDone=!0,dt.renderCache({forClipping:!0}),this.drawClipPathOnCache(at,dt))},drawCacheOnCanvas:function(at){at.scale(1/this.zoomX,1/this.zoomY),at.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(at){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!at&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!at){var dt=this.cacheWidth/this.zoomX,gt=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-dt/2,-gt/2,dt,gt)}return!0}return!1},_renderBackground:function(at){if(this.backgroundColor){var dt=this._getNonTransformedDimensions();at.fillStyle=this.backgroundColor,at.fillRect(-dt.x/2,-dt.y/2,dt.x,dt.y),this._removeShadow(at)}},_setOpacity:function(at){this.group&&!this.group._transformDone?at.globalAlpha=this.getObjectOpacity():at.globalAlpha*=this.opacity},_setStrokeStyles:function(at,dt){var gt=dt.stroke;gt&&(at.lineWidth=dt.strokeWidth,at.lineCap=dt.strokeLineCap,at.lineDashOffset=dt.strokeDashOffset,at.lineJoin=dt.strokeLineJoin,at.miterLimit=dt.strokeMiterLimit,gt.toLive?gt.gradientUnits==="percentage"||gt.gradientTransform||gt.patternTransform?this._applyPatternForTransformedGradient(at,gt):(at.strokeStyle=gt.toLive(at,this),this._applyPatternGradientTransform(at,gt)):at.strokeStyle=dt.stroke)},_setFillStyles:function(at,dt){var gt=dt.fill;gt&&(gt.toLive?(at.fillStyle=gt.toLive(at,this),this._applyPatternGradientTransform(at,dt.fill)):at.fillStyle=gt)},_setClippingProperties:function(at){at.globalAlpha=1,at.strokeStyle="transparent",at.fillStyle="#000000"},_setLineDash:function(at,dt){!dt||dt.length===0||(1&dt.length&&dt.push.apply(dt,dt),at.setLineDash(dt))},_renderControls:function(at,dt){var gt=this.getViewportTransform(),mt=this.calcTransformMatrix(),yt,_t,wt;dt=dt||{},_t=typeof dt.hasBorders<"u"?dt.hasBorders:this.hasBorders,wt=typeof dt.hasControls<"u"?dt.hasControls:this.hasControls,mt=nt.util.multiplyTransformMatrices(gt,mt),yt=nt.util.qrDecompose(mt),at.save(),at.translate(yt.translateX,yt.translateY),at.lineWidth=1*this.borderScaleFactor,this.group||(at.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(yt.angle-=180),at.rotate(rt(this.group?yt.angle:this.angle)),dt.forActiveSelection||this.group?_t&&this.drawBordersInGroup(at,yt,dt):_t&&this.drawBorders(at,dt),wt&&this.drawControls(at,dt),at.restore()},_setShadow:function(at){if(this.shadow){var dt=this.shadow,gt=this.canvas,mt,yt=gt&&gt.viewportTransform[0]||1,_t=gt&&gt.viewportTransform[3]||1;dt.nonScaling?mt={scaleX:1,scaleY:1}:mt=this.getObjectScaling(),gt&&gt._isRetinaScaling()&&(yt*=nt.devicePixelRatio,_t*=nt.devicePixelRatio),at.shadowColor=dt.color,at.shadowBlur=dt.blur*nt.browserShadowBlurConstant*(yt+_t)*(mt.scaleX+mt.scaleY)/4,at.shadowOffsetX=dt.offsetX*yt*mt.scaleX,at.shadowOffsetY=dt.offsetY*_t*mt.scaleY}},_removeShadow:function(at){this.shadow&&(at.shadowColor="",at.shadowBlur=at.shadowOffsetX=at.shadowOffsetY=0)},_applyPatternGradientTransform:function(at,dt){if(!dt||!dt.toLive)return{offsetX:0,offsetY:0};var gt=dt.gradientTransform||dt.patternTransform,mt=-this.width/2+dt.offsetX||0,yt=-this.height/2+dt.offsetY||0;return dt.gradientUnits==="percentage"?at.transform(this.width,0,0,this.height,mt,yt):at.transform(1,0,0,1,mt,yt),gt&&at.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]),{offsetX:mt,offsetY:yt}},_renderPaintInOrder:function(at){this.paintFirst==="stroke"?(this._renderStroke(at),this._renderFill(at)):(this._renderFill(at),this._renderStroke(at))},_render:function(){},_renderFill:function(at){this.fill&&(at.save(),this._setFillStyles(at,this),this.fillRule==="evenodd"?at.fill("evenodd"):at.fill(),at.restore())},_renderStroke:function(at){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(at),at.save(),this.strokeUniform&&this.group){var dt=this.getObjectScaling();at.scale(1/dt.scaleX,1/dt.scaleY)}else this.strokeUniform&&at.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(at,this.strokeDashArray),this._setStrokeStyles(at,this),at.stroke(),at.restore()}},_applyPatternForTransformedGradient:function(at,dt){var gt=this._limitCacheSize(this._getCacheCanvasDimensions()),mt=nt.util.createCanvasElement(),yt,_t=this.canvas.getRetinaScaling(),wt=gt.x/this.scaleX/_t,St=gt.y/this.scaleY/_t;mt.width=wt,mt.height=St,yt=mt.getContext("2d"),yt.beginPath(),yt.moveTo(0,0),yt.lineTo(wt,0),yt.lineTo(wt,St),yt.lineTo(0,St),yt.closePath(),yt.translate(wt/2,St/2),yt.scale(gt.zoomX/this.scaleX/_t,gt.zoomY/this.scaleY/_t),this._applyPatternGradientTransform(yt,dt),yt.fillStyle=dt.toLive(at),yt.fill(),at.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),at.scale(_t*this.scaleX/gt.zoomX,_t*this.scaleY/gt.zoomY),at.strokeStyle=yt.createPattern(mt,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var at=nt.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",at.scaleX),this.set("scaleY",at.scaleY),this.angle=at.angle,this.skewX=at.skewX,this.skewY=0}},_removeTransformMatrix:function(at){var dt=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),dt=nt.util.transformPoint(dt,this.transformMatrix)),this.transformMatrix=null,at&&(this.scaleX*=at.scaleX,this.scaleY*=at.scaleY,this.cropX=at.cropX,this.cropY=at.cropY,dt.x+=at.offsetLeft,dt.y+=at.offsetTop,this.width=at.width,this.height=at.height),this.setPositionByOrigin(dt,"center","center")},clone:function(at,dt){var gt=this.toObject(dt);this.constructor.fromObject?this.constructor.fromObject(gt,at):nt.Object._fromObject("Object",gt,at)},cloneAsImage:function(at,dt){var gt=this.toCanvasElement(dt);return at&&at(new nt.Image(gt)),this},toCanvasElement:function(at){at||(at={});var dt=nt.util,gt=dt.saveObjectTransform(this),mt=this.group,yt=this.shadow,_t=Math.abs,wt=(at.multiplier||1)*(at.enableRetinaScaling?nt.devicePixelRatio:1);delete this.group,at.withoutTransform&&dt.resetObjectTransform(this),at.withoutShadow&&(this.shadow=null);var St=nt.util.createCanvasElement(),Tt=this.getBoundingRect(!0,!0),Dt=this.shadow,Mt,Ht={x:0,y:0},Gt,Zt,Yt;Dt&&(Gt=Dt.blur,Dt.nonScaling?Mt={scaleX:1,scaleY:1}:Mt=this.getObjectScaling(),Ht.x=2*Math.round(_t(Dt.offsetX)+Gt)*_t(Mt.scaleX),Ht.y=2*Math.round(_t(Dt.offsetY)+Gt)*_t(Mt.scaleY)),Zt=Tt.width+Ht.x,Yt=Tt.height+Ht.y,St.width=Math.ceil(Zt),St.height=Math.ceil(Yt);var Kt=new nt.StaticCanvas(St,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});at.format==="jpeg"&&(Kt.backgroundColor="#fff"),this.setPositionByOrigin(new nt.Point(Kt.width/2,Kt.height/2),"center","center");var Jt=this.canvas;Kt.add(this);var sn=Kt.toCanvasElement(wt||1,at);return this.shadow=yt,this.set("canvas",Jt),mt&&(this.group=mt),this.set(gt).setCoords(),Kt._objects=[],Kt.dispose(),Kt=null,sn},toDataURL:function(at){return at||(at={}),nt.util.toDataURL(this.toCanvasElement(at),at.format||"png",at.quality||1)},isType:function(at){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===at},complexity:function(){return 1},toJSON:function(at){return this.toObject(at)},rotate:function(at){var dt=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return dt&&this._setOriginToCenter(),this.set("angle",at),dt&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(at,dt){dt=dt||this.canvas.getPointer(at);var gt=new nt.Point(dt.x,dt.y),mt=this._getLeftTopCoords();return this.angle&&(gt=nt.util.rotatePoint(gt,mt,rt(-this.angle))),{x:gt.x-mt.x,y:gt.y-mt.y}},_setupCompositeOperation:function(at){this.globalCompositeOperation&&(at.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){nt.runningAnimations&&nt.runningAnimations.cancelByTarget(this)}}),nt.util.createAccessors&&nt.util.createAccessors(nt.Object),lt(nt.Object.prototype,nt.Observable),nt.Object.NUM_FRACTION_DIGITS=2,nt.Object.ENLIVEN_PROPS=["clipPath"],nt.Object._fromObject=function(at,dt,gt,mt){var yt=nt[at];dt=ft(dt,!0),nt.util.enlivenPatterns([dt.fill,dt.stroke],function(_t){typeof _t[0]<"u"&&(dt.fill=_t[0]),typeof _t[1]<"u"&&(dt.stroke=_t[1]),nt.util.enlivenObjectEnlivables(dt,dt,function(){var wt=mt?new yt(dt[mt],dt):new yt(dt);gt&&gt(wt)})})},nt.Object.__uid=0)}($),function(){var ut=_e.util.degreesToRadians,nt={left:-.5,center:0,right:.5},lt={top:-.5,center:0,bottom:.5};_e.util.object.extend(_e.Object.prototype,{translateToGivenOrigin:function(ft,it,ot,rt,st){var ht=ft.x,at=ft.y,dt,gt,mt;return typeof it=="string"?it=nt[it]:it-=.5,typeof rt=="string"?rt=nt[rt]:rt-=.5,dt=rt-it,typeof ot=="string"?ot=lt[ot]:ot-=.5,typeof st=="string"?st=lt[st]:st-=.5,gt=st-ot,(dt||gt)&&(mt=this._getTransformedDimensions(),ht=ft.x+dt*mt.x,at=ft.y+gt*mt.y),new _e.Point(ht,at)},translateToCenterPoint:function(ft,it,ot){var rt=this.translateToGivenOrigin(ft,it,ot,"center","center");return this.angle?_e.util.rotatePoint(rt,ft,ut(this.angle)):rt},translateToOriginPoint:function(ft,it,ot){var rt=this.translateToGivenOrigin(ft,"center","center",it,ot);return this.angle?_e.util.rotatePoint(rt,ft,ut(this.angle)):rt},getCenterPoint:function(){var ft=new _e.Point(this.left,this.top);return this.translateToCenterPoint(ft,this.originX,this.originY)},getPointByOrigin:function(ft,it){var ot=this.getCenterPoint();return this.translateToOriginPoint(ot,ft,it)},toLocalPoint:function(ft,it,ot){var rt=this.getCenterPoint(),st,ht;return typeof it<"u"&&typeof ot<"u"?st=this.translateToGivenOrigin(rt,"center","center",it,ot):st=new _e.Point(this.left,this.top),ht=new _e.Point(ft.x,ft.y),this.angle&&(ht=_e.util.rotatePoint(ht,rt,-ut(this.angle))),ht.subtractEquals(st)},setPositionByOrigin:function(ft,it,ot){var rt=this.translateToCenterPoint(ft,it,ot),st=this.translateToOriginPoint(rt,this.originX,this.originY);this.set("left",st.x),this.set("top",st.y)},adjustPosition:function(ft){var it=ut(this.angle),ot=this.getScaledWidth(),rt=_e.util.cos(it)*ot,st=_e.util.sin(it)*ot,ht,at;typeof this.originX=="string"?ht=nt[this.originX]:ht=this.originX-.5,typeof ft=="string"?at=nt[ft]:at=ft-.5,this.left+=rt*(at-ht),this.top+=st*(at-ht),this.setCoords(),this.originX=ft},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var ft=this.getCenterPoint();this.originX="center",this.originY="center",this.left=ft.x,this.top=ft.y},_resetOrigin:function(){var ft=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=ft.x,this.top=ft.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function ut(ot){return[new _e.Point(ot.tl.x,ot.tl.y),new _e.Point(ot.tr.x,ot.tr.y),new _e.Point(ot.br.x,ot.br.y),new _e.Point(ot.bl.x,ot.bl.y)]}var nt=_e.util,lt=nt.degreesToRadians,ft=nt.multiplyTransformMatrices,it=nt.transformPoint;nt.object.extend(_e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(ot,rt){return rt?ot?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),ot?this.aCoords:this.lineCoords)},getCoords:function(ot,rt){return ut(this._getCoords(ot,rt))},intersectsWithRect:function(ot,rt,st,ht){var at=this.getCoords(st,ht),dt=_e.Intersection.intersectPolygonRectangle(at,ot,rt);return dt.status==="Intersection"},intersectsWithObject:function(ot,rt,st){var ht=_e.Intersection.intersectPolygonPolygon(this.getCoords(rt,st),ot.getCoords(rt,st));return ht.status==="Intersection"||ot.isContainedWithinObject(this,rt,st)||this.isContainedWithinObject(ot,rt,st)},isContainedWithinObject:function(ot,rt,st){for(var ht=this.getCoords(rt,st),at=rt?ot.aCoords:ot.lineCoords,dt=0,gt=ot._getImageLines(at);dt<4;dt++)if(!ot.containsPoint(ht[dt],gt))return!1;return!0},isContainedWithinRect:function(ot,rt,st,ht){var at=this.getBoundingRect(st,ht);return at.left>=ot.x&&at.left+at.width<=rt.x&&at.top>=ot.y&&at.top+at.height<=rt.y},containsPoint:function(ot,dt,st,ht){var at=this._getCoords(st,ht),dt=dt||this._getImageLines(at),gt=this._findCrossPoints(ot,dt);return gt!==0&&gt%2===1},isOnScreen:function(ot){if(!this.canvas)return!1;var rt=this.canvas.vptCoords.tl,st=this.canvas.vptCoords.br,ht=this.getCoords(!0,ot);return ht.some(function(at){return at.x<=st.x&&at.x>=rt.x&&at.y<=st.y&&at.y>=rt.y})||this.intersectsWithRect(rt,st,!0,ot)?!0:this._containsCenterOfCanvas(rt,st,ot)},_containsCenterOfCanvas:function(ot,rt,st){var ht={x:(ot.x+rt.x)/2,y:(ot.y+rt.y)/2};return!!this.containsPoint(ht,null,!0,st)},isPartiallyOnScreen:function(ot){if(!this.canvas)return!1;var rt=this.canvas.vptCoords.tl,st=this.canvas.vptCoords.br;if(this.intersectsWithRect(rt,st,!0,ot))return!0;var ht=this.getCoords(!0,ot).every(function(at){return(at.x>=st.x||at.x<=rt.x)&&(at.y>=st.y||at.y<=rt.y)});return ht&&this._containsCenterOfCanvas(rt,st,ot)},_getImageLines:function(ot){var rt={topline:{o:ot.tl,d:ot.tr},rightline:{o:ot.tr,d:ot.br},bottomline:{o:ot.br,d:ot.bl},leftline:{o:ot.bl,d:ot.tl}};return rt},_findCrossPoints:function(ot,rt){var st,ht,at,dt,gt,mt=0,yt;for(var _t in rt)if(yt=rt[_t],!(yt.o.y<ot.y&&yt.d.y<ot.y)&&!(yt.o.y>=ot.y&&yt.d.y>=ot.y)&&(yt.o.x===yt.d.x&&yt.o.x>=ot.x?gt=yt.o.x:(st=0,ht=(yt.d.y-yt.o.y)/(yt.d.x-yt.o.x),at=ot.y-st*ot.x,dt=yt.o.y-ht*yt.o.x,gt=-(at-dt)/(st-ht)),gt>=ot.x&&(mt+=1),mt===2))break;return mt},getBoundingRect:function(ot,rt){var st=this.getCoords(ot,rt);return nt.makeBoundingBoxFromPoints(st)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(ot){return Math.abs(ot)<this.minScaleLimit?ot<0?-this.minScaleLimit:this.minScaleLimit:ot===0?1e-4:ot},scale:function(ot){return this._set("scaleX",ot),this._set("scaleY",ot),this.setCoords()},scaleToWidth:function(ot,rt){var st=this.getBoundingRect(rt).width/this.getScaledWidth();return this.scale(ot/this.width/st)},scaleToHeight:function(ot,rt){var st=this.getBoundingRect(rt).height/this.getScaledHeight();return this.scale(ot/this.height/st)},calcLineCoords:function(){var ot=this.getViewportTransform(),rt=this.padding,st=lt(this.angle),ht=nt.cos(st),at=nt.sin(st),dt=ht*rt,gt=at*rt,mt=dt+gt,yt=dt-gt,_t=this.calcACoords(),wt={tl:it(_t.tl,ot),tr:it(_t.tr,ot),bl:it(_t.bl,ot),br:it(_t.br,ot)};return rt&&(wt.tl.x-=yt,wt.tl.y-=mt,wt.tr.x+=mt,wt.tr.y-=yt,wt.bl.x-=mt,wt.bl.y+=yt,wt.br.x+=yt,wt.br.y+=mt),wt},calcOCoords:function(){var ot=this._calcRotateMatrix(),rt=this._calcTranslateMatrix(),st=this.getViewportTransform(),ht=ft(st,rt),at=ft(ht,ot),at=ft(at,[1/st[0],0,0,1/st[3],0,0]),dt=this._calculateCurrentDimensions(),gt={};return this.forEachControl(function(mt,yt,_t){gt[yt]=mt.positionHandler(dt,at,_t)}),gt},calcACoords:function(){var ot=this._calcRotateMatrix(),rt=this._calcTranslateMatrix(),st=ft(rt,ot),ht=this._getTransformedDimensions(),at=ht.x/2,dt=ht.y/2;return{tl:it({x:-at,y:-dt},st),tr:it({x:at,y:-dt},st),bl:it({x:-at,y:dt},st),br:it({x:at,y:dt},st)}},setCoords:function(ot){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),ot?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return nt.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var ot=this.getCenterPoint();return[1,0,0,1,ot.x,ot.y]},transformMatrixKey:function(ot){var rt="_",st="";return!ot&&this.group&&(st=this.group.transformMatrixKey(ot)+rt),st+this.top+rt+this.left+rt+this.scaleX+rt+this.scaleY+rt+this.skewX+rt+this.skewY+rt+this.angle+rt+this.originX+rt+this.originY+rt+this.width+rt+this.height+rt+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(ot){var rt=this.calcOwnMatrix();if(ot||!this.group)return rt;var st=this.transformMatrixKey(ot),ht=this.matrixCache||(this.matrixCache={});return ht.key===st?ht.value:(this.group&&(rt=ft(this.group.calcTransformMatrix(!1),rt)),ht.key=st,ht.value=rt,rt)},calcOwnMatrix:function(){var ot=this.transformMatrixKey(!0),rt=this.ownMatrixCache||(this.ownMatrixCache={});if(rt.key===ot)return rt.value;var st=this._calcTranslateMatrix(),ht={angle:this.angle,translateX:st[4],translateY:st[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return rt.key=ot,rt.value=nt.composeMatrix(ht),rt.value},_getNonTransformedDimensions:function(){var ot=this.strokeWidth,rt=this.width+ot,st=this.height+ot;return{x:rt,y:st}},_getTransformedDimensions:function(ot,rt){typeof ot>"u"&&(ot=this.skewX),typeof rt>"u"&&(rt=this.skewY);var st,ht,at,dt=ot===0&&rt===0;if(this.strokeUniform?(ht=this.width,at=this.height):(st=this._getNonTransformedDimensions(),ht=st.x,at=st.y),dt)return this._finalizeDimensions(ht*this.scaleX,at*this.scaleY);var gt=nt.sizeAfterTransform(ht,at,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:ot,skewY:rt});return this._finalizeDimensions(gt.x,gt.y)},_finalizeDimensions:function(ot,rt){return this.strokeUniform?{x:ot+this.strokeWidth,y:rt+this.strokeWidth}:{x:ot,y:rt}},_calculateCurrentDimensions:function(){var ot=this.getViewportTransform(),rt=this._getTransformedDimensions(),st=it(rt,ot,!0);return st.scalarAdd(2*this.padding)}})}(),_e.util.object.extend(_e.Object.prototype,{sendToBack:function(){return this.group?_e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?_e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(ut){return this.group?_e.StaticCanvas.prototype.sendBackwards.call(this.group,this,ut):this.canvas&&this.canvas.sendBackwards(this,ut),this},bringForward:function(ut){return this.group?_e.StaticCanvas.prototype.bringForward.call(this.group,this,ut):this.canvas&&this.canvas.bringForward(this,ut),this},moveTo:function(ut){return this.group&&this.group.type!=="activeSelection"?_e.StaticCanvas.prototype.moveTo.call(this.group,this,ut):this.canvas&&this.canvas.moveTo(this,ut),this}}),function(){function ut(lt,ft){if(ft){if(ft.toLive)return lt+": url(#SVGID_"+ft.id+"); ";var it=new _e.Color(ft),ot=lt+": "+it.toRgb()+"; ",rt=it.getAlpha();return rt!==1&&(ot+=lt+"-opacity: "+rt.toString()+"; "),ot}else return lt+": none; "}var nt=_e.util.toFixed;_e.util.object.extend(_e.Object.prototype,{getSvgStyles:function(lt){var ft=this.fillRule?this.fillRule:"nonzero",it=this.strokeWidth?this.strokeWidth:"0",ot=this.strokeDashArray?this.strokeDashArray.join(" "):"none",rt=this.strokeDashOffset?this.strokeDashOffset:"0",st=this.strokeLineCap?this.strokeLineCap:"butt",ht=this.strokeLineJoin?this.strokeLineJoin:"miter",at=this.strokeMiterLimit?this.strokeMiterLimit:"4",dt=typeof this.opacity<"u"?this.opacity:"1",gt=this.visible?"":" visibility: hidden;",mt=lt?"":this.getSvgFilter(),yt=ut("fill",this.fill),_t=ut("stroke",this.stroke);return[_t,"stroke-width: ",it,"; ","stroke-dasharray: ",ot,"; ","stroke-linecap: ",st,"; ","stroke-dashoffset: ",rt,"; ","stroke-linejoin: ",ht,"; ","stroke-miterlimit: ",at,"; ",yt,"fill-rule: ",ft,"; ","opacity: ",dt,";",mt,gt].join("")},getSvgSpanStyles:function(lt,ft){var it="; ",rt=lt.fontFamily?"font-family: "+(lt.fontFamily.indexOf("'")===-1&&lt.fontFamily.indexOf('"')===-1?"'"+lt.fontFamily+"'":lt.fontFamily)+it:"",ot=lt.strokeWidth?"stroke-width: "+lt.strokeWidth+it:"",rt=rt,st=lt.fontSize?"font-size: "+lt.fontSize+"px"+it:"",ht=lt.fontStyle?"font-style: "+lt.fontStyle+it:"",at=lt.fontWeight?"font-weight: "+lt.fontWeight+it:"",dt=lt.fill?ut("fill",lt.fill):"",gt=lt.stroke?ut("stroke",lt.stroke):"",mt=this.getSvgTextDecoration(lt),yt=lt.deltaY?"baseline-shift: "+-lt.deltaY+"; ":"";return mt&&(mt="text-decoration: "+mt+it),[gt,ot,rt,st,ht,at,mt,dt,yt,ft?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(lt){return["overline","underline","line-through"].filter(function(ft){return lt[ft.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(lt,ft){var it=lt?this.calcTransformMatrix():this.calcOwnMatrix(),ot='transform="'+_e.util.matrixToSVG(it);return ot+(ft||"")+'" '},_setSVGBg:function(lt){if(this.backgroundColor){var ft=_e.Object.NUM_FRACTION_DIGITS;lt.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',nt(-this.width/2,ft),'" y="',nt(-this.height/2,ft),'" width="',nt(this.width,ft),'" height="',nt(this.height,ft),`"></rect>
`)}},toSVG:function(lt){return this._createBaseSVGMarkup(this._toSVG(lt),{reviver:lt})},toClipPathSVG:function(lt){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(lt),{reviver:lt})},_createBaseClipPathSVGMarkup:function(lt,ft){ft=ft||{};var it=ft.reviver,ot=ft.additionalTransform||"",rt=[this.getSvgTransform(!0,ot),this.getSvgCommons()].join(""),st=lt.indexOf("COMMON_PARTS");return lt[st]=rt,it?it(lt.join("")):lt.join("")},_createBaseSVGMarkup:function(lt,ft){ft=ft||{};var it=ft.noStyle,ot=ft.reviver,rt=it?"":'style="'+this.getSvgStyles()+'" ',st=ft.withShadow?'style="'+this.getSvgFilter()+'" ':"",ht=this.clipPath,at=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",dt=ht&&ht.absolutePositioned,gt=this.stroke,mt=this.fill,yt=this.shadow,_t,wt=[],St,Tt=lt.indexOf("COMMON_PARTS"),Dt=ft.additionalTransform;return ht&&(ht.clipPathId="CLIPPATH_"+_e.Object.__uid++,St='<clipPath id="'+ht.clipPathId+`" >
`+ht.toClipPathSVG(ot)+`</clipPath>
`),dt&&wt.push("<g ",st,this.getSvgCommons(),` >
`),wt.push("<g ",this.getSvgTransform(!1),dt?"":st+this.getSvgCommons(),` >
`),_t=[rt,at,it?"":this.addPaintOrder()," ",Dt?'transform="'+Dt+'" ':""].join(""),lt[Tt]=_t,mt&&mt.toLive&&wt.push(mt.toSVG(this)),gt&&gt.toLive&&wt.push(gt.toSVG(this)),yt&&wt.push(yt.toSVG(this)),ht&&wt.push(St),wt.push(lt.join("")),wt.push(`</g>
`),dt&&wt.push(`</g>
`),ot?ot(wt.join("")):wt.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var ut=_e.util.object.extend,nt="stateProperties";function lt(it,ot,rt){var st={},ht=!0;rt.forEach(function(at){st[at]=it[at]}),ut(it[ot],st,ht)}function ft(it,ot,rt){if(it===ot)return!0;if(Array.isArray(it)){if(!Array.isArray(ot)||it.length!==ot.length)return!1;for(var st=0,ht=it.length;st<ht;st++)if(!ft(it[st],ot[st]))return!1;return!0}else if(it&&typeof it=="object"){var at=Object.keys(it),dt;if(!ot||typeof ot!="object"||!rt&&at.length!==Object.keys(ot).length)return!1;for(var st=0,ht=at.length;st<ht;st++)if(dt=at[st],!(dt==="canvas"||dt==="group")&&!ft(it[dt],ot[dt]))return!1;return!0}}_e.util.object.extend(_e.Object.prototype,{hasStateChanged:function(it){it=it||nt;var ot="_"+it;return Object.keys(this[ot]).length<this[it].length?!0:!ft(this[ot],this,!0)},saveState:function(it){var ot=it&&it.propertySet||nt,rt="_"+ot;return this[rt]?(lt(this,rt,this[ot]),it&&it.stateProperties&&lt(this,rt,it.stateProperties),this):this.setupState(it)},setupState:function(it){it=it||{};var ot=it.propertySet||nt;return it.propertySet=ot,this["_"+ot]={},this.saveState(it),this}})}(),function(){var ut=_e.util.degreesToRadians;_e.util.object.extend(_e.Object.prototype,{_findTargetCorner:function(nt,lt){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var ft=nt.x,it=nt.y,ot,rt,st=Object.keys(this.oCoords),ht=st.length-1,at;for(this.__corner=0;ht>=0;ht--)if(at=st[ht],!!this.isControlVisible(at)&&(rt=this._getImageLines(lt?this.oCoords[at].touchCorner:this.oCoords[at].corner),ot=this._findCrossPoints({x:ft,y:it},rt),ot!==0&&ot%2===1))return this.__corner=at,at;return!1},forEachControl:function(nt){for(var lt in this.controls)nt(this.controls[lt],lt,this)},_setCornerCoords:function(){var nt=this.oCoords;for(var lt in nt){var ft=this.controls[lt];nt[lt].corner=ft.calcCornerCoords(this.angle,this.cornerSize,nt[lt].x,nt[lt].y,!1),nt[lt].touchCorner=ft.calcCornerCoords(this.angle,this.touchCornerSize,nt[lt].x,nt[lt].y,!0)}},drawSelectionBackground:function(nt){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;nt.save();var lt=this.getCenterPoint(),ft=this._calculateCurrentDimensions(),it=this.canvas.viewportTransform;return nt.translate(lt.x,lt.y),nt.scale(1/it[0],1/it[3]),nt.rotate(ut(this.angle)),nt.fillStyle=this.selectionBackgroundColor,nt.fillRect(-ft.x/2,-ft.y/2,ft.x,ft.y),nt.restore(),this},drawBorders:function(nt,lt){lt=lt||{};var ft=this._calculateCurrentDimensions(),it=this.borderScaleFactor,ot=ft.x+it,rt=ft.y+it,st=typeof lt.hasControls<"u"?lt.hasControls:this.hasControls,ht=!1;return nt.save(),nt.strokeStyle=lt.borderColor||this.borderColor,this._setLineDash(nt,lt.borderDashArray||this.borderDashArray),nt.strokeRect(-ot/2,-rt/2,ot,rt),st&&(nt.beginPath(),this.forEachControl(function(at,dt,gt){at.withConnection&&at.getVisibility(gt,dt)&&(ht=!0,nt.moveTo(at.x*ot,at.y*rt),nt.lineTo(at.x*ot+at.offsetX,at.y*rt+at.offsetY))}),ht&&nt.stroke()),nt.restore(),this},drawBordersInGroup:function(nt,lt,ft){ft=ft||{};var it=_e.util.sizeAfterTransform(this.width,this.height,lt),ot=this.strokeWidth,rt=this.strokeUniform,st=this.borderScaleFactor,ht=it.x+ot*(rt?this.canvas.getZoom():lt.scaleX)+st,at=it.y+ot*(rt?this.canvas.getZoom():lt.scaleY)+st;return nt.save(),this._setLineDash(nt,ft.borderDashArray||this.borderDashArray),nt.strokeStyle=ft.borderColor||this.borderColor,nt.strokeRect(-ht/2,-at/2,ht,at),nt.restore(),this},drawControls:function(nt,lt){lt=lt||{},nt.save();var ft=this.canvas.getRetinaScaling(),it,ot;return nt.setTransform(ft,0,0,ft,0,0),nt.strokeStyle=nt.fillStyle=lt.cornerColor||this.cornerColor,this.transparentCorners||(nt.strokeStyle=lt.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(nt,lt.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(it=this.group.calcTransformMatrix()),this.forEachControl(function(rt,st,ht){ot=ht.oCoords[st],rt.getVisibility(ht,st)&&(it&&(ot=_e.util.transformPoint(ot,it)),rt.render(nt,ot.x,ot.y,lt,ht))}),nt.restore(),this},isControlVisible:function(nt){return this.controls[nt]&&this.controls[nt].getVisibility(this,nt)},setControlVisible:function(nt,lt){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[nt]=lt,this},setControlsVisibility:function(nt){nt||(nt={});for(var lt in nt)this.setControlVisible(lt,nt[lt]);return this},onDeselect:function(){},onSelect:function(){}})}(),_e.util.object.extend(_e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(ut,nt){nt=nt||{};var lt=function(){},ft=nt.onComplete||lt,it=nt.onChange||lt,ot=this;return _e.util.animate({target:this,startValue:ut.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(rt){ut.set("left",rt),ot.requestRenderAll(),it()},onComplete:function(){ut.setCoords(),ft()}})},fxCenterObjectV:function(ut,nt){nt=nt||{};var lt=function(){},ft=nt.onComplete||lt,it=nt.onChange||lt,ot=this;return _e.util.animate({target:this,startValue:ut.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(rt){ut.set("top",rt),ot.requestRenderAll(),it()},onComplete:function(){ut.setCoords(),ft()}})},fxRemove:function(ut,nt){nt=nt||{};var lt=function(){},ft=nt.onComplete||lt,it=nt.onChange||lt,ot=this;return _e.util.animate({target:this,startValue:ut.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(rt){ut.set("opacity",rt),ot.requestRenderAll(),it()},onComplete:function(){ot.remove(ut),ft()}})}}),_e.util.object.extend(_e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var ut=[],nt,lt,ft=[];for(nt in arguments[0])ut.push(nt);for(var it=0,ot=ut.length;it<ot;it++)nt=ut[it],lt=it!==ot-1,ft.push(this._animate(nt,arguments[0][nt],arguments[1],lt));return ft}else return this._animate.apply(this,arguments)},_animate:function(ut,nt,lt,ft){var it=this,ot;nt=nt.toString(),lt?lt=_e.util.object.clone(lt):lt={},~ut.indexOf(".")&&(ot=ut.split("."));var rt=it.colorProperties.indexOf(ut)>-1||ot&&it.colorProperties.indexOf(ot[1])>-1,st=ot?this.get(ot[0])[ot[1]]:this.get(ut);"from"in lt||(lt.from=st),rt||(~nt.indexOf("=")?nt=st+parseFloat(nt.replace("=","")):nt=parseFloat(nt));var ht={target:this,startValue:lt.from,endValue:nt,byValue:lt.by,easing:lt.easing,duration:lt.duration,abort:lt.abort&&function(at,dt,gt){return lt.abort.call(it,at,dt,gt)},onChange:function(at,dt,gt){ot?it[ot[0]][ot[1]]=at:it.set(ut,at),!ft&&lt.onChange&&lt.onChange(at,dt,gt)},onComplete:function(at,dt,gt){ft||(it.setCoords(),lt.onComplete&&lt.onComplete(at,dt,gt))}};return rt?_e.util.animateColor(ht.startValue,ht.endValue,ht.duration,ht):_e.util.animate(ht)}}),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.util.object.clone,it={x1:1,x2:1,y1:1,y2:1};if(nt.Line){nt.warn("fabric.Line is already defined");return}nt.Line=nt.util.createClass(nt.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:nt.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(rt,st){rt||(rt=[0,0,0,0]),this.callSuper("initialize",st),this.set("x1",rt[0]),this.set("y1",rt[1]),this.set("x2",rt[2]),this.set("y2",rt[3]),this._setWidthHeight(st)},_setWidthHeight:function(rt){rt||(rt={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in rt?rt.left:this._getLeftToOriginX(),this.top="top"in rt?rt.top:this._getTopToOriginY()},_set:function(rt,st){return this.callSuper("_set",rt,st),typeof it[rt]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:ot({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:ot({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(rt){rt.beginPath();var st=this.calcLinePoints();rt.moveTo(st.x1,st.y1),rt.lineTo(st.x2,st.y2),rt.lineWidth=this.strokeWidth;var ht=rt.strokeStyle;rt.strokeStyle=this.stroke||rt.fillStyle,this.stroke&&this._renderStroke(rt),rt.strokeStyle=ht},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(rt){return lt(this.callSuper("toObject",rt),this.calcLinePoints())},_getNonTransformedDimensions:function(){var rt=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(rt.y-=this.strokeWidth),this.height===0&&(rt.x-=this.strokeWidth)),rt},calcLinePoints:function(){var rt=this.x1<=this.x2?-1:1,st=this.y1<=this.y2?-1:1,ht=rt*this.width*.5,at=st*this.height*.5,dt=rt*this.width*-.5,gt=st*this.height*-.5;return{x1:ht,x2:dt,y1:at,y2:gt}},_toSVG:function(){var rt=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',rt.x1,'" y1="',rt.y1,'" x2="',rt.x2,'" y2="',rt.y2,`" />
`]}}),nt.Line.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),nt.Line.fromElement=function(rt,st,ht){ht=ht||{};var at=nt.parseAttributes(rt,nt.Line.ATTRIBUTE_NAMES),dt=[at.x1||0,at.y1||0,at.x2||0,at.y2||0];st(new nt.Line(dt,lt(at,ht)))},nt.Line.fromObject=function(rt,st){function ht(dt){delete dt.points,st&&st(dt)}var at=ft(rt,!0);at.points=[rt.x1,rt.y1,rt.x2,rt.y2],nt.Object._fromObject("Line",at,ht,"points")};function ot(rt,st){var ht=rt.origin,at=rt.axis1,dt=rt.axis2,gt=rt.dimension,mt=st.nearest,yt=st.center,_t=st.farthest;return function(){switch(this.get(ht)){case mt:return Math.min(this.get(at),this.get(dt));case yt:return Math.min(this.get(at),this.get(dt))+.5*this.get(gt);case _t:return Math.max(this.get(at),this.get(dt))}}}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.degreesToRadians;if(nt.Circle){nt.warn("fabric.Circle is already defined.");return}nt.Circle=nt.util.createClass(nt.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:nt.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(it,ot){return this.callSuper("_set",it,ot),it==="radius"&&this.setRadius(ot),this},toObject:function(it){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(it))},_toSVG:function(){var it,ot=0,rt=0,st=(this.endAngle-this.startAngle)%360;if(st===0)it=["<circle ","COMMON_PARTS",'cx="'+ot+'" cy="'+rt+'" ','r="',this.radius,`" />
`];else{var ht=lt(this.startAngle),at=lt(this.endAngle),dt=this.radius,gt=nt.util.cos(ht)*dt,mt=nt.util.sin(ht)*dt,yt=nt.util.cos(at)*dt,_t=nt.util.sin(at)*dt,wt=st>180?"1":"0";it=['<path d="M '+gt+" "+mt," A "+dt+" "+dt," 0 ",+wt+" 1"," "+yt+" "+_t,'" ',"COMMON_PARTS",` />
`]}return it},_render:function(it){it.beginPath(),it.arc(0,0,this.radius,lt(this.startAngle),lt(this.endAngle),!1),this._renderPaintInOrder(it)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(it){return this.radius=it,this.set("width",it*2).set("height",it*2)}}),nt.Circle.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),nt.Circle.fromElement=function(it,ot){var rt=nt.parseAttributes(it,nt.Circle.ATTRIBUTE_NAMES);if(!ft(rt))throw new Error("value of `r` attribute is required and can not be negative");rt.left=(rt.left||0)-rt.radius,rt.top=(rt.top||0)-rt.radius,ot(new nt.Circle(rt))};function ft(it){return"radius"in it&&it.radius>=0}nt.Circle.fromObject=function(it,ot){nt.Object._fromObject("Circle",it,ot)}}($),function(ut){var nt=ut.fabric||(ut.fabric={});if(nt.Triangle){nt.warn("fabric.Triangle is already defined");return}nt.Triangle=nt.util.createClass(nt.Object,{type:"triangle",width:100,height:100,_render:function(lt){var ft=this.width/2,it=this.height/2;lt.beginPath(),lt.moveTo(-ft,it),lt.lineTo(0,-it),lt.lineTo(ft,it),lt.closePath(),this._renderPaintInOrder(lt)},_toSVG:function(){var lt=this.width/2,ft=this.height/2,it=[-lt+" "+ft,"0 "+-ft,lt+" "+ft].join(",");return["<polygon ","COMMON_PARTS",'points="',it,'" />']}}),nt.Triangle.fromObject=function(lt,ft){return nt.Object._fromObject("Triangle",lt,ft)}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=Math.PI*2;if(nt.Ellipse){nt.warn("fabric.Ellipse is already defined.");return}nt.Ellipse=nt.util.createClass(nt.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:nt.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ft){this.callSuper("initialize",ft),this.set("rx",ft&&ft.rx||0),this.set("ry",ft&&ft.ry||0)},_set:function(ft,it){switch(this.callSuper("_set",ft,it),ft){case"rx":this.rx=it,this.set("width",it*2);break;case"ry":this.ry=it,this.set("height",it*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(ft){return this.callSuper("toObject",["rx","ry"].concat(ft))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(ft){ft.beginPath(),ft.save(),ft.transform(1,0,0,this.ry/this.rx,0,0),ft.arc(0,0,this.rx,0,lt,!1),ft.restore(),this._renderPaintInOrder(ft)}}),nt.Ellipse.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),nt.Ellipse.fromElement=function(ft,it){var ot=nt.parseAttributes(ft,nt.Ellipse.ATTRIBUTE_NAMES);ot.left=(ot.left||0)-ot.rx,ot.top=(ot.top||0)-ot.ry,it(new nt.Ellipse(ot))},nt.Ellipse.fromObject=function(ft,it){nt.Object._fromObject("Ellipse",ft,it)}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend;if(nt.Rect){nt.warn("fabric.Rect is already defined");return}nt.Rect=nt.util.createClass(nt.Object,{stateProperties:nt.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:nt.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(ft){this.callSuper("initialize",ft),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(ft){var it=this.rx?Math.min(this.rx,this.width/2):0,ot=this.ry?Math.min(this.ry,this.height/2):0,rt=this.width,st=this.height,ht=-this.width/2,at=-this.height/2,dt=it!==0||ot!==0,gt=1-.5522847498;ft.beginPath(),ft.moveTo(ht+it,at),ft.lineTo(ht+rt-it,at),dt&&ft.bezierCurveTo(ht+rt-gt*it,at,ht+rt,at+gt*ot,ht+rt,at+ot),ft.lineTo(ht+rt,at+st-ot),dt&&ft.bezierCurveTo(ht+rt,at+st-gt*ot,ht+rt-gt*it,at+st,ht+rt-it,at+st),ft.lineTo(ht+it,at+st),dt&&ft.bezierCurveTo(ht+gt*it,at+st,ht,at+st-gt*ot,ht,at+st-ot),ft.lineTo(ht,at+ot),dt&&ft.bezierCurveTo(ht,at+gt*ot,ht+gt*it,at,ht+it,at),ft.closePath(),this._renderPaintInOrder(ft)},toObject:function(ft){return this.callSuper("toObject",["rx","ry"].concat(ft))},_toSVG:function(){var ft=-this.width/2,it=-this.height/2;return["<rect ","COMMON_PARTS",'x="',ft,'" y="',it,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),nt.Rect.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),nt.Rect.fromElement=function(ft,it,ot){if(!ft)return it(null);ot=ot||{};var rt=nt.parseAttributes(ft,nt.Rect.ATTRIBUTE_NAMES);rt.left=rt.left||0,rt.top=rt.top||0,rt.height=rt.height||0,rt.width=rt.width||0;var st=new nt.Rect(lt(ot?nt.util.object.clone(ot):{},rt));st.visible=st.visible&&st.width>0&&st.height>0,it(st)},nt.Rect.fromObject=function(ft,it){return nt.Object._fromObject("Rect",ft,it)}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.util.array.min,it=nt.util.array.max,ot=nt.util.toFixed,rt=nt.util.projectStrokeOnPoints;if(nt.Polyline){nt.warn("fabric.Polyline is already defined");return}nt.Polyline=nt.util.createClass(nt.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:nt.Object.prototype.cacheProperties.concat("points"),initialize:function(st,ht){ht=ht||{},this.points=st||[],this.callSuper("initialize",ht),this._setPositionDimensions(ht)},_projectStrokeOnPoints:function(){return rt(this.points,this,!0)},_setPositionDimensions:function(st){var ht=this._calcDimensions(st),at,dt=this.exactBoundingBox?this.strokeWidth:0;this.width=ht.width-dt,this.height=ht.height-dt,st.fromSVG||(at=this.translateToGivenOrigin({x:ht.left-this.strokeWidth/2+dt/2,y:ht.top-this.strokeWidth/2+dt/2},"left","top",this.originX,this.originY)),typeof st.left>"u"&&(this.left=st.fromSVG?ht.left:at.x),typeof st.top>"u"&&(this.top=st.fromSVG?ht.top:at.y),this.pathOffset={x:ht.left+this.width/2+dt/2,y:ht.top+this.height/2+dt/2}},_calcDimensions:function(){var st=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,ht=ft(st,"x")||0,at=ft(st,"y")||0,dt=it(st,"x")||0,gt=it(st,"y")||0,mt=dt-ht,yt=gt-at;return{left:ht,top:at,width:mt,height:yt}},toObject:function(st){return lt(this.callSuper("toObject",st),{points:this.points.concat()})},_toSVG:function(){for(var st=[],ht=this.pathOffset.x,at=this.pathOffset.y,dt=nt.Object.NUM_FRACTION_DIGITS,gt=0,mt=this.points.length;gt<mt;gt++)st.push(ot(this.points[gt].x-ht,dt),",",ot(this.points[gt].y-at,dt)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',st.join(""),`" />
`]},commonRender:function(st){var ht,at=this.points.length,dt=this.pathOffset.x,gt=this.pathOffset.y;if(!at||isNaN(this.points[at-1].y))return!1;st.beginPath(),st.moveTo(this.points[0].x-dt,this.points[0].y-gt);for(var mt=0;mt<at;mt++)ht=this.points[mt],st.lineTo(ht.x-dt,ht.y-gt);return!0},_render:function(st){this.commonRender(st)&&this._renderPaintInOrder(st)},complexity:function(){return this.get("points").length}}),nt.Polyline.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat(),nt.Polyline.fromElementGenerator=function(st){return function(ht,at,dt){if(!ht)return at(null);dt||(dt={});var gt=nt.parsePointsAttribute(ht.getAttribute("points")),mt=nt.parseAttributes(ht,nt[st].ATTRIBUTE_NAMES);mt.fromSVG=!0,at(new nt[st](gt,lt(mt,dt)))}},nt.Polyline.fromElement=nt.Polyline.fromElementGenerator("Polyline"),nt.Polyline.fromObject=function(st,ht){return nt.Object._fromObject("Polyline",st,ht,"points")}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.projectStrokeOnPoints;if(nt.Polygon){nt.warn("fabric.Polygon is already defined");return}nt.Polygon=nt.util.createClass(nt.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return lt(this.points,this)},_render:function(ft){this.commonRender(ft)&&(ft.closePath(),this._renderPaintInOrder(ft))}}),nt.Polygon.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat(),nt.Polygon.fromElement=nt.Polyline.fromElementGenerator("Polygon"),nt.Polygon.fromObject=function(ft,it){nt.Object._fromObject("Polygon",ft,it,"points")}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.array.min,ft=nt.util.array.max,it=nt.util.object.extend,ot=nt.util.object.clone,rt=nt.util.toFixed;if(nt.Path){nt.warn("fabric.Path is already defined");return}nt.Path=nt.util.createClass(nt.Object,{type:"path",path:null,cacheProperties:nt.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:nt.Object.prototype.stateProperties.concat("path"),initialize:function(st,ht){ht=ot(ht||{}),delete ht.path,this.callSuper("initialize",ht),this._setPath(st||[],ht)},_setPath:function(st,ht){this.path=nt.util.makePathSimpler(Array.isArray(st)?st:nt.util.parsePath(st)),nt.Polyline.prototype._setPositionDimensions.call(this,ht||{})},_renderPathCommands:function(st){var ht,at=0,dt=0,gt=0,mt=0,yt=0,_t=0,wt=-this.pathOffset.x,St=-this.pathOffset.y;st.beginPath();for(var Tt=0,Dt=this.path.length;Tt<Dt;++Tt)switch(ht=this.path[Tt],ht[0]){case"L":gt=ht[1],mt=ht[2],st.lineTo(gt+wt,mt+St);break;case"M":gt=ht[1],mt=ht[2],at=gt,dt=mt,st.moveTo(gt+wt,mt+St);break;case"C":gt=ht[5],mt=ht[6],yt=ht[3],_t=ht[4],st.bezierCurveTo(ht[1]+wt,ht[2]+St,yt+wt,_t+St,gt+wt,mt+St);break;case"Q":st.quadraticCurveTo(ht[1]+wt,ht[2]+St,ht[3]+wt,ht[4]+St),gt=ht[3],mt=ht[4],yt=ht[1],_t=ht[2];break;case"z":case"Z":gt=at,mt=dt,st.closePath();break}},_render:function(st){this._renderPathCommands(st),this._renderPaintInOrder(st)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(st){return it(this.callSuper("toObject",st),{path:this.path.map(function(ht){return ht.slice()})})},toDatalessObject:function(st){var ht=this.toObject(["sourcePath"].concat(st));return ht.sourcePath&&delete ht.path,ht},_toSVG:function(){var st=nt.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',st,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var st=nt.Object.NUM_FRACTION_DIGITS;return" translate("+rt(-this.pathOffset.x,st)+", "+rt(-this.pathOffset.y,st)+")"},toClipPathSVG:function(st){var ht=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:st,additionalTransform:ht})},toSVG:function(st){var ht=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:st,additionalTransform:ht})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var st=[],ht=[],at,dt=0,gt=0,mt=0,yt=0,_t,wt=0,St=this.path.length;wt<St;++wt){switch(at=this.path[wt],at[0]){case"L":mt=at[1],yt=at[2],_t=[];break;case"M":mt=at[1],yt=at[2],dt=mt,gt=yt,_t=[];break;case"C":_t=nt.util.getBoundsOfCurve(mt,yt,at[1],at[2],at[3],at[4],at[5],at[6]),mt=at[5],yt=at[6];break;case"Q":_t=nt.util.getBoundsOfCurve(mt,yt,at[1],at[2],at[1],at[2],at[3],at[4]),mt=at[3],yt=at[4];break;case"z":case"Z":mt=dt,yt=gt;break}_t.forEach(function(Yt){st.push(Yt.x),ht.push(Yt.y)}),st.push(mt),ht.push(yt)}var Tt=lt(st)||0,Dt=lt(ht)||0,Mt=ft(st)||0,Ht=ft(ht)||0,Gt=Mt-Tt,Zt=Ht-Dt;return{left:Tt,top:Dt,width:Gt,height:Zt}}}),nt.Path.fromObject=function(st,ht){if(typeof st.sourcePath=="string"){var at=st.sourcePath;nt.loadSVGFromURL(at,function(dt){var gt=dt[0];gt.setOptions(st),st.clipPath?nt.util.enlivenObjects([st.clipPath],function(mt){gt.clipPath=mt[0],ht&&ht(gt)}):ht&&ht(gt)})}else nt.Object._fromObject("Path",st,ht,"path")},nt.Path.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat(["d"]),nt.Path.fromElement=function(st,ht,at){var dt=nt.parseAttributes(st,nt.Path.ATTRIBUTE_NAMES);dt.fromSVG=!0,ht(new nt.Path(dt.d,it(dt,at)))}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.array.min,ft=nt.util.array.max;nt.Group||(nt.Group=nt.util.createClass(nt.Object,nt.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(it,ot,rt){ot=ot||{},this._objects=[],rt&&this.callSuper("initialize",ot),this._objects=it||[];for(var st=this._objects.length;st--;)this._objects[st].group=this;if(rt)this._updateObjectsACoords();else{var ht=ot&&ot.centerPoint;ot.originX!==void 0&&(this.originX=ot.originX),ot.originY!==void 0&&(this.originY=ot.originY),ht||this._calcBounds(),this._updateObjectsCoords(ht),delete ot.centerPoint,this.callSuper("initialize",ot)}this.setCoords()},_updateObjectsACoords:function(){for(var it=!0,ot=this._objects.length;ot--;)this._objects[ot].setCoords(it)},_updateObjectsCoords:function(ot){for(var ot=ot||this.getCenterPoint(),rt=this._objects.length;rt--;)this._updateObjectCoords(this._objects[rt],ot)},_updateObjectCoords:function(it,ot){var rt=it.left,st=it.top,ht=!0;it.set({left:rt-ot.x,top:st-ot.y}),it.group=this,it.setCoords(ht)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(it){var ot=!!this.group;return this._restoreObjectsState(),nt.util.resetObjectTransform(this),it&&(ot&&nt.util.removeTransformFromObject(it,this.group.calcTransformMatrix()),this._objects.push(it),it.group=this,it._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,ot?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(it){return this._restoreObjectsState(),nt.util.resetObjectTransform(this),this.remove(it),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(it){this.dirty=!0,it.group=this,it._set("canvas",this.canvas)},_onObjectRemoved:function(it){this.dirty=!0,delete it.group},_set:function(it,ot){var rt=this._objects.length;if(this.useSetOnGroup)for(;rt--;)this._objects[rt].setOnGroup(it,ot);if(it==="canvas")for(;rt--;)this._objects[rt]._set(it,ot);nt.Object.prototype._set.call(this,it,ot)},toObject:function(it){var ot=this.includeDefaultValues,rt=this._objects.filter(function(ht){return!ht.excludeFromExport}).map(function(ht){var at=ht.includeDefaultValues;ht.includeDefaultValues=ot;var dt=ht.toObject(it);return ht.includeDefaultValues=at,dt}),st=nt.Object.prototype.toObject.call(this,it);return st.objects=rt,st},toDatalessObject:function(it){var ot,rt=this.sourcePath;if(rt)ot=rt;else{var st=this.includeDefaultValues;ot=this._objects.map(function(at){var dt=at.includeDefaultValues;at.includeDefaultValues=st;var gt=at.toDatalessObject(it);return at.includeDefaultValues=dt,gt})}var ht=nt.Object.prototype.toDatalessObject.call(this,it);return ht.objects=ot,ht},render:function(it){this._transformDone=!0,this.callSuper("render",it),this._transformDone=!1},shouldCache:function(){var it=nt.Object.prototype.shouldCache.call(this);if(it){for(var ot=0,rt=this._objects.length;ot<rt;ot++)if(this._objects[ot].willDrawShadow())return this.ownCaching=!1,!1}return it},willDrawShadow:function(){if(nt.Object.prototype.willDrawShadow.call(this))return!0;for(var it=0,ot=this._objects.length;it<ot;it++)if(this._objects[it].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(it){for(var ot=0,rt=this._objects.length;ot<rt;ot++)this._objects[ot].render(it);this._drawClipPath(it,this.clipPath)},isCacheDirty:function(it){if(this.callSuper("isCacheDirty",it))return!0;if(!this.statefullCache)return!1;for(var ot=0,rt=this._objects.length;ot<rt;ot++)if(this._objects[ot].isCacheDirty(!0)){if(this._cacheCanvas){var st=this.cacheWidth/this.zoomX,ht=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-st/2,-ht/2,st,ht)}return!0}return!1},_restoreObjectsState:function(){var it=this.calcOwnMatrix();return this._objects.forEach(function(ot){nt.util.addTransformToObject(ot,it),delete ot.group,ot.setCoords()}),this},destroy:function(){return this._objects.forEach(function(it){it.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(it){it.dispose&&it.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var it=this._objects,ot=this.canvas;this._objects=[];var rt=this.toObject();delete rt.objects;var st=new nt.ActiveSelection([]);return st.set(rt),st.type="activeSelection",ot.remove(this),it.forEach(function(ht){ht.group=st,ht.dirty=!0,ot.add(ht)}),st.canvas=ot,st._objects=it,ot._activeObject=st,st.setCoords(),st}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var it=!0;return this.forEachObject(function(ot){ot.setCoords(it)}),this},_calcBounds:function(it){for(var ot=[],rt=[],st,ht,at,dt=["tr","br","bl","tl"],gt=0,mt=this._objects.length,yt,_t=dt.length;gt<mt;++gt){for(st=this._objects[gt],at=st.calcACoords(),yt=0;yt<_t;yt++)ht=dt[yt],ot.push(at[ht].x),rt.push(at[ht].y);st.aCoords=at}this._getBounds(ot,rt,it)},_getBounds:function(it,ot,rt){var st=new nt.Point(lt(it),lt(ot)),ht=new nt.Point(ft(it),ft(ot)),at=st.y||0,dt=st.x||0,gt=ht.x-st.x||0,mt=ht.y-st.y||0;this.width=gt,this.height=mt,rt||this.setPositionByOrigin({x:dt,y:at},"left","top")},_toSVG:function(it){for(var ot=["<g ","COMMON_PARTS",` >
`],rt=0,st=this._objects.length;rt<st;rt++)ot.push("		",this._objects[rt].toSVG(it));return ot.push(`</g>
`),ot},getSvgStyles:function(){var it=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",ot=this.visible?"":" visibility: hidden;";return[it,this.getSvgFilter(),ot].join("")},toClipPathSVG:function(it){for(var ot=[],rt=0,st=this._objects.length;rt<st;rt++)ot.push("	",this._objects[rt].toClipPathSVG(it));return this._createBaseClipPathSVGMarkup(ot,{reviver:it})}}),nt.Group.fromObject=function(it,ot){var rt=it.objects,st=nt.util.object.clone(it,!0);if(delete st.objects,typeof rt=="string"){nt.loadSVGFromURL(rt,function(ht){var at=nt.util.groupSVGElements(ht,it,rt),dt=st.clipPath;delete st.clipPath,at.set(st),dt?nt.util.enlivenObjects([dt],function(gt){at.clipPath=gt[0],ot&&ot(at)}):ot&&ot(at)});return}nt.util.enlivenObjects(rt,function(ht){nt.util.enlivenObjectEnlivables(it,st,function(){ot&&ot(new nt.Group(ht,st,!0))})})})}($),function(ut){var nt=ut.fabric||(ut.fabric={});nt.ActiveSelection||(nt.ActiveSelection=nt.util.createClass(nt.Group,{type:"activeSelection",initialize:function(lt,ft){ft=ft||{},this._objects=lt||[];for(var it=this._objects.length;it--;)this._objects[it].group=this;ft.originX&&(this.originX=ft.originX),ft.originY&&(this.originY=ft.originY),this._calcBounds(),this._updateObjectsCoords(),nt.Object.prototype.initialize.call(this,ft),this.setCoords()},toGroup:function(){var lt=this._objects.concat();this._objects=[];var ft=nt.Object.prototype.toObject.call(this),it=new nt.Group([]);if(delete ft.type,it.set(ft),lt.forEach(function(rt){rt.canvas.remove(rt),rt.group=it}),it._objects=lt,!this.canvas)return it;var ot=this.canvas;return ot.add(it),ot._activeObject=it,it.setCoords(),it},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(lt,ft,it){lt.save(),lt.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",lt,ft),it=it||{},typeof it.hasControls>"u"&&(it.hasControls=!1),it.forActiveSelection=!0;for(var ot=0,rt=this._objects.length;ot<rt;ot++)this._objects[ot]._renderControls(lt,it);lt.restore()}}),nt.ActiveSelection.fromObject=function(lt,ft){nt.util.enlivenObjects(lt.objects,function(it){delete lt.objects,ft&&ft(new nt.ActiveSelection(it,lt,!0))})})}($),function(ut){var nt=_e.util.object.extend;if(ut.fabric||(ut.fabric={}),ut.fabric.Image){_e.warn("fabric.Image is already defined.");return}_e.Image=_e.util.createClass(_e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:_e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:_e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(lt,ft){ft||(ft={}),this.filters=[],this.cacheKey="texture"+_e.Object.__uid++,this.callSuper("initialize",ft),this._initElement(lt,ft)},getElement:function(){return this._element||{}},setElement:function(lt,ft){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=lt,this._originalElement=lt,this._initConfig(ft),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(lt){var ft=_e.filterBackend;ft&&ft.evictCachesForKey&&ft.evictCachesForKey(lt)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(lt){_e.util.cleanUpJsdomNode(this[lt]),this[lt]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var lt=this.getElement();return{width:lt.naturalWidth||lt.width,height:lt.naturalHeight||lt.height}},_stroke:function(lt){if(!(!this.stroke||this.strokeWidth===0)){var ft=this.width/2,it=this.height/2;lt.beginPath(),lt.moveTo(-ft,-it),lt.lineTo(ft,-it),lt.lineTo(ft,it),lt.lineTo(-ft,it),lt.lineTo(-ft,-it),lt.closePath()}},toObject:function(lt){var ft=[];this.filters.forEach(function(ot){ot&&ft.push(ot.toObject())});var it=nt(this.callSuper("toObject",["cropX","cropY"].concat(lt)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:ft});return this.resizeFilter&&(it.resizeFilter=this.resizeFilter.toObject()),it},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var lt=[],ft=[],it,ot=this._element,rt=-this.width/2,st=-this.height/2,ht="",at="";if(!ot)return[];if(this.hasCrop()){var dt=_e.Object.__uid++;lt.push('<clipPath id="imageCrop_'+dt+`">
`,'	<rect x="'+rt+'" y="'+st+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),ht=' clip-path="url(#imageCrop_'+dt+')" '}if(this.imageSmoothing||(at='" image-rendering="optimizeSpeed'),ft.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',rt-this.cropX,'" y="',st-this.cropY,'" width="',ot.width||ot.naturalWidth,'" height="',ot.height||ot.height,at,'"',ht,`></image>
`),this.stroke||this.strokeDashArray){var gt=this.fill;this.fill=null,it=["	<rect ",'x="',rt,'" y="',st,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=gt}return this.paintFirst!=="fill"?lt=lt.concat(it,ft):lt=lt.concat(ft,it),lt},getSrc:function(lt){var ft=lt?this._element:this._originalElement;return ft?ft.toDataURL?ft.toDataURL():this.srcFromAttribute?ft.getAttribute("src"):ft.src:this.src||""},setSrc:function(lt,ft,it){return _e.util.loadImage(lt,function(ot,rt){this.setElement(ot,it),this._setWidthHeight(),ft&&ft(this,rt)},this,it&&it.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var lt=this.resizeFilter,ft=this.minimumScaleTrigger,it=this.getTotalObjectScaling(),ot=it.scaleX,rt=it.scaleY,st=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!lt||ot>ft&&rt>ft){this._element=st,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=ot,this._lastScaleY=rt;return}_e.filterBackend||(_e.filterBackend=_e.initFilterBackend());var ht=_e.util.createCanvasElement(),at=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,dt=st.width,gt=st.height;ht.width=dt,ht.height=gt,this._element=ht,this._lastScaleX=lt.scaleX=ot,this._lastScaleY=lt.scaleY=rt,_e.filterBackend.applyFilters([lt],st,dt,gt,this._element,at),this._filterScalingX=ht.width/this._originalElement.width,this._filterScalingY=ht.height/this._originalElement.height},applyFilters:function(lt){if(lt=lt||this.filters||[],lt=lt.filter(function(st){return st&&!st.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),lt.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var ft=this._originalElement,it=ft.naturalWidth||ft.width,ot=ft.naturalHeight||ft.height;if(this._element===this._originalElement){var rt=_e.util.createCanvasElement();rt.width=it,rt.height=ot,this._element=rt,this._filteredEl=rt}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,it,ot),this._lastScaleX=1,this._lastScaleY=1;return _e.filterBackend||(_e.filterBackend=_e.initFilterBackend()),_e.filterBackend.applyFilters(lt,this._originalElement,it,ot,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(lt){_e.util.setImageSmoothing(lt,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(lt),this._renderPaintInOrder(lt)},drawCacheOnCanvas:function(lt){_e.util.setImageSmoothing(lt,this.imageSmoothing),_e.Object.prototype.drawCacheOnCanvas.call(this,lt)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(lt){var ft=this._element;if(ft){var it=this._filterScalingX,ot=this._filterScalingY,rt=this.width,st=this.height,ht=Math.min,at=Math.max,dt=at(this.cropX,0),gt=at(this.cropY,0),mt=ft.naturalWidth||ft.width,yt=ft.naturalHeight||ft.height,_t=dt*it,wt=gt*ot,St=ht(rt*it,mt-_t),Tt=ht(st*ot,yt-wt),Dt=-rt/2,Mt=-st/2,Ht=ht(rt,mt/it-dt),Gt=ht(st,yt/ot-gt);ft&&lt.drawImage(ft,_t,wt,St,Tt,Dt,Mt,Ht,Gt)}},_needsResize:function(){var lt=this.getTotalObjectScaling();return lt.scaleX!==this._lastScaleX||lt.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(lt,ft){this.setElement(_e.util.getById(lt),ft),_e.util.addClass(this.getElement(),_e.Image.CSS_CANVAS)},_initConfig:function(lt){lt||(lt={}),this.setOptions(lt),this._setWidthHeight(lt)},_initFilters:function(lt,ft){lt&&lt.length?_e.util.enlivenObjects(lt,function(it){ft&&ft(it)},"fabric.Image.filters"):ft&&ft()},_setWidthHeight:function(lt){lt||(lt={});var ft=this.getElement();this.width=lt.width||ft.naturalWidth||ft.width||0,this.height=lt.height||ft.naturalHeight||ft.height||0},parsePreserveAspectRatioAttribute:function(){var lt=_e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),ft=this._element.width,it=this._element.height,ot=1,rt=1,st=0,ht=0,at=0,dt=0,gt,mt=this.width,yt=this.height,_t={width:mt,height:yt};return lt&&(lt.alignX!=="none"||lt.alignY!=="none")?(lt.meetOrSlice==="meet"&&(ot=rt=_e.util.findScaleToFit(this._element,_t),gt=(mt-ft*ot)/2,lt.alignX==="Min"&&(st=-gt),lt.alignX==="Max"&&(st=gt),gt=(yt-it*rt)/2,lt.alignY==="Min"&&(ht=-gt),lt.alignY==="Max"&&(ht=gt)),lt.meetOrSlice==="slice"&&(ot=rt=_e.util.findScaleToCover(this._element,_t),gt=ft-mt/ot,lt.alignX==="Mid"&&(at=gt/2),lt.alignX==="Max"&&(at=gt),gt=it-yt/rt,lt.alignY==="Mid"&&(dt=gt/2),lt.alignY==="Max"&&(dt=gt),ft=mt/ot,it=yt/rt)):(ot=mt/ft,rt=yt/it),{width:ft,height:it,scaleX:ot,scaleY:rt,offsetLeft:st,offsetTop:ht,cropX:at,cropY:dt}}}),_e.Image.CSS_CANVAS="canvas-img",_e.Image.prototype.getSvgSrc=_e.Image.prototype.getSrc,_e.Image.fromObject=function(lt,ft){var it=_e.util.object.clone(lt);_e.util.loadImage(it.src,function(ot,rt){if(rt){ft&&ft(null,!0);return}_e.Image.prototype._initFilters.call(it,it.filters,function(st){it.filters=st||[],_e.Image.prototype._initFilters.call(it,[it.resizeFilter],function(ht){it.resizeFilter=ht[0],_e.util.enlivenObjectEnlivables(it,it,function(){var at=new _e.Image(ot,it);ft(at,!1)})})})},null,it.crossOrigin)},_e.Image.fromURL=function(lt,ft,it){_e.util.loadImage(lt,function(ot,rt){ft&&ft(new _e.Image(ot,it),rt)},null,it&&it.crossOrigin)},_e.Image.ATTRIBUTE_NAMES=_e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),_e.Image.fromElement=function(lt,ft,it){var ot=_e.parseAttributes(lt,_e.Image.ATTRIBUTE_NAMES);_e.Image.fromURL(ot["xlink:href"],ft,nt(it?_e.util.object.clone(it):{},ot))}}($),_e.util.object.extend(_e.Object.prototype,{_getAngleValueForStraighten:function(){var ut=this.angle%360;return ut>0?Math.round((ut-1)/90)*90:Math.round(ut/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(ut){ut=ut||{};var nt=function(){},lt=ut.onComplete||nt,ft=ut.onChange||nt,it=this;return _e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(ot){it.rotate(ot),ft()},onComplete:function(){it.setCoords(),lt()}})}}),_e.util.object.extend(_e.StaticCanvas.prototype,{straightenObject:function(ut){return ut.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(ut){return ut.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function ut(lt,ft){var it="precision "+ft+` float;
void main(){}`,ot=lt.createShader(lt.FRAGMENT_SHADER);return lt.shaderSource(ot,it),lt.compileShader(ot),!!lt.getShaderParameter(ot,lt.COMPILE_STATUS)}_e.isWebglSupported=function(lt){if(_e.isLikelyNode)return!1;lt=lt||_e.WebglFilterBackend.prototype.tileSize;var ft=document.createElement("canvas"),it=ft.getContext("webgl")||ft.getContext("experimental-webgl"),ot=!1;if(it){_e.maxTextureSize=it.getParameter(it.MAX_TEXTURE_SIZE),ot=_e.maxTextureSize>=lt;for(var rt=["highp","mediump","lowp"],st=0;st<3;st++)if(ut(it,rt[st])){_e.webGlPrecision=rt[st];break}}return this.isSupported=ot,ot},_e.WebglFilterBackend=nt;function nt(lt){lt&&lt.tileSize&&(this.tileSize=lt.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}nt.prototype={tileSize:2048,resources:{},setupGLContext:function(lt,ft){this.dispose(),this.createWebGLCanvas(lt,ft),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(lt,ft)},chooseFastestCopyGLTo2DMethod:function(lt,ft){var it=typeof window.performance<"u",ot;try{new ImageData(1,1),ot=!0}catch{ot=!1}var rt=typeof ArrayBuffer<"u",st=typeof Uint8ClampedArray<"u";if(it&&ot&&rt&&st){var ht=_e.util.createCanvasElement(),at=new ArrayBuffer(lt*ft*4);if(_e.forceGLPutImageData){this.imageBuffer=at,this.copyGLTo2D=vt;return}var dt={imageBuffer:at,destinationWidth:lt,destinationHeight:ft,targetCanvas:ht},gt,mt,yt;ht.width=lt,ht.height=ft,gt=window.performance.now(),pt.call(dt,this.gl,dt),mt=window.performance.now()-gt,gt=window.performance.now(),vt.call(dt,this.gl,dt),yt=window.performance.now()-gt,mt>yt?(this.imageBuffer=at,this.copyGLTo2D=vt):this.copyGLTo2D=pt}},createWebGLCanvas:function(lt,ft){var it=_e.util.createCanvasElement();it.width=lt,it.height=ft;var ot={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},rt=it.getContext("webgl",ot);rt||(rt=it.getContext("experimental-webgl",ot)),rt&&(rt.clearColor(0,0,0,0),this.canvas=it,this.gl=rt)},applyFilters:function(lt,ft,it,ot,rt,st){var ht=this.gl,at;st&&(at=this.getCachedTexture(st,ft));var dt={originalWidth:ft.width||ft.originalWidth,originalHeight:ft.height||ft.originalHeight,sourceWidth:it,sourceHeight:ot,destinationWidth:it,destinationHeight:ot,context:ht,sourceTexture:this.createTexture(ht,it,ot,!at&&ft),targetTexture:this.createTexture(ht,it,ot),originalTexture:at||this.createTexture(ht,it,ot,!at&&ft),passes:lt.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:rt},gt=ht.createFramebuffer();return ht.bindFramebuffer(ht.FRAMEBUFFER,gt),lt.forEach(function(mt){mt&&mt.applyTo(dt)}),ct(dt),this.copyGLTo2D(ht,dt),ht.bindTexture(ht.TEXTURE_2D,null),ht.deleteTexture(dt.sourceTexture),ht.deleteTexture(dt.targetTexture),ht.deleteFramebuffer(gt),rt.getContext("2d").setTransform(1,0,0,1,0,0),dt},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(lt,ft,it,ot){var rt=lt.createTexture();return lt.bindTexture(lt.TEXTURE_2D,rt),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_MAG_FILTER,lt.NEAREST),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_MIN_FILTER,lt.NEAREST),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_WRAP_S,lt.CLAMP_TO_EDGE),lt.texParameteri(lt.TEXTURE_2D,lt.TEXTURE_WRAP_T,lt.CLAMP_TO_EDGE),ot?lt.texImage2D(lt.TEXTURE_2D,0,lt.RGBA,lt.RGBA,lt.UNSIGNED_BYTE,ot):lt.texImage2D(lt.TEXTURE_2D,0,lt.RGBA,ft,it,0,lt.RGBA,lt.UNSIGNED_BYTE,null),rt},getCachedTexture:function(lt,ft){if(this.textureCache[lt])return this.textureCache[lt];var it=this.createTexture(this.gl,ft.width,ft.height,ft);return this.textureCache[lt]=it,it},evictCachesForKey:function(lt){this.textureCache[lt]&&(this.gl.deleteTexture(this.textureCache[lt]),delete this.textureCache[lt])},copyGLTo2D:pt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var lt=this.gl,ft={renderer:"",vendor:""};if(!lt)return ft;var it=lt.getExtension("WEBGL_debug_renderer_info");if(it){var ot=lt.getParameter(it.UNMASKED_RENDERER_WEBGL),rt=lt.getParameter(it.UNMASKED_VENDOR_WEBGL);ot&&(ft.renderer=ot.toLowerCase()),rt&&(ft.vendor=rt.toLowerCase())}return this.gpuInfo=ft,ft}}}();function ct(ut){var nt=ut.targetCanvas,lt=nt.width,ft=nt.height,it=ut.destinationWidth,ot=ut.destinationHeight;(lt!==it||ft!==ot)&&(nt.width=it,nt.height=ot)}function pt(ut,nt){var lt=ut.canvas,ft=nt.targetCanvas,it=ft.getContext("2d");it.translate(0,ft.height),it.scale(1,-1);var ot=lt.height-ft.height;it.drawImage(lt,0,ot,ft.width,ft.height,0,0,ft.width,ft.height)}function vt(ut,nt){var lt=nt.targetCanvas,ft=lt.getContext("2d"),it=nt.destinationWidth,ot=nt.destinationHeight,rt=it*ot*4,st=new Uint8Array(this.imageBuffer,0,rt),ht=new Uint8ClampedArray(this.imageBuffer,0,rt);ut.readPixels(0,0,it,ot,ut.RGBA,ut.UNSIGNED_BYTE,st);var at=new ImageData(ht,it,ot);ft.putImageData(at,0,0)}(function(){var ut=function(){};_e.Canvas2dFilterBackend=nt;function nt(){}nt.prototype={evictCachesForKey:ut,dispose:ut,clearWebGLCaches:ut,resources:{},applyFilters:function(lt,ft,it,ot,rt){var st=rt.getContext("2d");st.drawImage(ft,0,0,it,ot);var ht=st.getImageData(0,0,it,ot),at=st.getImageData(0,0,it,ot),dt={sourceWidth:it,sourceHeight:ot,imageData:ht,originalEl:ft,originalImageData:at,canvasEl:rt,ctx:st,filterBackend:this};return lt.forEach(function(gt){gt.applyTo(dt)}),(dt.imageData.width!==it||dt.imageData.height!==ot)&&(rt.width=dt.imageData.width,rt.height=dt.imageData.height),st.putImageData(dt.imageData,0,0),dt}}})(),_e.Image=_e.Image||{},_e.Image.filters=_e.Image.filters||{},_e.Image.filters.BaseFilter=_e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(ut){ut&&this.setOptions(ut)},setOptions:function(ut){for(var nt in ut)this[nt]=ut[nt]},createProgram:function(ut,nt,lt){nt=nt||this.fragmentSource,lt=lt||this.vertexSource,_e.webGlPrecision!=="highp"&&(nt=nt.replace(/precision highp float/g,"precision "+_e.webGlPrecision+" float"));var ft=ut.createShader(ut.VERTEX_SHADER);if(ut.shaderSource(ft,lt),ut.compileShader(ft),!ut.getShaderParameter(ft,ut.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+ut.getShaderInfoLog(ft));var it=ut.createShader(ut.FRAGMENT_SHADER);if(ut.shaderSource(it,nt),ut.compileShader(it),!ut.getShaderParameter(it,ut.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+ut.getShaderInfoLog(it));var ot=ut.createProgram();if(ut.attachShader(ot,ft),ut.attachShader(ot,it),ut.linkProgram(ot),!ut.getProgramParameter(ot,ut.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+ut.getProgramInfoLog(ot));var rt=this.getAttributeLocations(ut,ot),st=this.getUniformLocations(ut,ot)||{};return st.uStepW=ut.getUniformLocation(ot,"uStepW"),st.uStepH=ut.getUniformLocation(ot,"uStepH"),{program:ot,attributeLocations:rt,uniformLocations:st}},getAttributeLocations:function(ut,nt){return{aPosition:ut.getAttribLocation(nt,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(ut,nt,lt){var ft=nt.aPosition,it=ut.createBuffer();ut.bindBuffer(ut.ARRAY_BUFFER,it),ut.enableVertexAttribArray(ft),ut.vertexAttribPointer(ft,2,ut.FLOAT,!1,0,0),ut.bufferData(ut.ARRAY_BUFFER,lt,ut.STATIC_DRAW)},_setupFrameBuffer:function(ut){var nt=ut.context,lt,ft;ut.passes>1?(lt=ut.destinationWidth,ft=ut.destinationHeight,(ut.sourceWidth!==lt||ut.sourceHeight!==ft)&&(nt.deleteTexture(ut.targetTexture),ut.targetTexture=ut.filterBackend.createTexture(nt,lt,ft)),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ut.targetTexture,0)):(nt.bindFramebuffer(nt.FRAMEBUFFER,null),nt.finish())},_swapTextures:function(ut){ut.passes--,ut.pass++;var nt=ut.targetTexture;ut.targetTexture=ut.sourceTexture,ut.sourceTexture=nt},isNeutralState:function(){var ut=this.mainParameter,nt=_e.Image.filters[this.type].prototype;if(ut)if(Array.isArray(nt[ut])){for(var lt=nt[ut].length;lt--;)if(this[ut][lt]!==nt[ut][lt])return!1;return!0}else return nt[ut]===this[ut];else return!1},applyTo:function(ut){ut.webgl?(this._setupFrameBuffer(ut),this.applyToWebGL(ut),this._swapTextures(ut)):this.applyTo2d(ut)},retrieveShader:function(ut){return ut.programCache.hasOwnProperty(this.type)||(ut.programCache[this.type]=this.createProgram(ut.context)),ut.programCache[this.type]},applyToWebGL:function(ut){var nt=ut.context,lt=this.retrieveShader(ut);ut.pass===0&&ut.originalTexture?nt.bindTexture(nt.TEXTURE_2D,ut.originalTexture):nt.bindTexture(nt.TEXTURE_2D,ut.sourceTexture),nt.useProgram(lt.program),this.sendAttributeData(nt,lt.attributeLocations,ut.aPosition),nt.uniform1f(lt.uniformLocations.uStepW,1/ut.sourceWidth),nt.uniform1f(lt.uniformLocations.uStepH,1/ut.sourceHeight),this.sendUniformData(nt,lt.uniformLocations),nt.viewport(0,0,ut.destinationWidth,ut.destinationHeight),nt.drawArrays(nt.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(ut,nt,lt){ut.activeTexture(lt),ut.bindTexture(ut.TEXTURE_2D,nt),ut.activeTexture(ut.TEXTURE0)},unbindAdditionalTexture:function(ut,nt){ut.activeTexture(nt),ut.bindTexture(ut.TEXTURE_2D,null),ut.activeTexture(ut.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(ut){this[this.mainParameter]=ut},sendUniformData:function(){},createHelpLayer:function(ut){if(!ut.helpLayer){var nt=document.createElement("canvas");nt.width=ut.sourceWidth,nt.height=ut.sourceHeight,ut.helpLayer=nt}},toObject:function(){var ut={type:this.type},nt=this.mainParameter;return nt&&(ut[nt]=this[nt]),ut},toJSON:function(){return this.toObject()}}),_e.Image.filters.BaseFilter.fromObject=function(ut,nt){var lt=new _e.Image.filters[ut.type](ut);return nt&&nt(lt),lt},function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.ColorMatrix=ft(lt.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(it){this.callSuper("initialize",it),this.matrix=this.matrix.slice(0)},applyTo2d:function(it){var ot=it.imageData,rt=ot.data,st=rt.length,ht=this.matrix,at,dt,gt,mt,yt,_t=this.colorsOnly;for(yt=0;yt<st;yt+=4)at=rt[yt],dt=rt[yt+1],gt=rt[yt+2],_t?(rt[yt]=at*ht[0]+dt*ht[1]+gt*ht[2]+ht[4]*255,rt[yt+1]=at*ht[5]+dt*ht[6]+gt*ht[7]+ht[9]*255,rt[yt+2]=at*ht[10]+dt*ht[11]+gt*ht[12]+ht[14]*255):(mt=rt[yt+3],rt[yt]=at*ht[0]+dt*ht[1]+gt*ht[2]+mt*ht[3]+ht[4]*255,rt[yt+1]=at*ht[5]+dt*ht[6]+gt*ht[7]+mt*ht[8]+ht[9]*255,rt[yt+2]=at*ht[10]+dt*ht[11]+gt*ht[12]+mt*ht[13]+ht[14]*255,rt[yt+3]=at*ht[15]+dt*ht[16]+gt*ht[17]+mt*ht[18]+ht[19]*255)},getUniformLocations:function(it,ot){return{uColorMatrix:it.getUniformLocation(ot,"uColorMatrix"),uConstants:it.getUniformLocation(ot,"uConstants")}},sendUniformData:function(it,ot){var rt=this.matrix,st=[rt[0],rt[1],rt[2],rt[3],rt[5],rt[6],rt[7],rt[8],rt[10],rt[11],rt[12],rt[13],rt[15],rt[16],rt[17],rt[18]],ht=[rt[4],rt[9],rt[14],rt[19]];it.uniformMatrix4fv(ot.uColorMatrix,!1,st),it.uniform4fv(ot.uConstants,ht)}}),nt.Image.filters.ColorMatrix.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Brightness=ft(lt.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(it){if(this.brightness!==0){var ot=it.imageData,rt=ot.data,st,ht=rt.length,at=Math.round(this.brightness*255);for(st=0;st<ht;st+=4)rt[st]=rt[st]+at,rt[st+1]=rt[st+1]+at,rt[st+2]=rt[st+2]+at}},getUniformLocations:function(it,ot){return{uBrightness:it.getUniformLocation(ot,"uBrightness")}},sendUniformData:function(it,ot){it.uniform1f(ot.uBrightness,this.brightness)}}),nt.Image.filters.Brightness.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.Image.filters,it=nt.util.createClass;ft.Convolute=it(ft.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(ot){var rt=Math.sqrt(this.matrix.length),st=this.type+"_"+rt+"_"+(this.opaque?1:0),ht=this.fragmentSource[st];return ot.programCache.hasOwnProperty(st)||(ot.programCache[st]=this.createProgram(ot.context,ht)),ot.programCache[st]},applyTo2d:function(ot){var rt=ot.imageData,st=rt.data,ht=this.matrix,at=Math.round(Math.sqrt(ht.length)),dt=Math.floor(at/2),gt=rt.width,mt=rt.height,yt=ot.ctx.createImageData(gt,mt),_t=yt.data,wt=this.opaque?1:0,St,Tt,Dt,Mt,Ht,Gt,Zt,Yt,Kt,Jt,sn,Ft,xt;for(sn=0;sn<mt;sn++)for(Jt=0;Jt<gt;Jt++){for(Ht=(sn*gt+Jt)*4,St=0,Tt=0,Dt=0,Mt=0,xt=0;xt<at;xt++)for(Ft=0;Ft<at;Ft++)Zt=sn+xt-dt,Gt=Jt+Ft-dt,!(Zt<0||Zt>=mt||Gt<0||Gt>=gt)&&(Yt=(Zt*gt+Gt)*4,Kt=ht[xt*at+Ft],St+=st[Yt]*Kt,Tt+=st[Yt+1]*Kt,Dt+=st[Yt+2]*Kt,wt||(Mt+=st[Yt+3]*Kt));_t[Ht]=St,_t[Ht+1]=Tt,_t[Ht+2]=Dt,wt?_t[Ht+3]=st[Ht+3]:_t[Ht+3]=Mt}ot.imageData=yt},getUniformLocations:function(ot,rt){return{uMatrix:ot.getUniformLocation(rt,"uMatrix"),uOpaque:ot.getUniformLocation(rt,"uOpaque"),uHalfSize:ot.getUniformLocation(rt,"uHalfSize"),uSize:ot.getUniformLocation(rt,"uSize")}},sendUniformData:function(ot,rt){ot.uniform1fv(rt.uMatrix,this.matrix)},toObject:function(){return lt(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),nt.Image.filters.Convolute.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Grayscale=ft(lt.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(it){var ot=it.imageData,rt=ot.data,st,ht=rt.length,at,dt=this.mode;for(st=0;st<ht;st+=4)dt==="average"?at=(rt[st]+rt[st+1]+rt[st+2])/3:dt==="lightness"?at=(Math.min(rt[st],rt[st+1],rt[st+2])+Math.max(rt[st],rt[st+1],rt[st+2]))/2:dt==="luminosity"&&(at=.21*rt[st]+.72*rt[st+1]+.07*rt[st+2]),rt[st]=at,rt[st+1]=at,rt[st+2]=at},retrieveShader:function(it){var ot=this.type+"_"+this.mode;if(!it.programCache.hasOwnProperty(ot)){var rt=this.fragmentSource[this.mode];it.programCache[ot]=this.createProgram(it.context,rt)}return it.programCache[ot]},getUniformLocations:function(it,ot){return{uMode:it.getUniformLocation(ot,"uMode")}},sendUniformData:function(it,ot){var rt=1;it.uniform1i(ot.uMode,rt)},isNeutralState:function(){return!1}}),nt.Image.filters.Grayscale.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Invert=ft(lt.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(it){var ot=it.imageData,rt=ot.data,st,ht=rt.length;for(st=0;st<ht;st+=4)rt[st]=255-rt[st],rt[st+1]=255-rt[st+1],rt[st+2]=255-rt[st+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(it,ot){return{uInvert:it.getUniformLocation(ot,"uInvert")}},sendUniformData:function(it,ot){it.uniform1i(ot.uInvert,this.invert)}}),nt.Image.filters.Invert.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.Image.filters,it=nt.util.createClass;ft.Noise=it(ft.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(ot){if(this.noise!==0){var rt=ot.imageData,st=rt.data,ht,at=st.length,dt=this.noise,gt;for(ht=0,at=st.length;ht<at;ht+=4)gt=(.5-Math.random())*dt,st[ht]+=gt,st[ht+1]+=gt,st[ht+2]+=gt}},getUniformLocations:function(ot,rt){return{uNoise:ot.getUniformLocation(rt,"uNoise"),uSeed:ot.getUniformLocation(rt,"uSeed")}},sendUniformData:function(ot,rt){ot.uniform1f(rt.uNoise,this.noise/255),ot.uniform1f(rt.uSeed,Math.random())},toObject:function(){return lt(this.callSuper("toObject"),{noise:this.noise})}}),nt.Image.filters.Noise.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Pixelate=ft(lt.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(it){var ot=it.imageData,rt=ot.data,st=ot.height,ht=ot.width,at,dt,gt,mt,yt,_t,wt,St,Tt,Dt,Mt;for(dt=0;dt<st;dt+=this.blocksize)for(gt=0;gt<ht;gt+=this.blocksize)for(at=dt*4*ht+gt*4,mt=rt[at],yt=rt[at+1],_t=rt[at+2],wt=rt[at+3],Dt=Math.min(dt+this.blocksize,st),Mt=Math.min(gt+this.blocksize,ht),St=dt;St<Dt;St++)for(Tt=gt;Tt<Mt;Tt++)at=St*4*ht+Tt*4,rt[at]=mt,rt[at+1]=yt,rt[at+2]=_t,rt[at+3]=wt},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(it,ot){return{uBlocksize:it.getUniformLocation(ot,"uBlocksize"),uStepW:it.getUniformLocation(ot,"uStepW"),uStepH:it.getUniformLocation(ot,"uStepH")}},sendUniformData:function(it,ot){it.uniform1f(ot.uBlocksize,this.blocksize)}}),nt.Image.filters.Pixelate.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.extend,ft=nt.Image.filters,it=nt.util.createClass;ft.RemoveColor=it(ft.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(ot){var rt=ot.imageData,st=rt.data,ht,at=this.distance*255,dt,gt,mt,yt=new nt.Color(this.color).getSource(),_t=[yt[0]-at,yt[1]-at,yt[2]-at],wt=[yt[0]+at,yt[1]+at,yt[2]+at];for(ht=0;ht<st.length;ht+=4)dt=st[ht],gt=st[ht+1],mt=st[ht+2],dt>_t[0]&&gt>_t[1]&&mt>_t[2]&&dt<wt[0]&&gt<wt[1]&&mt<wt[2]&&(st[ht+3]=0)},getUniformLocations:function(ot,rt){return{uLow:ot.getUniformLocation(rt,"uLow"),uHigh:ot.getUniformLocation(rt,"uHigh")}},sendUniformData:function(ot,rt){var st=new nt.Color(this.color).getSource(),ht=parseFloat(this.distance),at=[0+st[0]/255-ht,0+st[1]/255-ht,0+st[2]/255-ht,1],dt=[st[0]/255+ht,st[1]/255+ht,st[2]/255+ht,1];ot.uniform4fv(rt.uLow,at),ot.uniform4fv(rt.uHigh,dt)},toObject:function(){return lt(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),nt.Image.filters.RemoveColor.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass,it={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var ot in it)lt[ot]=ft(lt.ColorMatrix,{type:ot,matrix:it[ot],mainParameter:!1,colorsOnly:!0}),nt.Image.filters[ot].fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric,lt=nt.Image.filters,ft=nt.util.createClass;lt.BlendColor=ft(lt.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(it){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[it]+`}
}`},retrieveShader:function(it){var ot=this.type+"_"+this.mode,rt;return it.programCache.hasOwnProperty(ot)||(rt=this.buildSource(this.mode),it.programCache[ot]=this.createProgram(it.context,rt)),it.programCache[ot]},applyTo2d:function(it){var ot=it.imageData,rt=ot.data,st=rt.length,ht,at,dt,gt,mt,yt,_t,wt=1-this.alpha;_t=new nt.Color(this.color).getSource(),ht=_t[0]*this.alpha,at=_t[1]*this.alpha,dt=_t[2]*this.alpha;for(var St=0;St<st;St+=4)switch(gt=rt[St],mt=rt[St+1],yt=rt[St+2],this.mode){case"multiply":rt[St]=gt*ht/255,rt[St+1]=mt*at/255,rt[St+2]=yt*dt/255;break;case"screen":rt[St]=255-(255-gt)*(255-ht)/255,rt[St+1]=255-(255-mt)*(255-at)/255,rt[St+2]=255-(255-yt)*(255-dt)/255;break;case"add":rt[St]=gt+ht,rt[St+1]=mt+at,rt[St+2]=yt+dt;break;case"diff":case"difference":rt[St]=Math.abs(gt-ht),rt[St+1]=Math.abs(mt-at),rt[St+2]=Math.abs(yt-dt);break;case"subtract":rt[St]=gt-ht,rt[St+1]=mt-at,rt[St+2]=yt-dt;break;case"darken":rt[St]=Math.min(gt,ht),rt[St+1]=Math.min(mt,at),rt[St+2]=Math.min(yt,dt);break;case"lighten":rt[St]=Math.max(gt,ht),rt[St+1]=Math.max(mt,at),rt[St+2]=Math.max(yt,dt);break;case"overlay":rt[St]=ht<128?2*gt*ht/255:255-2*(255-gt)*(255-ht)/255,rt[St+1]=at<128?2*mt*at/255:255-2*(255-mt)*(255-at)/255,rt[St+2]=dt<128?2*yt*dt/255:255-2*(255-yt)*(255-dt)/255;break;case"exclusion":rt[St]=ht+gt-2*ht*gt/255,rt[St+1]=at+mt-2*at*mt/255,rt[St+2]=dt+yt-2*dt*yt/255;break;case"tint":rt[St]=ht+gt*wt,rt[St+1]=at+mt*wt,rt[St+2]=dt+yt*wt}},getUniformLocations:function(it,ot){return{uColor:it.getUniformLocation(ot,"uColor")}},sendUniformData:function(it,ot){var rt=new nt.Color(this.color).getSource();rt[0]=this.alpha*rt[0]/255,rt[1]=this.alpha*rt[1]/255,rt[2]=this.alpha*rt[2]/255,rt[3]=this.alpha,it.uniform4fv(ot.uColor,rt)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),nt.Image.filters.BlendColor.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric,lt=nt.Image.filters,ft=nt.util.createClass;lt.BlendImage=ft(lt.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(it){var ot=this.type+"_"+this.mode,rt=this.fragmentSource[this.mode];return it.programCache.hasOwnProperty(ot)||(it.programCache[ot]=this.createProgram(it.context,rt)),it.programCache[ot]},applyToWebGL:function(it){var ot=it.context,rt=this.createTexture(it.filterBackend,this.image);this.bindAdditionalTexture(ot,rt,ot.TEXTURE1),this.callSuper("applyToWebGL",it),this.unbindAdditionalTexture(ot,ot.TEXTURE1)},createTexture:function(it,ot){return it.getCachedTexture(ot.cacheKey,ot._element)},calculateMatrix:function(){var it=this.image,ot=it._element.width,rt=it._element.height;return[1/it.scaleX,0,0,0,1/it.scaleY,0,-it.left/ot,-it.top/rt,1]},applyTo2d:function(it){var ot=it.imageData,rt=it.filterBackend.resources,st=ot.data,ht=st.length,at=ot.width,dt=ot.height,gt,mt,yt,_t,wt,St,Tt,Dt,Mt,Ht,Gt=this.image,Zt;rt.blendImage||(rt.blendImage=nt.util.createCanvasElement()),Mt=rt.blendImage,Ht=Mt.getContext("2d"),Mt.width!==at||Mt.height!==dt?(Mt.width=at,Mt.height=dt):Ht.clearRect(0,0,at,dt),Ht.setTransform(Gt.scaleX,0,0,Gt.scaleY,Gt.left,Gt.top),Ht.drawImage(Gt._element,0,0,at,dt),Zt=Ht.getImageData(0,0,at,dt).data;for(var Yt=0;Yt<ht;Yt+=4)switch(wt=st[Yt],St=st[Yt+1],Tt=st[Yt+2],Dt=st[Yt+3],gt=Zt[Yt],mt=Zt[Yt+1],yt=Zt[Yt+2],_t=Zt[Yt+3],this.mode){case"multiply":st[Yt]=wt*gt/255,st[Yt+1]=St*mt/255,st[Yt+2]=Tt*yt/255,st[Yt+3]=Dt*_t/255;break;case"mask":st[Yt+3]=_t;break}},getUniformLocations:function(it,ot){return{uTransformMatrix:it.getUniformLocation(ot,"uTransformMatrix"),uImage:it.getUniformLocation(ot,"uImage")}},sendUniformData:function(it,ot){var rt=this.calculateMatrix();it.uniform1i(ot.uImage,1),it.uniformMatrix3fv(ot.uTransformMatrix,!1,rt)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),nt.Image.filters.BlendImage.fromObject=function(it,ot){nt.Image.fromObject(it.image,function(rt){var st=nt.util.object.clone(it);st.image=rt,ot(new nt.Image.filters.BlendImage(st))})}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=Math.pow,ft=Math.floor,it=Math.sqrt,ot=Math.abs,rt=Math.round,st=Math.sin,ht=Math.ceil,at=nt.Image.filters,dt=nt.util.createClass;at.Resize=dt(at.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(gt,mt){return{uDelta:gt.getUniformLocation(mt,"uDelta"),uTaps:gt.getUniformLocation(mt,"uTaps")}},sendUniformData:function(gt,mt){gt.uniform2fv(mt.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),gt.uniform1fv(mt.uTaps,this.taps)},retrieveShader:function(gt){var mt=this.getFilterWindow(),yt=this.type+"_"+mt;if(!gt.programCache.hasOwnProperty(yt)){var _t=this.generateShader(mt);gt.programCache[yt]=this.createProgram(gt.context,_t)}return gt.programCache[yt]},getFilterWindow:function(){var gt=this.tempScale;return Math.ceil(this.lanczosLobes/gt)},getTaps:function(){for(var gt=this.lanczosCreate(this.lanczosLobes),mt=this.tempScale,yt=this.getFilterWindow(),_t=new Array(yt),wt=1;wt<=yt;wt++)_t[wt-1]=gt(wt*mt);return _t},generateShader:function(_t){for(var mt=new Array(_t),yt=this.fragmentSourceTOP,_t,wt=1;wt<=_t;wt++)mt[wt-1]=wt+".0 * uDelta";return yt+="uniform float uTaps["+_t+`];
`,yt+=`void main() {
`,yt+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,yt+=`  float sum = 1.0;
`,mt.forEach(function(St,Tt){yt+="  color += texture2D(uTexture, vTexCoord + "+St+") * uTaps["+Tt+`];
`,yt+="  color += texture2D(uTexture, vTexCoord - "+St+") * uTaps["+Tt+`];
`,yt+="  sum += 2.0 * uTaps["+Tt+`];
`}),yt+=`  gl_FragColor = color / sum;
`,yt+="}",yt},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(gt){gt.webgl?(gt.passes++,this.width=gt.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=gt.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),gt.destinationWidth=this.dW,this._setupFrameBuffer(gt),this.applyToWebGL(gt),this._swapTextures(gt),gt.sourceWidth=gt.destinationWidth,this.height=gt.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),gt.destinationHeight=this.dH,this._setupFrameBuffer(gt),this.applyToWebGL(gt),this._swapTextures(gt),gt.sourceHeight=gt.destinationHeight):this.applyTo2d(gt)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(gt){return function(mt){if(mt>=gt||mt<=-gt)return 0;if(mt<11920929e-14&&mt>-11920929e-14)return 1;mt*=Math.PI;var yt=mt/gt;return st(mt)/mt*st(yt)/yt}},applyTo2d:function(gt){var mt=gt.imageData,yt=this.scaleX,_t=this.scaleY;this.rcpScaleX=1/yt,this.rcpScaleY=1/_t;var wt=mt.width,St=mt.height,Tt=rt(wt*yt),Dt=rt(St*_t),Mt;this.resizeType==="sliceHack"?Mt=this.sliceByTwo(gt,wt,St,Tt,Dt):this.resizeType==="hermite"?Mt=this.hermiteFastResize(gt,wt,St,Tt,Dt):this.resizeType==="bilinear"?Mt=this.bilinearFiltering(gt,wt,St,Tt,Dt):this.resizeType==="lanczos"&&(Mt=this.lanczosResize(gt,wt,St,Tt,Dt)),gt.imageData=Mt},sliceByTwo:function(gt,mt,yt,_t,wt){var St=gt.imageData,Tt=.5,Dt=!1,Mt=!1,Ht=mt*Tt,Gt=yt*Tt,Zt=nt.filterBackend.resources,Yt,Kt,Jt=0,sn=0,Ft=mt,xt=0;for(Zt.sliceByTwo||(Zt.sliceByTwo=document.createElement("canvas")),Yt=Zt.sliceByTwo,(Yt.width<mt*1.5||Yt.height<yt)&&(Yt.width=mt*1.5,Yt.height=yt),Kt=Yt.getContext("2d"),Kt.clearRect(0,0,mt*1.5,yt),Kt.putImageData(St,0,0),_t=ft(_t),wt=ft(wt);!Dt||!Mt;)mt=Ht,yt=Gt,_t<ft(Ht*Tt)?Ht=ft(Ht*Tt):(Ht=_t,Dt=!0),wt<ft(Gt*Tt)?Gt=ft(Gt*Tt):(Gt=wt,Mt=!0),Kt.drawImage(Yt,Jt,sn,mt,yt,Ft,xt,Ht,Gt),Jt=Ft,sn=xt,xt+=Gt;return Kt.getImageData(Jt,sn,_t,wt)},lanczosResize:function(gt,mt,yt,_t,wt){function St(Ot){var Et,$t,kt,Ct,Pt,jt,Nt,Lt,Wt,Xt,Qt;for(xt.x=(Ot+.5)*Gt,bt.x=ft(xt.x),Et=0;Et<wt;Et++){for(xt.y=(Et+.5)*Zt,bt.y=ft(xt.y),Pt=0,jt=0,Nt=0,Lt=0,Wt=0,$t=bt.x-Jt;$t<=bt.x+Jt;$t++)if(!($t<0||$t>=mt)){Xt=ft(1e3*ot($t-xt.x)),Ft[Xt]||(Ft[Xt]={});for(var Rt=bt.y-sn;Rt<=bt.y+sn;Rt++)Rt<0||Rt>=yt||(Qt=ft(1e3*ot(Rt-xt.y)),Ft[Xt][Qt]||(Ft[Xt][Qt]=Ht(it(lt(Xt*Yt,2)+lt(Qt*Kt,2))/1e3)),kt=Ft[Xt][Qt],kt>0&&(Ct=(Rt*mt+$t)*4,Pt+=kt,jt+=kt*Tt[Ct],Nt+=kt*Tt[Ct+1],Lt+=kt*Tt[Ct+2],Wt+=kt*Tt[Ct+3]))}Ct=(Et*_t+Ot)*4,Mt[Ct]=jt/Pt,Mt[Ct+1]=Nt/Pt,Mt[Ct+2]=Lt/Pt,Mt[Ct+3]=Wt/Pt}return++Ot<_t?St(Ot):Dt}var Tt=gt.imageData.data,Dt=gt.ctx.createImageData(_t,wt),Mt=Dt.data,Ht=this.lanczosCreate(this.lanczosLobes),Gt=this.rcpScaleX,Zt=this.rcpScaleY,Yt=2/this.rcpScaleX,Kt=2/this.rcpScaleY,Jt=ht(Gt*this.lanczosLobes/2),sn=ht(Zt*this.lanczosLobes/2),Ft={},xt={},bt={};return St(0)},bilinearFiltering:function(gt,mt,yt,_t,wt){var St,Tt,Dt,Mt,Ht,Gt,Zt,Yt,Kt,Jt,sn,Ft,xt=0,bt,Ot=this.rcpScaleX,Et=this.rcpScaleY,$t=4*(mt-1),kt=gt.imageData,Ct=kt.data,Pt=gt.ctx.createImageData(_t,wt),jt=Pt.data;for(Zt=0;Zt<wt;Zt++)for(Yt=0;Yt<_t;Yt++)for(Ht=ft(Ot*Yt),Gt=ft(Et*Zt),Kt=Ot*Yt-Ht,Jt=Et*Zt-Gt,bt=4*(Gt*mt+Ht),sn=0;sn<4;sn++)St=Ct[bt+sn],Tt=Ct[bt+4+sn],Dt=Ct[bt+$t+sn],Mt=Ct[bt+$t+4+sn],Ft=St*(1-Kt)*(1-Jt)+Tt*Kt*(1-Jt)+Dt*Jt*(1-Kt)+Mt*Kt*Jt,jt[xt++]=Ft;return Pt},hermiteFastResize:function(gt,mt,yt,_t,wt){for(var St=this.rcpScaleX,Tt=this.rcpScaleY,Dt=ht(St/2),Mt=ht(Tt/2),Ht=gt.imageData,Gt=Ht.data,Zt=gt.ctx.createImageData(_t,wt),Yt=Zt.data,Kt=0;Kt<wt;Kt++)for(var Jt=0;Jt<_t;Jt++){for(var sn=(Jt+Kt*_t)*4,Ft=0,xt=0,bt=0,Ot=0,Et=0,$t=0,kt=0,Ct=(Kt+.5)*Tt,Pt=ft(Kt*Tt);Pt<(Kt+1)*Tt;Pt++)for(var jt=ot(Ct-(Pt+.5))/Mt,Nt=(Jt+.5)*St,Lt=jt*jt,Wt=ft(Jt*St);Wt<(Jt+1)*St;Wt++){var Xt=ot(Nt-(Wt+.5))/Dt,Qt=it(Lt+Xt*Xt);Qt>1&&Qt<-1||(Ft=2*Qt*Qt*Qt-3*Qt*Qt+1,Ft>0&&(Xt=4*(Wt+Pt*mt),kt+=Ft*Gt[Xt+3],bt+=Ft,Gt[Xt+3]<255&&(Ft=Ft*Gt[Xt+3]/250),Ot+=Ft*Gt[Xt],Et+=Ft*Gt[Xt+1],$t+=Ft*Gt[Xt+2],xt+=Ft))}Yt[sn]=Ot/xt,Yt[sn+1]=Et/xt,Yt[sn+2]=$t/xt,Yt[sn+3]=kt/bt}return Zt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),nt.Image.filters.Resize.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Contrast=ft(lt.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(it){if(this.contrast!==0){var ot=it.imageData,rt,ht,st=ot.data,ht=st.length,at=Math.floor(this.contrast*255),dt=259*(at+255)/(255*(259-at));for(rt=0;rt<ht;rt+=4)st[rt]=dt*(st[rt]-128)+128,st[rt+1]=dt*(st[rt+1]-128)+128,st[rt+2]=dt*(st[rt+2]-128)+128}},getUniformLocations:function(it,ot){return{uContrast:it.getUniformLocation(ot,"uContrast")}},sendUniformData:function(it,ot){it.uniform1f(ot.uContrast,this.contrast)}}),nt.Image.filters.Contrast.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Saturation=ft(lt.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(it){if(this.saturation!==0){var ot=it.imageData,rt=ot.data,st=rt.length,ht=-this.saturation,at,dt;for(at=0;at<st;at+=4)dt=Math.max(rt[at],rt[at+1],rt[at+2]),rt[at]+=dt!==rt[at]?(dt-rt[at])*ht:0,rt[at+1]+=dt!==rt[at+1]?(dt-rt[at+1])*ht:0,rt[at+2]+=dt!==rt[at+2]?(dt-rt[at+2])*ht:0}},getUniformLocations:function(it,ot){return{uSaturation:it.getUniformLocation(ot,"uSaturation")}},sendUniformData:function(it,ot){it.uniform1f(ot.uSaturation,-this.saturation)}}),nt.Image.filters.Saturation.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Vibrance=ft(lt.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(it){if(this.vibrance!==0){var ot=it.imageData,rt=ot.data,st=rt.length,ht=-this.vibrance,at,dt,gt,mt;for(at=0;at<st;at+=4)dt=Math.max(rt[at],rt[at+1],rt[at+2]),gt=(rt[at]+rt[at+1]+rt[at+2])/3,mt=Math.abs(dt-gt)*2/255*ht,rt[at]+=dt!==rt[at]?(dt-rt[at])*mt:0,rt[at+1]+=dt!==rt[at+1]?(dt-rt[at+1])*mt:0,rt[at+2]+=dt!==rt[at+2]?(dt-rt[at+2])*mt:0}},getUniformLocations:function(it,ot){return{uVibrance:it.getUniformLocation(ot,"uVibrance")}},sendUniformData:function(it,ot){it.uniform1f(ot.uVibrance,-this.vibrance)}}),nt.Image.filters.Vibrance.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Blur=ft(lt.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(it){it.webgl?(this.aspectRatio=it.sourceWidth/it.sourceHeight,it.passes++,this._setupFrameBuffer(it),this.horizontal=!0,this.applyToWebGL(it),this._swapTextures(it),this._setupFrameBuffer(it),this.horizontal=!1,this.applyToWebGL(it),this._swapTextures(it)):this.applyTo2d(it)},applyTo2d:function(it){it.imageData=this.simpleBlur(it)},simpleBlur:function(it){var ot=it.filterBackend.resources,rt,st,ht=it.imageData.width,at=it.imageData.height;ot.blurLayer1||(ot.blurLayer1=nt.util.createCanvasElement(),ot.blurLayer2=nt.util.createCanvasElement()),rt=ot.blurLayer1,st=ot.blurLayer2,(rt.width!==ht||rt.height!==at)&&(st.width=rt.width=ht,st.height=rt.height=at);var dt=rt.getContext("2d"),gt=st.getContext("2d"),mt=15,yt,_t,wt,St,Tt=this.blur*.06*.5;for(dt.putImageData(it.imageData,0,0),gt.clearRect(0,0,ht,at),St=-mt;St<=mt;St++)yt=(Math.random()-.5)/4,_t=St/mt,wt=Tt*_t*ht+yt,gt.globalAlpha=1-Math.abs(_t),gt.drawImage(rt,wt,yt),dt.drawImage(st,0,0),gt.globalAlpha=1,gt.clearRect(0,0,st.width,st.height);for(St=-mt;St<=mt;St++)yt=(Math.random()-.5)/4,_t=St/mt,wt=Tt*_t*at+yt,gt.globalAlpha=1-Math.abs(_t),gt.drawImage(rt,yt,wt),dt.drawImage(st,0,0),gt.globalAlpha=1,gt.clearRect(0,0,st.width,st.height);it.ctx.drawImage(rt,0,0);var Dt=it.ctx.getImageData(0,0,rt.width,rt.height);return dt.globalAlpha=1,dt.clearRect(0,0,rt.width,rt.height),Dt},getUniformLocations:function(it,ot){return{delta:it.getUniformLocation(ot,"uDelta")}},sendUniformData:function(it,ot){var rt=this.chooseRightDelta();it.uniform2fv(ot.delta,rt)},chooseRightDelta:function(){var it=1,ot=[0,0],rt;return this.horizontal?this.aspectRatio>1&&(it=1/this.aspectRatio):this.aspectRatio<1&&(it=this.aspectRatio),rt=it*this.blur*.12,this.horizontal?ot[0]=rt:ot[1]=rt,ot}}),lt.Blur.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Gamma=ft(lt.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(it){this.gamma=[1,1,1],lt.BaseFilter.prototype.initialize.call(this,it)},applyTo2d:function(it){var ot=it.imageData,rt=ot.data,st=this.gamma,ht=rt.length,at=1/st[0],dt=1/st[1],gt=1/st[2],mt;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),mt=0,ht=256;mt<ht;mt++)this.rVals[mt]=Math.pow(mt/255,at)*255,this.gVals[mt]=Math.pow(mt/255,dt)*255,this.bVals[mt]=Math.pow(mt/255,gt)*255;for(mt=0,ht=rt.length;mt<ht;mt+=4)rt[mt]=this.rVals[rt[mt]],rt[mt+1]=this.gVals[rt[mt+1]],rt[mt+2]=this.bVals[rt[mt+2]]},getUniformLocations:function(it,ot){return{uGamma:it.getUniformLocation(ot,"uGamma")}},sendUniformData:function(it,ot){it.uniform3fv(ot.uGamma,this.gamma)}}),nt.Image.filters.Gamma.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.Composed=ft(lt.BaseFilter,{type:"Composed",subFilters:[],initialize:function(it){this.callSuper("initialize",it),this.subFilters=this.subFilters.slice(0)},applyTo:function(it){it.passes+=this.subFilters.length-1,this.subFilters.forEach(function(ot){ot.applyTo(it)})},toObject:function(){return nt.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(it){return it.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(it){return!it.isNeutralState()})}}),nt.Image.filters.Composed.fromObject=function(it,ot){var rt=it.subFilters||[],st=rt.map(function(at){return new nt.Image.filters[at.type](at)}),ht=new nt.Image.filters.Composed({subFilters:st});return ot&&ot(ht),ht}}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.Image.filters,ft=nt.util.createClass;lt.HueRotation=ft(lt.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var it=this.rotation*Math.PI,ot=nt.util.cos(it),rt=nt.util.sin(it),st=1/3,ht=Math.sqrt(st)*rt,at=1-ot;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=ot+at/3,this.matrix[1]=st*at-ht,this.matrix[2]=st*at+ht,this.matrix[5]=st*at+ht,this.matrix[6]=ot+st*at,this.matrix[7]=st*at-ht,this.matrix[10]=st*at-ht,this.matrix[11]=st*at+ht,this.matrix[12]=ot+st*at},isNeutralState:function(it){return this.calculateMatrix(),lt.BaseFilter.prototype.isNeutralState.call(this,it)},applyTo:function(it){this.calculateMatrix(),lt.BaseFilter.prototype.applyTo.call(this,it)}}),nt.Image.filters.HueRotation.fromObject=nt.Image.filters.BaseFilter.fromObject}($),function(ut){var nt=ut.fabric||(ut.fabric={}),lt=nt.util.object.clone;if(nt.Text){nt.warn("fabric.Text is already defined");return}var ft="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");nt.Text=nt.util.createClass(nt.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:nt.Object.prototype.stateProperties.concat(ft),cacheProperties:nt.Object.prototype.cacheProperties.concat(ft),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(it,ot){this.styles=ot?ot.styles||{}:{},this.text=it,this.__skipDimension=!0,this.callSuper("initialize",ot),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var it=this.path;it&&(it.segmentsInfo=nt.util.getPathSegmentsInfo(it.path))},getMeasuringContext:function(){return nt._measuringContext||(nt._measuringContext=this.canvas&&this.canvas.contextCache||nt.util.createCanvasElement().getContext("2d")),nt._measuringContext},_splitText:function(){var it=this._splitTextIntoLines(this.text);return this.textLines=it.lines,this._textLines=it.graphemeLines,this._unwrappedTextLines=it._unwrappedLines,this._text=it.graphemeText,it},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var it,ot,rt,st,ht,at,dt,gt=0,mt=this._textLines.length;gt<mt;gt++)if(!(this.textAlign!=="justify"&&(gt===mt-1||this.isEndOfWrapping(gt)))&&(st=0,ht=this._textLines[gt],ot=this.getLineWidth(gt),ot<this.width&&(dt=this.textLines[gt].match(this._reSpacesAndTabs)))){rt=dt.length,it=(this.width-ot)/rt;for(var yt=0,_t=ht.length;yt<=_t;yt++)at=this.__charBounds[gt][yt],this._reSpaceAndTab.test(ht[yt])?(at.width+=it,at.kernedWidth+=it,at.left+=st,st+=it):at.left+=st}},isEndOfWrapping:function(it){return it===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var it=this.callSuper("_getCacheCanvasDimensions"),ot=this.fontSize;return it.width+=ot*it.zoomX,it.height+=ot*it.zoomY,it},_render:function(it){var ot=this.path;ot&&!ot.isNotVisible()&&ot._render(it),this._setTextStyles(it),this._renderTextLinesBackground(it),this._renderTextDecoration(it,"underline"),this._renderText(it),this._renderTextDecoration(it,"overline"),this._renderTextDecoration(it,"linethrough")},_renderText:function(it){this.paintFirst==="stroke"?(this._renderTextStroke(it),this._renderTextFill(it)):(this._renderTextFill(it),this._renderTextStroke(it))},_setTextStyles:function(it,ot,rt){if(it.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":it.textBaseline="middle";break;case"ascender":it.textBaseline="top";break;case"descender":it.textBaseline="bottom";break}it.font=this._getFontDeclaration(ot,rt)},calcTextWidth:function(){for(var it=this.getLineWidth(0),ot=1,rt=this._textLines.length;ot<rt;ot++){var st=this.getLineWidth(ot);st>it&&(it=st)}return it},_renderTextLine:function(it,ot,rt,st,ht,at){this._renderChars(it,ot,rt,st,ht,at)},_renderTextLinesBackground:function(it){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var ot,rt,st=it.fillStyle,ht,at,dt=this._getLeftOffset(),gt=this._getTopOffset(),mt=0,yt=0,_t,wt,St=this.path,Tt,Dt=0,Mt=this._textLines.length;Dt<Mt;Dt++){if(ot=this.getHeightOfLine(Dt),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Dt)){gt+=ot;continue}ht=this._textLines[Dt],rt=this._getLineLeftOffset(Dt),yt=0,mt=0,at=this.getValueOfPropertyAt(Dt,0,"textBackgroundColor");for(var Ht=0,Gt=ht.length;Ht<Gt;Ht++)_t=this.__charBounds[Dt][Ht],wt=this.getValueOfPropertyAt(Dt,Ht,"textBackgroundColor"),St?(it.save(),it.translate(_t.renderLeft,_t.renderTop),it.rotate(_t.angle),it.fillStyle=wt,wt&&it.fillRect(-_t.width/2,-ot/this.lineHeight*(1-this._fontSizeFraction),_t.width,ot/this.lineHeight),it.restore()):wt!==at?(Tt=dt+rt+mt,this.direction==="rtl"&&(Tt=this.width-Tt-yt),it.fillStyle=at,at&&it.fillRect(Tt,gt,yt,ot/this.lineHeight),mt=_t.left,yt=_t.width,at=wt):yt+=_t.kernedWidth;wt&&!St&&(Tt=dt+rt+mt,this.direction==="rtl"&&(Tt=this.width-Tt-yt),it.fillStyle=wt,it.fillRect(Tt,gt,yt,ot/this.lineHeight)),gt+=ot}it.fillStyle=st,this._removeShadow(it)}},getFontCache:function(it){var ot=it.fontFamily.toLowerCase();nt.charWidthsCache[ot]||(nt.charWidthsCache[ot]={});var rt=nt.charWidthsCache[ot],st=it.fontStyle.toLowerCase()+"_"+(it.fontWeight+"").toLowerCase();return rt[st]||(rt[st]={}),rt[st]},_measureChar:function(it,ot,rt,st){var ht=this.getFontCache(ot),at=this._getFontDeclaration(ot),dt=this._getFontDeclaration(st),gt=rt+it,mt=at===dt,yt,_t,wt,St=ot.fontSize/this.CACHE_FONT_SIZE,Tt;if(rt&&ht[rt]!==void 0&&(wt=ht[rt]),ht[it]!==void 0&&(Tt=yt=ht[it]),mt&&ht[gt]!==void 0&&(_t=ht[gt],Tt=_t-wt),yt===void 0||wt===void 0||_t===void 0){var Dt=this.getMeasuringContext();this._setTextStyles(Dt,ot,!0)}return yt===void 0&&(Tt=yt=Dt.measureText(it).width,ht[it]=yt),wt===void 0&&mt&&rt&&(wt=Dt.measureText(rt).width,ht[rt]=wt),mt&&_t===void 0&&(_t=Dt.measureText(gt).width,ht[gt]=_t,Tt=_t-wt),{width:yt*St,kernedWidth:Tt*St}},getHeightOfChar:function(it,ot){return this.getValueOfPropertyAt(it,ot,"fontSize")},measureLine:function(it){var ot=this._measureLine(it);return this.charSpacing!==0&&(ot.width-=this._getWidthOfCharSpacing()),ot.width<0&&(ot.width=0),ot},_measureLine:function(it){var ot=0,rt,st,ht=this._textLines[it],at,dt,gt=0,mt=new Array(ht.length),yt=0,_t,wt,St=this.path,Tt=this.pathSide==="right";for(this.__charBounds[it]=mt,rt=0;rt<ht.length;rt++)st=ht[rt],dt=this._getGraphemeBox(st,it,rt,at),mt[rt]=dt,ot+=dt.kernedWidth,at=st;if(mt[rt]={left:dt?dt.left+dt.width:0,width:0,kernedWidth:0,height:this.fontSize},St){switch(wt=St.segmentsInfo[St.segmentsInfo.length-1].length,_t=nt.util.getPointOnPath(St.path,0,St.segmentsInfo),_t.x+=St.pathOffset.x,_t.y+=St.pathOffset.y,this.textAlign){case"left":yt=Tt?wt-ot:0;break;case"center":yt=(wt-ot)/2;break;case"right":yt=Tt?0:wt-ot;break}for(yt+=this.pathStartOffset*(Tt?-1:1),rt=Tt?ht.length-1:0;Tt?rt>=0:rt<ht.length;Tt?rt--:rt++)dt=mt[rt],yt>wt?yt%=wt:yt<0&&(yt+=wt),this._setGraphemeOnPath(yt,dt,_t),yt+=dt.kernedWidth}return{width:ot,numOfSpaces:gt}},_setGraphemeOnPath:function(it,ot,rt){var st=it+ot.kernedWidth/2,ht=this.path,at=nt.util.getPointOnPath(ht.path,st,ht.segmentsInfo);ot.renderLeft=at.x-rt.x,ot.renderTop=at.y-rt.y,ot.angle=at.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(it,ot,rt,st,ht){var at=this.getCompleteStyleDeclaration(ot,rt),dt=st?this.getCompleteStyleDeclaration(ot,rt-1):{},gt=this._measureChar(it,at,st,dt),mt=gt.kernedWidth,yt=gt.width,_t;this.charSpacing!==0&&(_t=this._getWidthOfCharSpacing(),yt+=_t,mt+=_t);var wt={width:yt,left:0,height:at.fontSize,kernedWidth:mt,deltaY:at.deltaY};if(rt>0&&!ht){var St=this.__charBounds[ot][rt-1];wt.left=St.left+St.width+gt.kernedWidth-gt.width}return wt},getHeightOfLine:function(it){if(this.__lineHeights[it])return this.__lineHeights[it];for(var ot=this._textLines[it],rt=this.getHeightOfChar(it,0),st=1,ht=ot.length;st<ht;st++)rt=Math.max(this.getHeightOfChar(it,st),rt);return this.__lineHeights[it]=rt*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var it,ot=0,rt=0,st=this._textLines.length;rt<st;rt++)it=this.getHeightOfLine(rt),ot+=rt===st-1?it/this.lineHeight:it;return ot},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(it,ot){it.save();for(var rt=0,st=this._getLeftOffset(),ht=this._getTopOffset(),at=0,dt=this._textLines.length;at<dt;at++){var gt=this.getHeightOfLine(at),mt=gt/this.lineHeight,yt=this._getLineLeftOffset(at);this._renderTextLine(ot,it,this._textLines[at],st+yt,ht+rt+mt,at),rt+=gt}it.restore()},_renderTextFill:function(it){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(it,"fillText")},_renderTextStroke:function(it){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(it),it.save(),this._setLineDash(it,this.strokeDashArray),it.beginPath(),this._renderTextCommon(it,"strokeText"),it.closePath(),it.restore())},_renderChars:function(it,ot,rt,st,ht,at){var dt=this.getHeightOfLine(at),gt=this.textAlign.indexOf("justify")!==-1,mt,yt,_t="",wt,St=0,Tt,Dt=this.path,Mt=!gt&&this.charSpacing===0&&this.isEmptyStyles(at)&&!Dt,Ht=this.direction==="ltr",Gt=this.direction==="ltr"?1:-1,Zt,Yt=ot.canvas.getAttribute("dir");if(ot.save(),Yt!==this.direction&&(ot.canvas.setAttribute("dir",Ht?"ltr":"rtl"),ot.direction=Ht?"ltr":"rtl",ot.textAlign=Ht?"left":"right"),ht-=dt*this._fontSizeFraction/this.lineHeight,Mt){this._renderChar(it,ot,at,0,rt.join(""),st,ht,dt),ot.restore();return}for(var Kt=0,Jt=rt.length-1;Kt<=Jt;Kt++)Tt=Kt===Jt||this.charSpacing||Dt,_t+=rt[Kt],wt=this.__charBounds[at][Kt],St===0?(st+=Gt*(wt.kernedWidth-wt.width),St+=wt.width):St+=wt.kernedWidth,gt&&!Tt&&this._reSpaceAndTab.test(rt[Kt])&&(Tt=!0),Tt||(mt=mt||this.getCompleteStyleDeclaration(at,Kt),yt=this.getCompleteStyleDeclaration(at,Kt+1),Tt=nt.util.hasStyleChanged(mt,yt,!1)),Tt&&(Dt?(ot.save(),ot.translate(wt.renderLeft,wt.renderTop),ot.rotate(wt.angle),this._renderChar(it,ot,at,Kt,_t,-St/2,0,dt),ot.restore()):(Zt=st,this._renderChar(it,ot,at,Kt,_t,Zt,ht,dt)),_t="",mt=yt,st+=Gt*St,St=0);ot.restore()},_applyPatternGradientTransformText:function(it){var ot=nt.util.createCanvasElement(),rt,st=this.width+this.strokeWidth,ht=this.height+this.strokeWidth;return ot.width=st,ot.height=ht,rt=ot.getContext("2d"),rt.beginPath(),rt.moveTo(0,0),rt.lineTo(st,0),rt.lineTo(st,ht),rt.lineTo(0,ht),rt.closePath(),rt.translate(st/2,ht/2),rt.fillStyle=it.toLive(rt),this._applyPatternGradientTransform(rt,it),rt.fill(),rt.createPattern(ot,"no-repeat")},handleFiller:function(it,ot,rt){var st,ht;return rt.toLive?rt.gradientUnits==="percentage"||rt.gradientTransform||rt.patternTransform?(st=-this.width/2,ht=-this.height/2,it.translate(st,ht),it[ot]=this._applyPatternGradientTransformText(rt),{offsetX:st,offsetY:ht}):(it[ot]=rt.toLive(it,this),this._applyPatternGradientTransform(it,rt)):(it[ot]=rt,{offsetX:0,offsetY:0})},_setStrokeStyles:function(it,ot){return it.lineWidth=ot.strokeWidth,it.lineCap=this.strokeLineCap,it.lineDashOffset=this.strokeDashOffset,it.lineJoin=this.strokeLineJoin,it.miterLimit=this.strokeMiterLimit,this.handleFiller(it,"strokeStyle",ot.stroke)},_setFillStyles:function(it,ot){return this.handleFiller(it,"fillStyle",ot.fill)},_renderChar:function(it,ot,rt,st,ht,at,dt){var gt=this._getStyleDeclaration(rt,st),mt=this.getCompleteStyleDeclaration(rt,st),yt=it==="fillText"&&mt.fill,_t=it==="strokeText"&&mt.stroke&&mt.strokeWidth,wt,St;!_t&&!yt||(ot.save(),yt&&(wt=this._setFillStyles(ot,mt)),_t&&(St=this._setStrokeStyles(ot,mt)),ot.font=this._getFontDeclaration(mt),gt&&gt.textBackgroundColor&&this._removeShadow(ot),gt&&gt.deltaY&&(dt+=gt.deltaY),yt&&ot.fillText(ht,at-wt.offsetX,dt-wt.offsetY),_t&&ot.strokeText(ht,at-St.offsetX,dt-St.offsetY),ot.restore())},setSuperscript:function(it,ot){return this._setScript(it,ot,this.superscript)},setSubscript:function(it,ot){return this._setScript(it,ot,this.subscript)},_setScript:function(it,ot,rt){var st=this.get2DCursorLocation(it,!0),ht=this.getValueOfPropertyAt(st.lineIndex,st.charIndex,"fontSize"),at=this.getValueOfPropertyAt(st.lineIndex,st.charIndex,"deltaY"),dt={fontSize:ht*rt.size,deltaY:at+ht*rt.baseline};return this.setSelectionStyles(dt,it,ot),this},_getLineLeftOffset:function(it){var ot=this.getLineWidth(it),rt=this.width-ot,st=this.textAlign,ht=this.direction,dt,at=0,dt=this.isEndOfWrapping(it);return st==="justify"||st==="justify-center"&&!dt||st==="justify-right"&&!dt||st==="justify-left"&&!dt?0:(st==="center"&&(at=rt/2),st==="right"&&(at=rt),st==="justify-center"&&(at=rt/2),st==="justify-right"&&(at=rt),ht==="rtl"&&(at-=rt),at)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var it=this._forceClearCache;return it||(it=this.hasStateChanged("_dimensionAffectingProps")),it&&(this.dirty=!0,this._forceClearCache=!1),it},getLineWidth:function(it){if(this.__lineWidths[it]!==void 0)return this.__lineWidths[it];var ot=this.measureLine(it),rt=ot.width;return this.__lineWidths[it]=rt,rt},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(it,ot,rt){var st=this._getStyleDeclaration(it,ot);return st&&typeof st[rt]<"u"?st[rt]:this[rt]},_renderTextDecoration:function(it,ot){if(!(!this[ot]&&!this.styleHas(ot))){for(var rt,st,ht,at,dt,gt,mt,yt,_t=this._getLeftOffset(),wt=this._getTopOffset(),St,Tt,Dt,Mt,Ht,Gt,Zt,Yt,Kt=this.path,Jt=this._getWidthOfCharSpacing(),sn=this.offsets[ot],Ft=0,xt=this._textLines.length;Ft<xt;Ft++){if(rt=this.getHeightOfLine(Ft),!this[ot]&&!this.styleHas(ot,Ft)){wt+=rt;continue}mt=this._textLines[Ft],Gt=rt/this.lineHeight,at=this._getLineLeftOffset(Ft),Tt=0,Dt=0,yt=this.getValueOfPropertyAt(Ft,0,ot),Yt=this.getValueOfPropertyAt(Ft,0,"fill"),St=wt+Gt*(1-this._fontSizeFraction),st=this.getHeightOfChar(Ft,0),dt=this.getValueOfPropertyAt(Ft,0,"deltaY");for(var bt=0,Ot=mt.length;bt<Ot;bt++)if(Mt=this.__charBounds[Ft][bt],Ht=this.getValueOfPropertyAt(Ft,bt,ot),Zt=this.getValueOfPropertyAt(Ft,bt,"fill"),ht=this.getHeightOfChar(Ft,bt),gt=this.getValueOfPropertyAt(Ft,bt,"deltaY"),Kt&&Ht&&Zt)it.save(),it.fillStyle=Yt,it.translate(Mt.renderLeft,Mt.renderTop),it.rotate(Mt.angle),it.fillRect(-Mt.kernedWidth/2,sn*ht+gt,Mt.kernedWidth,this.fontSize/15),it.restore();else if((Ht!==yt||Zt!==Yt||ht!==st||gt!==dt)&&Dt>0){var Et=_t+at+Tt;this.direction==="rtl"&&(Et=this.width-Et-Dt),yt&&Yt&&(it.fillStyle=Yt,it.fillRect(Et,St+sn*st+dt,Dt,this.fontSize/15)),Tt=Mt.left,Dt=Mt.width,yt=Ht,Yt=Zt,st=ht,dt=gt}else Dt+=Mt.kernedWidth;var Et=_t+at+Tt;this.direction==="rtl"&&(Et=this.width-Et-Dt),it.fillStyle=Zt,Ht&&Zt&&it.fillRect(Et,St+sn*st+dt,Dt-Jt,this.fontSize/15),wt+=rt}this._removeShadow(it)}},_getFontDeclaration:function(it,ot){var rt=it||this,st=this.fontFamily,ht=nt.Text.genericFonts.indexOf(st.toLowerCase())>-1,at=st===void 0||st.indexOf("'")>-1||st.indexOf(",")>-1||st.indexOf('"')>-1||ht?rt.fontFamily:'"'+rt.fontFamily+'"';return[nt.isLikelyNode?rt.fontWeight:rt.fontStyle,nt.isLikelyNode?rt.fontStyle:rt.fontWeight,ot?this.CACHE_FONT_SIZE+"px":rt.fontSize+"px",at].join(" ")},render:function(it){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",it)))},_splitTextIntoLines:function(it){for(var ot=it.split(this._reNewline),rt=new Array(ot.length),st=[`
`],ht=[],at=0;at<ot.length;at++)rt[at]=nt.util.string.graphemeSplit(ot[at]),ht=ht.concat(rt[at],st);return ht.pop(),{_unwrappedLines:rt,lines:ot,graphemeText:ht,graphemeLines:rt}},toObject:function(it){var ot=ft.concat(it),rt=this.callSuper("toObject",ot);return rt.styles=nt.util.stylesToArray(this.styles,this.text),rt.path&&(rt.path=this.path.toObject()),rt},set:function(it,ot){this.callSuper("set",it,ot);var rt=!1,st=!1;if(typeof it=="object")for(var ht in it)ht==="path"&&this.setPathInfo(),rt=rt||this._dimensionAffectingProps.indexOf(ht)!==-1,st=st||ht==="path";else rt=this._dimensionAffectingProps.indexOf(it)!==-1,st=it==="path";return st&&this.setPathInfo(),rt&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),nt.Text.ATTRIBUTE_NAMES=nt.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),nt.Text.DEFAULT_SVG_FONT_SIZE=16,nt.Text.fromElement=function(it,ot,rt){if(!it)return ot(null);var st=nt.parseAttributes(it,nt.Text.ATTRIBUTE_NAMES),ht=st.textAnchor||"left";if(rt=nt.util.object.extend(rt?lt(rt):{},st),rt.top=rt.top||0,rt.left=rt.left||0,st.textDecoration){var at=st.textDecoration;at.indexOf("underline")!==-1&&(rt.underline=!0),at.indexOf("overline")!==-1&&(rt.overline=!0),at.indexOf("line-through")!==-1&&(rt.linethrough=!0),delete rt.textDecoration}"dx"in st&&(rt.left+=st.dx),"dy"in st&&(rt.top+=st.dy),"fontSize"in rt||(rt.fontSize=nt.Text.DEFAULT_SVG_FONT_SIZE);var dt="";"textContent"in it?dt=it.textContent:"firstChild"in it&&it.firstChild!==null&&"data"in it.firstChild&&it.firstChild.data!==null&&(dt=it.firstChild.data),dt=dt.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var gt=rt.strokeWidth;rt.strokeWidth=0;var mt=new nt.Text(dt,rt),yt=mt.getScaledHeight()/mt.height,_t=(mt.height+mt.strokeWidth)*mt.lineHeight-mt.height,wt=_t*yt,St=mt.getScaledHeight()+wt,Tt=0;ht==="center"&&(Tt=mt.getScaledWidth()/2),ht==="right"&&(Tt=mt.getScaledWidth()),mt.set({left:mt.left-Tt,top:mt.top-(St-mt.fontSize*(.07+mt._fontSizeFraction))/mt.lineHeight,strokeWidth:typeof gt<"u"?gt:1}),ot(mt)},nt.Text.fromObject=function(it,ot){var rt=lt(it),st=it.path;return delete rt.path,nt.Object._fromObject("Text",rt,function(ht){ht.styles=nt.util.stylesFromArray(it.styles,it.text),st?nt.Object._fromObject("Path",st,function(at){ht.set("path",at),ot(ht)},"path"):ot(ht)},"text")},nt.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],nt.util.createAccessors&&nt.util.createAccessors(nt.Text)}($),function(){_e.util.object.extend(_e.Text.prototype,{isEmptyStyles:function(ut){if(!this.styles||typeof ut<"u"&&!this.styles[ut])return!0;var nt=typeof ut>"u"?this.styles:{line:this.styles[ut]};for(var lt in nt)for(var ft in nt[lt])for(var it in nt[lt][ft])return!1;return!0},styleHas:function(ut,nt){if(!this.styles||!ut||ut===""||typeof nt<"u"&&!this.styles[nt])return!1;var lt=typeof nt>"u"?this.styles:{0:this.styles[nt]};for(var ft in lt)for(var it in lt[ft])if(typeof lt[ft][it][ut]<"u")return!0;return!1},cleanStyle:function(ut){if(!this.styles||!ut||ut==="")return!1;var nt=this.styles,lt=0,ft,it,ot=!0,rt=0,st;for(var ht in nt){ft=0;for(var at in nt[ht]){var st=nt[ht][at],dt=st.hasOwnProperty(ut);lt++,dt?(it?st[ut]!==it&&(ot=!1):it=st[ut],st[ut]===this[ut]&&delete st[ut]):ot=!1,Object.keys(st).length!==0?ft++:delete nt[ht][at]}ft===0&&delete nt[ht]}for(var gt=0;gt<this._textLines.length;gt++)rt+=this._textLines[gt].length;ot&&lt===rt&&(this[ut]=it,this.removeStyle(ut))},removeStyle:function(ut){if(!(!this.styles||!ut||ut==="")){var nt=this.styles,lt,ft,it;for(ft in nt){lt=nt[ft];for(it in lt)delete lt[it][ut],Object.keys(lt[it]).length===0&&delete lt[it];Object.keys(lt).length===0&&delete nt[ft]}}},_extendStyles:function(ut,nt){var lt=this.get2DCursorLocation(ut);this._getLineStyle(lt.lineIndex)||this._setLineStyle(lt.lineIndex),this._getStyleDeclaration(lt.lineIndex,lt.charIndex)||this._setStyleDeclaration(lt.lineIndex,lt.charIndex,{}),_e.util.object.extend(this._getStyleDeclaration(lt.lineIndex,lt.charIndex),nt)},get2DCursorLocation:function(ut,nt){typeof ut>"u"&&(ut=this.selectionStart);for(var lt=nt?this._unwrappedTextLines:this._textLines,ft=lt.length,it=0;it<ft;it++){if(ut<=lt[it].length)return{lineIndex:it,charIndex:ut};ut-=lt[it].length+this.missingNewlineOffset(it)}return{lineIndex:it-1,charIndex:lt[it-1].length<ut?lt[it-1].length:ut}},getSelectionStyles:function(ut,nt,lt){typeof ut>"u"&&(ut=this.selectionStart||0),typeof nt>"u"&&(nt=this.selectionEnd||ut);for(var ft=[],it=ut;it<nt;it++)ft.push(this.getStyleAtPosition(it,lt));return ft},getStyleAtPosition:function(ut,nt){var lt=this.get2DCursorLocation(ut),ft=nt?this.getCompleteStyleDeclaration(lt.lineIndex,lt.charIndex):this._getStyleDeclaration(lt.lineIndex,lt.charIndex);return ft||{}},setSelectionStyles:function(ut,nt,lt){typeof nt>"u"&&(nt=this.selectionStart||0),typeof lt>"u"&&(lt=this.selectionEnd||nt);for(var ft=nt;ft<lt;ft++)this._extendStyles(ft,ut);return this._forceClearCache=!0,this},_getStyleDeclaration:function(ut,nt){var lt=this.styles&&this.styles[ut];return lt?lt[nt]:null},getCompleteStyleDeclaration:function(ut,nt){for(var lt=this._getStyleDeclaration(ut,nt)||{},ft={},it,ot=0;ot<this._styleProperties.length;ot++)it=this._styleProperties[ot],ft[it]=typeof lt[it]>"u"?this[it]:lt[it];return ft},_setStyleDeclaration:function(ut,nt,lt){this.styles[ut][nt]=lt},_deleteStyleDeclaration:function(ut,nt){delete this.styles[ut][nt]},_getLineStyle:function(ut){return!!this.styles[ut]},_setLineStyle:function(ut){this.styles[ut]={}},_deleteLineStyle:function(ut){delete this.styles[ut]}})}(),function(){function ut(nt){nt.textDecoration&&(nt.textDecoration.indexOf("underline")>-1&&(nt.underline=!0),nt.textDecoration.indexOf("line-through")>-1&&(nt.linethrough=!0),nt.textDecoration.indexOf("overline")>-1&&(nt.overline=!0),delete nt.textDecoration)}_e.IText=_e.util.createClass(_e.Text,_e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(nt,lt){this.callSuper("initialize",nt,lt),this.initBehavior()},setSelectionStart:function(nt){nt=Math.max(nt,0),this._updateAndFire("selectionStart",nt)},setSelectionEnd:function(nt){nt=Math.min(nt,this.text.length),this._updateAndFire("selectionEnd",nt)},_updateAndFire:function(nt,lt){this[nt]!==lt&&(this._fireSelectionChanged(),this[nt]=lt),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(nt){this.clearContextTop(),this.callSuper("render",nt),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(nt){this.callSuper("_render",nt)},clearContextTop:function(nt){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var lt=this.canvas.contextTop,ft=this.canvas.viewportTransform;lt.save(),lt.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]),this.transform(lt),this._clearTextArea(lt),nt||lt.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var nt=this._getCursorBoundaries(),lt=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(nt,lt):this.renderSelection(nt,lt),lt.restore()}},_clearTextArea:function(nt){var lt=this.width+4,ft=this.height+4;nt.clearRect(-lt/2,-ft/2,lt,ft)},_getCursorBoundaries:function(nt){typeof nt>"u"&&(nt=this.selectionStart);var lt=this._getLeftOffset(),ft=this._getTopOffset(),it=this._getCursorBoundariesOffsets(nt);return{left:lt,top:ft,leftOffset:it.left,topOffset:it.top}},_getCursorBoundariesOffsets:function(nt){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var lt,ft,it,ot=0,rt=0,st,ht=this.get2DCursorLocation(nt);it=ht.charIndex,ft=ht.lineIndex;for(var at=0;at<ft;at++)ot+=this.getHeightOfLine(at);lt=this._getLineLeftOffset(ft);var dt=this.__charBounds[ft][it];return dt&&(rt=dt.left),this.charSpacing!==0&&it===this._textLines[ft].length&&(rt-=this._getWidthOfCharSpacing()),st={top:ot,left:lt+(rt>0?rt:0)},this.direction==="rtl"&&(st.left*=-1),this.cursorOffsetCache=st,this.cursorOffsetCache},renderCursor:function(nt,lt){var ft=this.get2DCursorLocation(),it=ft.lineIndex,ot=ft.charIndex>0?ft.charIndex-1:0,rt=this.getValueOfPropertyAt(it,ot,"fontSize"),st=this.scaleX*this.canvas.getZoom(),ht=this.cursorWidth/st,at=nt.topOffset,dt=this.getValueOfPropertyAt(it,ot,"deltaY");at+=(1-this._fontSizeFraction)*this.getHeightOfLine(it)/this.lineHeight-rt*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(nt,lt),lt.fillStyle=this.cursorColor||this.getValueOfPropertyAt(it,ot,"fill"),lt.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,lt.fillRect(nt.left+nt.leftOffset-ht/2,at+nt.top+dt,ht,rt)},renderSelection:function(nt,lt){for(var ft=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,it=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,ot=this.textAlign.indexOf("justify")!==-1,rt=this.get2DCursorLocation(ft),st=this.get2DCursorLocation(it),ht=rt.lineIndex,at=st.lineIndex,dt=rt.charIndex<0?0:rt.charIndex,gt=st.charIndex<0?0:st.charIndex,mt=ht;mt<=at;mt++){var yt=this._getLineLeftOffset(mt)||0,_t=this.getHeightOfLine(mt),wt=0,St=0,Tt=0;if(mt===ht&&(St=this.__charBounds[ht][dt].left),mt>=ht&&mt<at)Tt=ot&&!this.isEndOfWrapping(mt)?this.width:this.getLineWidth(mt)||5;else if(mt===at)if(gt===0)Tt=this.__charBounds[at][gt].left;else{var Dt=this._getWidthOfCharSpacing();Tt=this.__charBounds[at][gt-1].left+this.__charBounds[at][gt-1].width-Dt}wt=_t,(this.lineHeight<1||mt===at&&this.lineHeight>1)&&(_t/=this.lineHeight);var Mt=nt.left+yt+St,Ht=Tt-St,Gt=_t,Zt=0;this.inCompositionMode?(lt.fillStyle=this.compositionColor||"black",Gt=1,Zt=_t):lt.fillStyle=this.selectionColor,this.direction==="rtl"&&(Mt=this.width-Mt-Ht),lt.fillRect(Mt,nt.top+nt.topOffset+Zt,Ht,Gt),nt.topOffset+=wt}},getCurrentCharFontSize:function(){var nt=this._getCurrentCharIndex();return this.getValueOfPropertyAt(nt.l,nt.c,"fontSize")},getCurrentCharColor:function(){var nt=this._getCurrentCharIndex();return this.getValueOfPropertyAt(nt.l,nt.c,"fill")},_getCurrentCharIndex:function(){var nt=this.get2DCursorLocation(this.selectionStart,!0),lt=nt.charIndex>0?nt.charIndex-1:0;return{l:nt.lineIndex,c:lt}}}),_e.IText.fromObject=function(nt,lt){var ft=_e.util.stylesFromArray(nt.styles,nt.text),it=Object.assign({},nt,{styles:ft});if(ut(it),it.styles)for(var ot in it.styles)for(var rt in it.styles[ot])ut(it.styles[ot][rt]);_e.Object._fromObject("IText",it,lt,"text")}}(),function(){var ut=_e.util.object.clone;_e.util.object.extend(_e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var nt=this;this.on("added",function(){var lt=nt.canvas;lt&&(lt._hasITextHandlers||(lt._hasITextHandlers=!0,nt._initCanvasHandlers(lt)),lt._iTextInstances=lt._iTextInstances||[],lt._iTextInstances.push(nt))})},initRemovedHandler:function(){var nt=this;this.on("removed",function(){var lt=nt.canvas;lt&&(lt._iTextInstances=lt._iTextInstances||[],_e.util.removeFromArray(lt._iTextInstances,nt),lt._iTextInstances.length===0&&(lt._hasITextHandlers=!1,nt._removeCanvasHandlers(lt)))})},_initCanvasHandlers:function(nt){nt._mouseUpITextHandler=function(){nt._iTextInstances&&nt._iTextInstances.forEach(function(lt){lt.__isMousedown=!1})},nt.on("mouse:up",nt._mouseUpITextHandler)},_removeCanvasHandlers:function(nt){nt.off("mouse:up",nt._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(nt,lt,ft,it){var ot;return ot={isAborted:!1,abort:function(){this.isAborted=!0}},nt.animate("_currentCursorOpacity",lt,{duration:ft,onComplete:function(){ot.isAborted||nt[it]()},onChange:function(){nt.canvas&&nt.selectionStart===nt.selectionEnd&&nt.renderCursorOrSelection()},abort:function(){return ot.isAborted}}),ot},_onTickComplete:function(){var nt=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){nt._currentTickCompleteState=nt._animateCursor(nt,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(nt){var lt=this,ft=nt?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){lt._tick()},ft)},abortCursorAnimation:function(){var nt=this._currentTickState||this._currentTickCompleteState,lt=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,nt&&lt&&lt.clearContext(lt.contextTop||lt.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(nt){var lt=0,ft=nt-1;if(this._reSpace.test(this._text[ft]))for(;this._reSpace.test(this._text[ft]);)lt++,ft--;for(;/\S/.test(this._text[ft])&&ft>-1;)lt++,ft--;return nt-lt},findWordBoundaryRight:function(nt){var lt=0,ft=nt;if(this._reSpace.test(this._text[ft]))for(;this._reSpace.test(this._text[ft]);)lt++,ft++;for(;/\S/.test(this._text[ft])&&ft<this._text.length;)lt++,ft++;return nt+lt},findLineBoundaryLeft:function(nt){for(var lt=0,ft=nt-1;!/\n/.test(this._text[ft])&&ft>-1;)lt++,ft--;return nt-lt},findLineBoundaryRight:function(nt){for(var lt=0,ft=nt;!/\n/.test(this._text[ft])&&ft<this._text.length;)lt++,ft++;return nt+lt},searchWordBoundary:function(nt,lt){for(var ft=this._text,it=this._reSpace.test(ft[nt])?nt-1:nt,ot=ft[it],rt=_e.reNonWord;!rt.test(ot)&&it>0&&it<ft.length;)it+=lt,ot=ft[it];return rt.test(ot)&&(it+=lt===1?0:1),it},selectWord:function(nt){nt=nt||this.selectionStart;var lt=this.searchWordBoundary(nt,-1),ft=this.searchWordBoundary(nt,1);this.selectionStart=lt,this.selectionEnd=ft,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(nt){nt=nt||this.selectionStart;var lt=this.findLineBoundaryLeft(nt),ft=this.findLineBoundaryRight(nt);return this.selectionStart=lt,this.selectionEnd=ft,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(nt){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(nt),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(nt){nt._iTextInstances&&nt._iTextInstances.forEach(function(lt){lt.selected=!1,lt.isEditing&&lt.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(nt){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var lt=this.getSelectionStartFromPointer(nt.e),ft=this.selectionStart,it=this.selectionEnd;(lt!==this.__selectionStartOnMouseDown||ft===it)&&(ft===lt||it===lt)||(lt>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=lt):(this.selectionStart=lt,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==ft||this.selectionEnd!==it)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(nt,lt,ft){var it=ft.slice(0,nt),ot=_e.util.string.graphemeSplit(it).length;if(nt===lt)return{selectionStart:ot,selectionEnd:ot};var rt=ft.slice(nt,lt),st=_e.util.string.graphemeSplit(rt).length;return{selectionStart:ot,selectionEnd:ot+st}},fromGraphemeToStringSelection:function(nt,lt,ft){var it=ft.slice(0,nt),ot=it.join("").length;if(nt===lt)return{selectionStart:ot,selectionEnd:ot};var rt=ft.slice(nt,lt),st=rt.join("").length;return{selectionStart:ot,selectionEnd:ot+st}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var nt=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=nt.selectionStart,this.hiddenTextarea.selectionEnd=nt.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var nt=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=nt.selectionEnd,this.inCompositionMode||(this.selectionStart=nt.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var nt=this._calcTextareaPosition();this.hiddenTextarea.style.left=nt.left,this.hiddenTextarea.style.top=nt.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var nt=this.inCompositionMode?this.compositionStart:this.selectionStart,lt=this._getCursorBoundaries(nt),ft=this.get2DCursorLocation(nt),it=ft.lineIndex,ot=ft.charIndex,rt=this.getValueOfPropertyAt(it,ot,"fontSize")*this.lineHeight,st=lt.leftOffset,ht=this.calcTransformMatrix(),at={x:lt.left+st,y:lt.top+lt.topOffset+rt},dt=this.canvas.getRetinaScaling(),gt=this.canvas.upperCanvasEl,mt=gt.width/dt,yt=gt.height/dt,_t=mt-rt,wt=yt-rt,St=gt.clientWidth/mt,Tt=gt.clientHeight/yt;return at=_e.util.transformPoint(at,ht),at=_e.util.transformPoint(at,this.canvas.viewportTransform),at.x*=St,at.y*=Tt,at.x<0&&(at.x=0),at.x>_t&&(at.x=_t),at.y<0&&(at.y=0),at.y>wt&&(at.y=wt),at.x+=this.canvas._offset.left,at.y+=this.canvas._offset.top,{left:at.x+"px",top:at.y+"px",fontSize:rt+"px",charHeight:rt}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var nt=this._textBeforeEdit!==this.text,lt=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,lt&&(lt.blur&&lt.blur(),lt.parentNode&&lt.parentNode.removeChild(lt)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),nt&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),nt&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var nt in this.styles)this._textLines[nt]||delete this.styles[nt]},removeStyleFromTo:function(nt,lt){var ft=this.get2DCursorLocation(nt,!0),it=this.get2DCursorLocation(lt,!0),ot=ft.lineIndex,rt=ft.charIndex,st=it.lineIndex,ht=it.charIndex,at,dt;if(ot!==st){if(this.styles[ot])for(at=rt;at<this._unwrappedTextLines[ot].length;at++)delete this.styles[ot][at];if(this.styles[st])for(at=ht;at<this._unwrappedTextLines[st].length;at++)dt=this.styles[st][at],dt&&(this.styles[ot]||(this.styles[ot]={}),this.styles[ot][rt+at-ht]=dt);for(at=ot+1;at<=st;at++)delete this.styles[at];this.shiftLineStyles(st,ot-st)}else if(this.styles[ot]){dt=this.styles[ot];var gt=ht-rt,mt,yt;for(at=rt;at<ht;at++)delete dt[at];for(yt in this.styles[ot])mt=parseInt(yt,10),mt>=ht&&(dt[mt-gt]=dt[yt],delete dt[yt])}},shiftLineStyles:function(nt,lt){var ft=ut(this.styles);for(var it in this.styles){var ot=parseInt(it,10);ot>nt&&(this.styles[ot+lt]=ft[ot],ft[ot-lt]||delete this.styles[ot])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(nt,lt,ft,it){var ot,rt={},st=!1,ht=this._unwrappedTextLines[nt].length===lt;ft||(ft=1),this.shiftLineStyles(nt,ft),this.styles[nt]&&(ot=this.styles[nt][lt===0?lt:lt-1]);for(var at in this.styles[nt]){var dt=parseInt(at,10);dt>=lt&&(st=!0,rt[dt-lt]=this.styles[nt][at],ht&&lt===0||delete this.styles[nt][at])}var gt=!1;for(st&&!ht&&(this.styles[nt+ft]=rt,gt=!0),gt&&ft--;ft>0;)it&&it[ft-1]?this.styles[nt+ft]={0:ut(it[ft-1])}:ot?this.styles[nt+ft]={0:ut(ot)}:delete this.styles[nt+ft],ft--;this._forceClearCache=!0},insertCharStyleObject:function(nt,lt,ft,it){this.styles||(this.styles={});var ot=this.styles[nt],rt=ot?ut(ot):{};ft||(ft=1);for(var st in rt){var ht=parseInt(st,10);ht>=lt&&(ot[ht+ft]=rt[ht],rt[ht-ft]||delete ot[ht])}if(this._forceClearCache=!0,it){for(;ft--;)Object.keys(it[ft]).length&&(this.styles[nt]||(this.styles[nt]={}),this.styles[nt][lt+ft]=ut(it[ft]));return}if(ot)for(var at=ot[lt?lt-1:1];at&&ft--;)this.styles[nt][lt+ft]=ut(at)},insertNewStyleBlock:function(nt,lt,ft){for(var it=this.get2DCursorLocation(lt,!0),ot=[0],rt=0,st=0;st<nt.length;st++)nt[st]===`
`?(rt++,ot[rt]=0):ot[rt]++;ot[0]>0&&(this.insertCharStyleObject(it.lineIndex,it.charIndex,ot[0],ft),ft=ft&&ft.slice(ot[0]+1)),rt&&this.insertNewlineStyleObject(it.lineIndex,it.charIndex+ot[0],rt);for(var st=1;st<rt;st++)ot[st]>0?this.insertCharStyleObject(it.lineIndex+st,0,ot[st],ft):ft&&this.styles[it.lineIndex+st]&&ft[0]&&(this.styles[it.lineIndex+st][0]=ft[0]),ft=ft&&ft.slice(ot[st]+1);ot[st]>0&&this.insertCharStyleObject(it.lineIndex+st,0,ot[st],ft)},setSelectionStartEndWithShift:function(nt,lt,ft){ft<=nt?(lt===nt?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=nt),this.selectionStart=ft):ft>nt&&ft<lt?this._selectionDirection==="right"?this.selectionEnd=ft:this.selectionStart=ft:(lt===nt?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=lt),this.selectionEnd=ft)},setSelectionInBoundaries:function(){var nt=this.text.length;this.selectionStart>nt?this.selectionStart=nt:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>nt?this.selectionEnd=nt:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),_e.util.object.extend(_e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(ut){if(this.canvas){this.__newClickTime=+new Date;var nt=ut.pointer;this.isTripleClick(nt)&&(this.fire("tripleclick",ut),this._stopEvent(ut.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=nt,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(ut){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===ut.x&&this.__lastPointer.y===ut.y},_stopEvent:function(ut){ut.preventDefault&&ut.preventDefault(),ut.stopPropagation&&ut.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(ut){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(ut.e))},tripleClickHandler:function(ut){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(ut.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(ut){!this.canvas||!this.editable||ut.e.button&&ut.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(ut.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(ut){!this.canvas||!this.editable||ut.e.button&&ut.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(ut){if(this.__isMousedown=!1,!(!this.editable||this.group||ut.transform&&ut.transform.actionPerformed||ut.e.button&&ut.e.button!==1)){if(this.canvas){var nt=this.canvas._activeObject;if(nt&&nt!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(ut.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(ut){var nt=this.getSelectionStartFromPointer(ut),lt=this.selectionStart,ft=this.selectionEnd;ut.shiftKey?this.setSelectionStartEndWithShift(lt,ft,nt):(this.selectionStart=nt,this.selectionEnd=nt),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(ut){for(var nt=this.getLocalPointer(ut),lt=0,ft=0,it=0,ot=0,rt=0,st,ht,at=0,dt=this._textLines.length;at<dt&&it<=nt.y;at++)it+=this.getHeightOfLine(at)*this.scaleY,rt=at,at>0&&(ot+=this._textLines[at-1].length+this.missingNewlineOffset(at-1));st=this._getLineLeftOffset(rt),ft=st*this.scaleX,ht=this._textLines[rt],this.direction==="rtl"&&(nt.x=this.width*this.scaleX-nt.x+ft);for(var gt=0,mt=ht.length;gt<mt&&(lt=ft,ft+=this.__charBounds[rt][gt].kernedWidth*this.scaleX,ft<=nt.x);gt++)ot++;return this._getNewSelectionStartFromOffset(nt,lt,ft,ot,mt)},_getNewSelectionStartFromOffset:function(ut,nt,lt,ft,it){var ot=ut.x-nt,rt=lt-ut.x,st=rt>ot||rt<0?0:1,ht=ft+st;return this.flipX&&(ht=it-ht),ht>this._text.length&&(ht=this._text.length),ht}}),_e.util.object.extend(_e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=_e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var ut=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+ut.top+"; left: "+ut.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+ut.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):_e.document.body.appendChild(this.hiddenTextarea),_e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),_e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),_e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),_e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),_e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),_e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),_e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),_e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),_e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(_e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(ut){if(this.isEditing){var nt=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(ut.keyCode in nt)this[nt[ut.keyCode]](ut);else if(ut.keyCode in this.ctrlKeysMapDown&&(ut.ctrlKey||ut.metaKey))this[this.ctrlKeysMapDown[ut.keyCode]](ut);else return;ut.stopImmediatePropagation(),ut.preventDefault(),ut.keyCode>=33&&ut.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(ut){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(ut.keyCode in this.ctrlKeysMapUp&&(ut.ctrlKey||ut.metaKey))this[this.ctrlKeysMapUp[ut.keyCode]](ut);else return;ut.stopImmediatePropagation(),ut.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(ut){var nt=this.fromPaste;if(this.fromPaste=!1,ut&&ut.stopPropagation(),!!this.isEditing){var lt=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,ft=this._text.length,it=lt.length,ot,rt,st=it-ft,ht=this.selectionStart,at=this.selectionEnd,dt=ht!==at,gt,mt,yt;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var _t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),wt=ht>_t.selectionStart;dt?(ot=this._text.slice(ht,at),st+=at-ht):it<ft&&(wt?ot=this._text.slice(at+st,at):ot=this._text.slice(ht,ht-st)),rt=lt.slice(_t.selectionEnd-st,_t.selectionEnd),ot&&ot.length&&(rt.length&&(gt=this.getSelectionStyles(ht,ht+1,!1),gt=rt.map(function(){return gt[0]})),dt?(mt=ht,yt=at):wt?(mt=at-ot.length,yt=at):(mt=at,yt=at+ot.length),this.removeStyleFromTo(mt,yt)),rt.length&&(nt&&rt.join("")===_e.copiedText&&!_e.disableStyleCopyPaste&&(gt=_e.copiedTextStyle),this.insertNewStyleBlock(rt,ht,gt)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(ut){this.compositionStart=ut.target.selectionStart,this.compositionEnd=ut.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(_e.copiedText=this.getSelectedText(),_e.disableStyleCopyPaste?_e.copiedTextStyle=null:_e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(ut){return ut&&ut.clipboardData||_e.window.clipboardData},_getWidthBeforeCursor:function(ut,nt){var lt=this._getLineLeftOffset(ut),ft;return nt>0&&(ft=this.__charBounds[ut][nt-1],lt+=ft.left+ft.width),lt},getDownCursorOffset:function(ut,nt){var lt=this._getSelectionForOffset(ut,nt),ft=this.get2DCursorLocation(lt),it=ft.lineIndex;if(it===this._textLines.length-1||ut.metaKey||ut.keyCode===34)return this._text.length-lt;var ot=ft.charIndex,rt=this._getWidthBeforeCursor(it,ot),st=this._getIndexOnLine(it+1,rt),ht=this._textLines[it].slice(ot);return ht.length+st+1+this.missingNewlineOffset(it)},_getSelectionForOffset:function(ut,nt){return ut.shiftKey&&this.selectionStart!==this.selectionEnd&&nt?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(ut,nt){var lt=this._getSelectionForOffset(ut,nt),ft=this.get2DCursorLocation(lt),it=ft.lineIndex;if(it===0||ut.metaKey||ut.keyCode===33)return-lt;var ot=ft.charIndex,rt=this._getWidthBeforeCursor(it,ot),st=this._getIndexOnLine(it-1,rt),ht=this._textLines[it].slice(0,ot),at=this.missingNewlineOffset(it-1);return-this._textLines[it-1].length+st-ht.length+(1-at)},_getIndexOnLine:function(ut,nt){for(var lt=this._textLines[ut],ft=this._getLineLeftOffset(ut),it=ft,ot=0,rt,st,ht=0,at=lt.length;ht<at;ht++)if(rt=this.__charBounds[ut][ht].width,it+=rt,it>nt){st=!0;var dt=it-rt,gt=it,mt=Math.abs(dt-nt),yt=Math.abs(gt-nt);ot=yt<mt?ht:ht-1;break}return st||(ot=lt.length-1),ot},moveCursorDown:function(ut){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",ut)},moveCursorUp:function(ut){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",ut)},_moveCursorUpOrDown:function(ut,nt){var lt="get"+ut+"CursorOffset",ft=this[lt](nt,this._selectionDirection==="right");nt.shiftKey?this.moveCursorWithShift(ft):this.moveCursorWithoutShift(ft),ft!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(ut){var nt=this._selectionDirection==="left"?this.selectionStart+ut:this.selectionEnd+ut;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,nt),ut!==0},moveCursorWithoutShift:function(ut){return ut<0?(this.selectionStart+=ut,this.selectionEnd=this.selectionStart):(this.selectionEnd+=ut,this.selectionStart=this.selectionEnd),ut!==0},moveCursorLeft:function(ut){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",ut)},_move:function(ut,nt,lt){var ft;if(ut.altKey)ft=this["findWordBoundary"+lt](this[nt]);else if(ut.metaKey||ut.keyCode===35||ut.keyCode===36)ft=this["findLineBoundary"+lt](this[nt]);else return this[nt]+=lt==="Left"?-1:1,!0;if(typeof ft<"u"&&this[nt]!==ft)return this[nt]=ft,!0},_moveLeft:function(ut,nt){return this._move(ut,nt,"Left")},_moveRight:function(ut,nt){return this._move(ut,nt,"Right")},moveCursorLeftWithoutShift:function(ut){var nt=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(nt=this._moveLeft(ut,"selectionStart")),this.selectionEnd=this.selectionStart,nt},moveCursorLeftWithShift:function(ut){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(ut,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(ut,"selectionStart")},moveCursorRight:function(ut){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",ut)},_moveCursorLeftOrRight:function(ut,nt){var lt="moveCursor"+ut+"With";this._currentCursorOpacity=1,nt.shiftKey?lt+="Shift":lt+="outShift",this[lt](nt)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(ut){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(ut,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(ut,"selectionEnd")},moveCursorRightWithoutShift:function(ut){var nt=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(nt=this._moveRight(ut,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,nt},removeChars:function(ut,nt){typeof nt>"u"&&(nt=ut+1),this.removeStyleFromTo(ut,nt),this._text.splice(ut,nt-ut),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(ut,nt,lt,ft){typeof ft>"u"&&(ft=lt),ft>lt&&this.removeStyleFromTo(lt,ft);var it=_e.util.string.graphemeSplit(ut);this.insertNewStyleBlock(it,lt,nt),this._text=[].concat(this._text.slice(0,lt),it,this._text.slice(ft)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var ut=_e.util.toFixed,nt=/  +/g;_e.util.object.extend(_e.Text.prototype,{_toSVG:function(){var lt=this._getSVGLeftTopOffsets(),ft=this._getSVGTextAndBg(lt.textTop,lt.textLeft);return this._wrapSVGTextAndBg(ft)},toSVG:function(lt){return this._createBaseSVGMarkup(this._toSVG(),{reviver:lt,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(lt){var ft=!0,it=this.getSvgTextDecoration(this);return[lt.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",it?'text-decoration="'+it+'" ':"",'style="',this.getSvgStyles(ft),'"',this.addPaintOrder()," >",lt.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(lt,ft){var it=[],ot=[],rt=lt,st;this._setSVGBg(ot);for(var ht=0,at=this._textLines.length;ht<at;ht++)st=this._getLineLeftOffset(ht),(this.textBackgroundColor||this.styleHas("textBackgroundColor",ht))&&this._setSVGTextLineBg(ot,ht,ft+st,rt),this._setSVGTextLineText(it,ht,ft+st,rt),rt+=this.getHeightOfLine(ht);return{textSpans:it,textBgRects:ot}},_createTextCharSpan:function(lt,ft,it,ot){var rt=lt!==lt.trim()||lt.match(nt),st=this.getSvgSpanStyles(ft,rt),ht=st?'style="'+st+'"':"",at=ft.deltaY,dt="",gt=_e.Object.NUM_FRACTION_DIGITS;return at&&(dt=' dy="'+ut(at,gt)+'" '),['<tspan x="',ut(it,gt),'" y="',ut(ot,gt),'" ',dt,ht,">",_e.util.string.escapeXml(lt),"</tspan>"].join("")},_setSVGTextLineText:function(lt,ft,it,ot){var rt=this.getHeightOfLine(ft),st=this.textAlign.indexOf("justify")!==-1,ht,at,dt="",gt,mt,yt=0,_t=this._textLines[ft],wt;ot+=rt*(1-this._fontSizeFraction)/this.lineHeight;for(var St=0,Tt=_t.length-1;St<=Tt;St++)wt=St===Tt||this.charSpacing,dt+=_t[St],gt=this.__charBounds[ft][St],yt===0?(it+=gt.kernedWidth-gt.width,yt+=gt.width):yt+=gt.kernedWidth,st&&!wt&&this._reSpaceAndTab.test(_t[St])&&(wt=!0),wt||(ht=ht||this.getCompleteStyleDeclaration(ft,St),at=this.getCompleteStyleDeclaration(ft,St+1),wt=_e.util.hasStyleChanged(ht,at,!0)),wt&&(mt=this._getStyleDeclaration(ft,St)||{},lt.push(this._createTextCharSpan(dt,mt,it,ot)),dt="",ht=at,it+=yt,yt=0)},_pushTextBgRect:function(lt,ft,it,ot,rt,st){var ht=_e.Object.NUM_FRACTION_DIGITS;lt.push("		<rect ",this._getFillAttributes(ft),' x="',ut(it,ht),'" y="',ut(ot,ht),'" width="',ut(rt,ht),'" height="',ut(st,ht),`"></rect>
`)},_setSVGTextLineBg:function(lt,ft,it,ot){for(var rt=this._textLines[ft],st=this.getHeightOfLine(ft)/this.lineHeight,ht=0,at=0,dt,gt,mt=this.getValueOfPropertyAt(ft,0,"textBackgroundColor"),yt=0,_t=rt.length;yt<_t;yt++)dt=this.__charBounds[ft][yt],gt=this.getValueOfPropertyAt(ft,yt,"textBackgroundColor"),gt!==mt?(mt&&this._pushTextBgRect(lt,mt,it+at,ot,ht,st),at=dt.left,ht=dt.width,mt=gt):ht+=dt.kernedWidth;gt&&this._pushTextBgRect(lt,gt,it+at,ot,ht,st)},_getFillAttributes:function(lt){var ft=lt&&typeof lt=="string"?new _e.Color(lt):"";return!ft||!ft.getSource()||ft.getAlpha()===1?'fill="'+lt+'"':'opacity="'+ft.getAlpha()+'" fill="'+ft.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(lt){for(var ft=0,it=0,ot=0;ot<lt;ot++)ft+=this.getHeightOfLine(ot);return it=this.getHeightOfLine(ot),{lineTop:ft,offset:(this._fontSizeMult-this._fontSizeFraction)*it/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(lt){var ft=_e.Object.prototype.getSvgStyles.call(this,lt);return ft+" white-space: pre;"}})}(),function(ut){var nt=ut.fabric||(ut.fabric={});nt.Textbox=nt.util.createClass(nt.IText,nt.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:nt.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(lt){for(var ft=0,it=0,ot=0,rt={},st=0;st<lt.graphemeLines.length;st++)lt.graphemeText[ot]===`
`&&st>0?(it=0,ot++,ft++):!this.splitByGrapheme&&this._reSpaceAndTab.test(lt.graphemeText[ot])&&st>0&&(it++,ot++),rt[st]={line:ft,offset:it},ot+=lt.graphemeLines[st].length,it+=lt.graphemeLines[st].length;return rt},styleHas:function(lt,ft){if(this._styleMap&&!this.isWrapping){var it=this._styleMap[ft];it&&(ft=it.line)}return nt.Text.prototype.styleHas.call(this,lt,ft)},isEmptyStyles:function(lt){if(!this.styles)return!0;var ft=0,it=lt+1,ot,rt,st=!1,ht=this._styleMap[lt],at=this._styleMap[lt+1];ht&&(lt=ht.line,ft=ht.offset),at&&(it=at.line,st=it===lt,ot=at.offset),rt=typeof lt>"u"?this.styles:{line:this.styles[lt]};for(var dt in rt)for(var gt in rt[dt])if(gt>=ft&&(!st||gt<ot))for(var mt in rt[dt][gt])return!1;return!0},_getStyleDeclaration:function(lt,ft){if(this._styleMap&&!this.isWrapping){var it=this._styleMap[lt];if(!it)return null;lt=it.line,ft=it.offset+ft}return this.callSuper("_getStyleDeclaration",lt,ft)},_setStyleDeclaration:function(lt,ft,it){var ot=this._styleMap[lt];lt=ot.line,ft=ot.offset+ft,this.styles[lt][ft]=it},_deleteStyleDeclaration:function(lt,ft){var it=this._styleMap[lt];lt=it.line,ft=it.offset+ft,delete this.styles[lt][ft]},_getLineStyle:function(lt){var ft=this._styleMap[lt];return!!this.styles[ft.line]},_setLineStyle:function(lt){var ft=this._styleMap[lt];this.styles[ft.line]={}},_wrapText:function(lt,ft){var it=[],ot;for(this.isWrapping=!0,ot=0;ot<lt.length;ot++)it=it.concat(this._wrapLine(lt[ot],ot,ft));return this.isWrapping=!1,it},_measureWord:function(lt,ft,it){var ot=0,rt,st=!0;it=it||0;for(var ht=0,at=lt.length;ht<at;ht++){var dt=this._getGraphemeBox(lt[ht],ft,ht+it,rt,st);ot+=dt.kernedWidth,rt=lt[ht]}return ot},_wrapLine:function(lt,ft,it,Mt){var rt=0,st=this.splitByGrapheme,ht=[],at=[],dt=st?nt.util.string.graphemeSplit(lt):lt.split(this._wordJoiners),gt="",mt=0,yt=st?"":" ",_t=0,wt=0,St=0,Tt=!0,Dt=this._getWidthOfCharSpacing(),Mt=Mt||0;dt.length===0&&dt.push([]),it-=Mt;for(var Ht=0;Ht<dt.length;Ht++)gt=st?dt[Ht]:nt.util.string.graphemeSplit(dt[Ht]),_t=this._measureWord(gt,ft,mt),mt+=gt.length,rt+=wt+_t-Dt,rt>it&&!Tt?(ht.push(at),at=[],rt=_t,Tt=!0):rt+=Dt,!Tt&&!st&&at.push(yt),at=at.concat(gt),wt=st?0:this._measureWord([yt],ft,mt),mt++,Tt=!1,_t>St&&(St=_t);return Ht&&ht.push(at),St+Mt>this.dynamicMinWidth&&(this.dynamicMinWidth=St-Dt+Mt),ht},isEndOfWrapping:function(lt){return!this._styleMap[lt+1]||this._styleMap[lt+1].line!==this._styleMap[lt].line},missingNewlineOffset:function(lt){return this.splitByGrapheme?this.isEndOfWrapping(lt)?1:0:1},_splitTextIntoLines:function(lt){for(var ft=nt.Text.prototype._splitTextIntoLines.call(this,lt),it=this._wrapText(ft.lines,this.width),ot=new Array(it.length),rt=0;rt<it.length;rt++)ot[rt]=it[rt].join("");return ft.lines=ot,ft.graphemeLines=it,ft},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var lt={};for(var ft in this._styleMap)this._textLines[ft]&&(lt[this._styleMap[ft].line]=1);for(var ft in this.styles)lt[ft]||delete this.styles[ft]},toObject:function(lt){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(lt))}}),nt.Textbox.fromObject=function(lt,ft){var it=nt.util.stylesFromArray(lt.styles,lt.text),ot=Object.assign({},lt,{styles:it});return nt.Object._fromObject("Textbox",ot,ft,"text")}}($),function(){var ut=_e.controlsUtils,nt=ut.scaleSkewCursorStyleHandler,lt=ut.scaleCursorStyleHandler,ft=ut.scalingEqually,it=ut.scalingYOrSkewingX,ot=ut.scalingXOrSkewingY,rt=ut.scaleOrSkewActionName,st=_e.Object.prototype.controls;if(st.ml=new _e.Control({x:-.5,y:0,cursorStyleHandler:nt,actionHandler:ot,getActionName:rt}),st.mr=new _e.Control({x:.5,y:0,cursorStyleHandler:nt,actionHandler:ot,getActionName:rt}),st.mb=new _e.Control({x:0,y:.5,cursorStyleHandler:nt,actionHandler:it,getActionName:rt}),st.mt=new _e.Control({x:0,y:-.5,cursorStyleHandler:nt,actionHandler:it,getActionName:rt}),st.tl=new _e.Control({x:-.5,y:-.5,cursorStyleHandler:lt,actionHandler:ft}),st.tr=new _e.Control({x:.5,y:-.5,cursorStyleHandler:lt,actionHandler:ft}),st.bl=new _e.Control({x:-.5,y:.5,cursorStyleHandler:lt,actionHandler:ft}),st.br=new _e.Control({x:.5,y:.5,cursorStyleHandler:lt,actionHandler:ft}),st.mtr=new _e.Control({x:0,y:-.5,actionHandler:ut.rotationWithSnapping,cursorStyleHandler:ut.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),_e.Textbox){var ht=_e.Textbox.prototype.controls={};ht.mtr=st.mtr,ht.tr=st.tr,ht.br=st.br,ht.tl=st.tl,ht.bl=st.bl,ht.mt=st.mt,ht.mb=st.mb,ht.mr=new _e.Control({x:.5,y:0,actionHandler:ut.changeWidth,cursorStyleHandler:nt,actionName:"resizing"}),ht.ml=new _e.Control({x:-.5,y:0,actionHandler:ut.changeWidth,cursorStyleHandler:nt,actionName:"resizing"})}}()})(fabric);const ctx$1=new fabric.fabric.Canvas("myCanvas"),MyCanvas=()=>{const[$,_e]=react.exports.useState(ctx$1),[et,tt]=react.exports.useState(!1),{orientation:ct}=useAppSelector(ot=>ot.uiSlice),pt=useAppDispatch(),{canvasList:vt,timeOptions:ut,activeCanvas:nt,gameStatus:lt,isCanvasLoading:ft}=useAppSelector(ot=>ot.gameSlice),it=()=>{const ot=new fabric.fabric.Canvas("myCanvas",{width:ct=="landscape-primary"?window.innerWidth/2:window.innerWidth,height:ct=="landscape-primary"?window.innerHeight:window.innerHeight/2,isDrawingMode:lt==="playing",renderOnAddRemove:!0});let rt=new fabric.fabric.PencilBrush(ot);rt.initialize(ot),ot.freeDrawingBrush=rt,fabric.fabric.Object.prototype.selectable=!1,_e(ot),tt(!0)};return react.exports.useEffect(()=>{et?($.setDimensions({width:ct=="landscape-primary"?window.innerWidth/2:window.innerWidth,height:ct=="landscape-primary"?window.innerHeight:window.innerHeight/2}),lt==="playing"?$.isDrawingMode=!0:$.isDrawingMode=!1):it()},[ct,lt,et]),react.exports.useEffect(()=>{if(et){try{$.__eventListeners["object:added"]=[]}catch{console.log("error -> object:added")}$.on("object:added",ot=>{ft||pt(gameActions.setCanvasJson($.toJSON()))})}},[et,ft,nt]),react.exports.useEffect(()=>{if(et){const ot=vt[nt].canvasJson;$.loadFromJSON(ot,()=>{})}},[nt,et]),react.exports.useEffect(()=>{console.log("test canvas")},[]),jsx("canvas",{id:"myCanvas"})},Index$2=()=>{const{gameSlice:$}=useAppSelector(rt=>rt),{canvasList:_e,timeOptions:et,activeCanvas:tt,timeRemaining:ct,gameStatus:pt,id:vt}=$,[ut,nt]=react.exports.useState(!1),lt=useAppDispatch(),ft=useNavigate();var it;react.exports.useEffect(()=>(pt=="playing"?it=setInterval(()=>{ct>0?lt(gameActions.decreaseTime()):(lt(gameActions.setGameStatus("finished")),clearInterval(it))},1e3):it&&clearInterval(it),()=>clearInterval(it)),[ct,pt]),react.exports.useEffect(()=>(window.onbeforeunload=null,window.onbeforeunload=function(){return"You have unsaved changes!"},()=>{window.onbeforeunload=null}),[$]),react.exports.useEffect(()=>{setTimeout(()=>{lt(gameActions.setGameStatus("playing"))},500)},[]);const ot=()=>jsx("div",{className:"overflow-y-auto overflow-x-hidden  h-96 w-full",children:_e.map((rt,st)=>jsxs("div",{className:"orientation m-4 h-64",children:[jsxs("div",{className:"bg-green-400 m-1",children:["Image ",rt.image.name," "]}),jsxs("div",{className:"bg-gray-400 m-1",children:[" Canvas ",rt.image.id," "]})]},st))});return jsxs(Fragment,{children:[jsxs("div",{className:"h-screen w-screen orientation",children:[jsxs("div",{className:"flex-r-b bg-gray-200 relative side",children:[jsx(GrPrevious,{onClick:()=>lt(gameActions.setActiveCanvas(tt>0?tt-1:0)),className:"p-3 bg-gray-400 active:bg-gray-300",size:40}),jsx("img",{src:_e[tt].image.thumbnailLink,referrerPolicy:"no-referrer",className:"landscape:w-full portrait:h-full object-cover"}),jsx("div",{className:"h-full flex-c-c relative",children:jsx(GrNext,{onClick:()=>lt(gameActions.setActiveCanvas(tt<_e.length-1?tt+1:tt)),className:"p-3 bg-gray-400 active:bg-gray-300",size:40})})]}),jsx("div",{className:"border-2 border-black side",children:jsx(MyCanvas,{})})]}),jsxs("div",{className:"flex-r-b absolute top-3 -left-2 py-3 bg-black opacity-40 text-white rounded-lg z-50",children:[jsx("div",{className:"mr-5 ml-3",children:jsxs("h2",{children:[" Drawing ",tt+1]})}),jsxs("div",{className:"flex-r-b pr-6",children:[jsx("b",{className:"mx-4",children:new Date(ct*1e3).toISOString().substring(14,19)}),pt=="paused"||pt=="idle"?jsx(HiPlay,{onClick:()=>lt(gameActions.setGameStatus("playing")),size:20,color:"green"}):pt=="playing"?jsx(HiPause,{onClick:()=>lt(gameActions.setGameStatus("paused")),size:20,color:"orange"}):pt=="finished"?jsx(TbReportAnalytics,{size:20,className:"text-blue-400"}):null]}),pt=="finished"&&jsx("div",{className:"absolute top-20 left-0 h-7  bg-black px-10 py-3 flex-r-c",children:jsx("button",{onClick:()=>ft("/result"),children:"View Report"})})]}),ut&&jsx(Modal,{body:jsx(ot,{}),header:"Result",isShow:ut,setShow:nt,actions:jsx("button",{className:"btn btn-primary",children:"Generate PDF"})})]})},Modal=({header:$,body:_e,actions:et,isShow:tt,setShow:ct})=>jsx("div",{id:"defaultModal",className:"fixed top-0 flex justify-center  left-0 right-0 z-50 p-4 w-screen overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full",children:jsx("div",{className:"relative w-full h-full max-w-2xl md:h-auto",children:jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[jsxs("div",{className:"flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600",children:[jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:$}),jsxs("button",{onClick:()=>ct(!1),type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"defaultModal",children:[jsx("svg",{"aria-hidden":"true",className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),jsx("span",{className:"sr-only",children:"Close modal"})]})]}),jsx("div",{className:"flex items-center mx-5",style:{minHeight:"300px"},children:_e}),jsx("div",{className:"bg-gray-300 w-full my-2",style:{height:1}}),jsx("div",{className:"mx-4",children:et})]})})});function IoMdAdd($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 277.333H277.333V416h-42.666V277.333H96v-42.666h138.667V96h42.666v138.667H416v42.666z"}}]})($)}function IoMdRemove($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M96 235h320v42H96z"}}]})($)}function RiDeleteBinLine($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-9 3h2v6H9v-6zm4 0h2v6h-2v-6zM9 4v2h6V4H9z"}}]}]})($)}function shuffle($){let _e=$.length,et;for(;_e!=0;)et=Math.floor(Math.random()*_e),_e--,[$[_e],$[et]]=[$[et],$[_e]];return $}const timeDefaults=[{label:"1 minute",value:60},{label:"2 minutes",value:120},{label:"3 minutes",value:180},{label:"4 minutes",value:240},{label:"5 minutes",value:500},{label:"6 minutes",value:360},{label:"7 minutes",value:420},{label:"8 minutes",value:480},{label:"9 minutes",value:540},{label:"10 minutes",value:600},{label:"11 minutes",value:660},{label:"12 minutes",value:720},{label:"13 minutes",value:780},{label:"14 minutes",value:840},{label:"15 minutes",value:900}],Dropdown=()=>{const[$,_e]=react.exports.useState(!1),{category:et}=useAppSelector(ut=>ut.gameSlice),tt=useAppDispatch(),[ct,pt]=react.exports.useState(null);React.useState(!1),react.exports.useEffect(()=>{vt()},[]);const vt=async()=>{console.log("fetching categories");const ut=await fetch("https://motionlayer-beta.theartpeople.com.sg/api/category").then(nt=>nt.json()).catch(nt=>(console.error("Error : ",nt),[]));console.log({response:ut}),pt(ut)};return ct?jsxs("div",{children:[jsxs("button",{onClick:()=>_e(!$),"data-dropdown-toggle":"dropdown",className:"w-28 flex-r-b  click-bounce text-white bg-primary focus:ring-4 focus:outline-none focus:ring-secondary font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center",type:"button",children:[et.title,jsx("svg",{className:"w-4 h-4 ml-2","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})})]}),jsx("div",{id:"dropdown",className:`z-10 ${$?"block":"hidden"} absolute bg-white divide-y divide-gray-100 rounded-lg shadow w-28 dark:bg-gray-700`,children:jsxs("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200",children:[jsx("li",{onClick:()=>{tt(gameActions.setCategory({title:"All",id:""})),_e(!1)},children:jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:"All"})}),ct.map((ut,nt)=>jsx("li",{onClick:()=>{tt(gameActions.setCategory({title:ut.name,id:ut.drive_id})),_e(!1)},children:jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:ut.name})},ut.id))]})})]}):null},Menu=()=>jsxs("div",{className:"bg-neutral sm:px-0  flex-r-b rounded-bl-3xl rounded-br-3xl h-16 fixed w-full z-50",children:[jsx("div",{className:"w-full px-5 sm:px-2",children:jsx("button",{className:"btn btn-ghost btn-lg normal-case px-20 text-accent",children:"DrawRoulette"})}),jsx("div",{className:"",children:jsx(CustomDropdown,{})})]}),CustomDropdown=()=>{const[$,_e]=React.useState(!1),{theme:et}=useAppSelector(pt=>pt.uiSlice),tt=["light","dark","cupcake","bumblebee","emerald","synthwave","retro","cyberpunk","valentine","halloween","garden","aqua","lofi","fantasy","dracula","cmyk","autumn","lemonade","coffee"],ct=useAppDispatch();return jsxs("div",{className:"flex justify-end px-5 sm:px-2",children:[jsxs("button",{onClick:()=>_e(!$),"data-dropdown-toggle":"dropdown",className:"click-bounce text-white bg-primary focus:ring-4 focus:outline-none focus:ring-secondary font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center",type:"button",children:[et,jsx("svg",{className:"w-4 h-4 ml-2","aria-hidden":"true",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})})]}),jsx("div",{id:"dropdown",className:`z-10 ${$?"block":"hidden"} -ml-2  absolute bg-neutral divide-y divide-gray-100 rounded-lg shadow w-36 dark:bg-gray-700`,children:jsx("ul",{className:"py-2 text-sm  text-white font-bold font-sans  dark:text-gray-200 max-h-96 overflow-auto myoverflow",children:tt.map(pt=>jsx("li",{onClick:()=>{ct(uiActions.setTheme(pt)),localStorage.setItem("theme",pt),_e(!1)},children:jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white m-1 rounded-md hover:text-black",children:pt})}))})})]})},Index$1=()=>{const[$,_e]=react.exports.useState(0),[et,tt]=react.exports.useState(3),[ct,pt]=react.exports.useState(""),[vt,ut]=react.exports.useState(!0),[nt,lt]=react.exports.useState([]),ft=useAppDispatch(),it=useNavigate(),{category:ot}=useAppSelector(at=>at.gameSlice),{theme:rt}=useAppSelector(at=>at.uiSlice);react.exports.useEffect(()=>{st()},[ot]);const st=async()=>{ut(!0);const at=await fetch(`https://motionlayer-beta.theartpeople.com.sg/api/photos?id=${ot.id}`).then(dt=>dt.json()).catch(dt=>(console.error("Error : ",dt),[]));lt(shuffle(at)),ut(!1)},ht=()=>{const at=nt.slice(0,et).map((dt,gt)=>({canvasJson:{version:"5.2.4",objects:[],canvasIndex:gt},isPainted:!1,image:dt,history:{isLocked:!0,redo:[],undo:[]}}));ft(gameActions.startGame({timeOption:timeDefaults[$],canvasList:at,name:ct})),it("/gameplay")};return jsxs("div",{"data-theme":rt,children:[jsx(Menu,{}),jsxs("div",{className:"min-h-screen w-full flex flex-col justify-between py-3 px-5 items-center pt-20",children:[jsxs("div",{className:"w-full flex-c-c",children:[jsx("div",{className:" text-white w-1/2 flex-r-c",children:jsxs("div",{className:"flex",children:[jsx("button",{className:"p-3 bg-primary text-base-100 text-lg rounded-tl-2xl rounded-bl-2xl click-bounce",onClick:()=>{_e($>0?$-1:0)},children:jsx(IoMdRemove,{})}),jsx("div",{className:" mx-1 py-3 w-28 text-center bg-primary text-base-100 text-lg",children:timeDefaults[$].label}),jsx("button",{className:"p-3 bg-primary text-base-100 text-lg rounded-tr-2xl rounded-br-2xl click-bounce",onClick:()=>{_e($<timeDefaults.length-1?$+1:timeDefaults.length-1)},children:jsx(IoMdAdd,{})})]})}),jsx("h1",{className:"text-center my-4 text-2xl font-bold",children:"Timer"}),jsx("div",{className:"w-full flex justify-end sm:pr-0 md:pr-0 lg:pr-0 ",children:jsx(Dropdown,{})})]}),jsx("div",{children:nt.length==0||vt?jsx("div",{className:"flex-c-c",children:jsx("div",{className:"loader loader--circularSquare"})}):jsxs("div",{className:"flex flex-wrap self-center items-center",children:[nt.slice(0,et).map((at,dt)=>jsxs("div",{className:"m-2 relative",children:[dt+1===et&&jsx(RiDeleteBinLine,{onClick:()=>tt(et>1?et-1:1),className:"absolute top-1 right-1 active:text-blue-500 cursor-pointer",size:20}),jsx("img",{src:at.thumbnailLink,alt:at.name,className:"",style:{width:"16vw",height:"16vw"},referrerPolicy:"no-referrer"})]},dt)),jsx("div",{onTouchEnd:()=>{tt(et<6?et+1:6)},onClick:()=>{tt(et<6?et+1:6)},className:"flex-r-c bg-gray-400 rounded hover:bg-gray-200 cursor-pointer active:bg-blue-400",style:{width:"16vw",height:"16vw"},children:jsx(IoMdAdd,{size:40})})]})}),jsxs("div",{className:"self-end flex justify-end",children:[jsx("button",{onClick:()=>{ut(!0);const at=shuffle(nt);setTimeout(()=>{lt([...at]),ut(!1)},1350)},"data-modal-toggle":"defaultModal",type:"button",className:"btn btn-secondary ",children:"Shuffle"}),jsx("div",{className:"sm:mx-0.5 mx-2",children:jsx("button",{onClick:ht,className:"btn btn-primary",children:"Start Game"})}),jsx("button",{onClick:()=>it("/print",{state:{googleImages:nt.slice(0,et),time:timeDefaults[$].label,title:ct}}),className:"btn btn-primary sm:ml-1 md:ml-1 lg:ml-3 mx-0.5",children:"Print"})]})]})]})};function BsPrinter($){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1z"}},{tag:"path",attr:{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2H5zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4V3zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2H5zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1z"}}]})($)}const ctx=new fabric.fabric.Canvas("myCanvas"),Canvas=({json:$,id:_e})=>{const[et,tt]=react.exports.useState(ctx),[ct,pt]=react.exports.useState(!1),{orientation:vt}=useAppSelector(ut=>ut.uiSlice);return react.exports.useEffect(()=>{const ut=new fabric.fabric.Canvas(_e,{width:vt=="landscape-primary"?window.innerWidth/2:window.innerWidth,height:vt=="landscape-primary"?window.innerHeight:window.innerHeight/2,isDrawingMode:!1,renderOnAddRemove:!0});fabric.fabric.Object.prototype.selectable=!1,tt(ut),pt(!0)},[]),react.exports.useEffect(()=>{et.setDimensions({width:vt=="landscape-primary"?window.innerWidth/2:window.innerWidth,height:vt=="landscape-primary"?window.innerHeight:window.innerHeight/2})},[vt]),react.exports.useEffect(()=>{ct&&et.loadFromJSON($,()=>{})},[ct]),jsx("div",{children:jsx("canvas",{id:_e})})},Index=()=>{const{canvasList:$}=useAppSelector(_e=>_e.gameSlice);return React.useEffect(()=>{console.log($)},[]),jsxs(Fragment,{children:[jsxs("div",{className:"fixed top-0 left-0 right-0 z-50  bg-slate-300 w-full flex-r-b p-2",children:[jsx("h1",{children:"Result"}),jsx("div",{children:jsx(BsPrinter,{onClick:()=>window.print(),className:"mx-5 cursor-pointer",size:20})})]}),$.map((_e,et)=>jsxs("div",{className:"h-screen w-screen orientation mb-4",children:[jsx("div",{className:"flex-r-c bg-gray-200 relative side",children:jsx("img",{src:_e.image.thumbnailLink,referrerPolicy:"no-referrer",className:"landscape:w-full portrait:h-full object-cover"})}),jsx("div",{className:" border-black side",children:jsx(Canvas,{json:_e.canvasJson,id:`myCanvas-${et}`})}),jsx("div",{className:"pagebreak"})]},et))]})},PrintView=()=>{useAppSelector(et=>et.gameSlice);const $=useLocation(),_e=({image:et})=>jsx("div",{className:" border border-black m-0.5",children:jsx("img",{src:et,style:{maxWidth:"10vw",maxHeight:"10vw",minWidth:"73px",minHeight:"73px"}})});return $.state?jsxs("div",{className:"h-screen w-full",children:[jsxs("div",{className:"h-1/4 border border-black w-full flex flex-col justify-center items-center sm:px-0 md:px-0 lg:px-10 xl:px-16",children:[jsx("div",{className:"w-full  lg:w-2/3 xl:w-2/3",children:jsxs("h1",{className:"text-left",children:["Time : ",$.state.time]})}),jsx("div",{className:" border-black flex w-full  lg:w-2/3 xl:w-2/3 justify-start flex-wrap p-0.5",children:$.state.googleImages.map(et=>jsx(_e,{image:et.thumbnailLink},et==null?void 0:et.id))})]}),jsxs("div",{className:"h-3/4  w-full flex flex-col justify-between  border-black px-10",children:[jsx("div",{className:"w-full flex justify-center h-full",children:jsx("div",{className:"bg-white w-1/2 portrait:w-full h-4/5 border-black mt-10"})}),jsx("div",{className:"w-full flex justify-end",children:jsx("button",{className:"button no-print-view m-4",onClick:()=>window.print(),children:"Print"})})]})]}):jsx("div",{className:"min-h-screen",children:jsx("h1",{children:"No images are selected"})})};function AiOutlineCloseCircle($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attr:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]})($)}function AiOutlineDelete($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]})($)}function AiOutlineEdit($){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]})($)}const CategoryPage=()=>{const[$,_e]=react.exports.useState(""),[et,tt]=react.exports.useState(""),[ct,pt]=react.exports.useState(""),[vt,ut]=react.exports.useState(!0),[nt,lt]=react.exports.useState([]),ft=react.exports.useRef(null),it=react.exports.useRef(null),ot=react.exports.useRef(null);react.exports.useEffect(()=>{rt()},[]);const rt=async()=>{const _t=await fetch("https://motionlayer-beta.theartpeople.com.sg/api/category").then(wt=>wt.json());ut(!1),lt(_t)},st=()=>{var _t;_e(""),tt(""),pt(""),(_t=ft.current)==null||_t.showModal()},ht=_t=>{var wt;_e(_t.name),tt(_t.drive_id),pt(_t.id),(wt=it.current)==null||wt.showModal()},at=_t=>{var wt;pt(_t),(wt=ot.current)==null||wt.showModal()},dt=async()=>{var wt;const _t=new FormData;_t.append("name",$),_t.append("drive_id",et),await fetch("https://motionlayer-beta.theartpeople.com.sg/api/category",{method:"POST",body:_t}).then(St=>St.json()),rt(),(wt=ft.current)==null||wt.close()},gt=async()=>{var _t;await fetch(`https://motionlayer-beta.theartpeople.com.sg/api/category/${ct}`,{method:"Delete"}).then(wt=>wt.json()),rt(),(_t=ot.current)==null||_t.close()},mt=async()=>{var _t;await fetch(`https://motionlayer-beta.theartpeople.com.sg/api/category/${ct}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:$,drive_id:et})}).then(wt=>wt.json()),rt(),(_t=it.current)==null||_t.close()},yt=({category:_t})=>jsxs("div",{className:"shadow-md m-2 py-5 w-1/2 hover:shadow-xl bg-gray-500 px-10 flex justify-between items-center",children:[jsxs("div",{className:"",children:[_t.name,jsx("h3",{children:_t.drive_id})]}),jsxs("div",{className:"flex",children:[jsx("span",{onClick:wt=>ht(_t),className:"mx-3 cursor-pointer",children:jsx(AiOutlineEdit,{})}),jsx("span",{onClick:()=>at(_t.id),className:"cursor-pointer",children:jsx(AiOutlineDelete,{})})]})]});return jsxs("div",{children:[jsxs("dialog",{className:"w-1/2 transition-all delay-200 border-none",ref:ft,children:[jsxs("div",{className:"flex justify-between items-center",children:[jsx("p",{className:"text-sm",children:"Add New Category"}),jsx("span",{className:"hover:text-red-500 cursor-pointer",onClick:()=>{var _t;return(_t=ft.current)==null?void 0:_t.close()},children:jsx(AiOutlineCloseCircle,{})})]}),jsxs("div",{className:"py-10 w-full",children:[jsx("h4",{className:"my-2",children:"Category"}),jsx("input",{type:"text",className:"input",placeholder:"Name",value:$,onChange:_t=>_e(_t.target.value)}),jsx("input",{type:"text",className:"input my-3 mx-2",placeholder:"Google Drive ID",value:et,onChange:_t=>tt(_t.target.value)}),jsx("div",{className:"flex justify-end w-full",children:jsx("button",{className:"btn btn-primary",onClick:dt,children:"Save"})})]})]}),jsxs("dialog",{className:"w-1/2 transition-all delay-200 border-none",ref:it,children:[jsxs("div",{className:"flex justify-between items-center",children:[jsx("p",{className:"text-sm",children:"Edit Category"}),jsx("span",{className:"hover:text-red-500 cursor-pointer",onClick:_t=>{var wt;return(wt=it.current)==null?void 0:wt.close()},children:jsx(AiOutlineCloseCircle,{})})]}),jsxs("div",{className:"py-10 w-full ",children:[jsx("h4",{className:"my-2",children:"Category"}),jsx("input",{type:"text",className:"input",placeholder:"Name",value:$,onChange:_t=>_e(_t.target.value)}),jsx("input",{type:"text",className:"input my-3 mx-2",placeholder:"Google Drive ID",value:et,onChange:_t=>tt(_t.target.value)}),jsx("div",{className:"flex justify-end w-full",children:jsx("button",{className:"btn btn-primary",onClick:mt,children:"Save"})})]})]}),jsxs("dialog",{className:"w-1/2 transition-all delay-200 border-none",ref:ot,children:[jsxs("div",{className:"flex justify-between items-center",children:[jsx("p",{className:"text-sm",children:"Delete Category"}),jsx("span",{className:"hover:text-red-500 cursor-pointer",onClick:_t=>{var wt;return(wt=ot.current)==null?void 0:wt.close()},children:jsx(AiOutlineCloseCircle,{})})]}),jsxs("div",{className:"py-10 w-full",children:[jsx("h4",{className:"my-2",children:"Do you really want to delete category"}),jsxs("div",{className:"flex justify-end",children:[jsx("button",{className:"btn btn-default",onClick:_t=>{var wt;return(wt=ot.current)==null?void 0:wt.close()},children:"No"}),jsx("button",{className:"btn btn-warning mx-1",onClick:gt,children:"Yes"})]})]})]}),jsx("h1",{className:"my-5 text-lg font-normal",children:"Draw Roulette Category Management"}),jsx("div",{className:"w-1/2 flex flex-row justify-between",children:jsx("h1",{className:"font-sans text-2xl font-semibold",children:"Categories"})}),vt?jsx("div",{children:"Loading..."}):nt.map(_t=>jsx(yt,{category:_t},_t.id)),jsx("div",{children:jsx("button",{className:"btn btn-primary m-0",onClick:st,children:"Add New"})})]})},AppRoutes=()=>{const $=useAppDispatch();return react.exports.useEffect(()=>{$(uiActions.setTheme(localStorage.getItem("theme")??"light"))},[]),jsx(BrowserRouter,{children:jsxs(Routes,{children:[jsx(Route,{path:"/",element:jsx(Index$1,{})}),jsx(Route,{path:"/login",element:jsx(LoginPage,{})}),jsx(Route,{path:"/authorize",element:jsx(Index$3,{})}),jsx(Route,{path:"/callback",element:jsx(Callback,{})}),jsx(Route,{path:"/auth",element:jsx(GoogleLogin,{})}),jsx(Route,{path:"/oauth",element:jsx(OAuth,{})}),jsx(Route,{path:"/gameplay",element:jsx(Index$2,{})}),jsx(Route,{path:"/newgame",element:jsx(Index$1,{})}),jsx(Route,{path:"/category",element:jsx(CategoryPage,{})}),jsx(Route,{path:"/result",element:jsx(Index,{})}),jsx(Route,{path:"/print",element:jsx(PrintView,{})})]})})},Wrapper=()=>{const $=useAppDispatch();return react.exports.useEffect(()=>{window.matchMedia("(orientation: portrait)").addEventListener("change",function(et){et.matches?$(uiActions.setPortrait("portrait-primary")):$(uiActions.setPortrait("landscape-primary"))})},[]),jsx(AppRoutes,{})};client.createRoot(document.getElementById("root")).render(jsx(Fragment,{children:jsx(Provider,{store,children:jsx(Wrapper,{})})}));
